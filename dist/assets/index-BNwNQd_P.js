(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function HT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fp={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function TC(){if(pE)return bu;pE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var m in s)m!=="key"&&(l[m]=s[m])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return bu.Fragment=e,bu.jsx=t,bu.jsxs=t,bu}var gE;function wC(){return gE||(gE=1,fp.exports=TC()),fp.exports}var _=wC(),dp={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function SC(){if(yE)return Pe;yE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,O={};function D(R,z,ee){this.props=R,this.context=z,this.refs=O,this.updater=ee||A}D.prototype.isReactComponent={},D.prototype.setState=function(R,z){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,z,"setState")},D.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function q(){}q.prototype=D.prototype;function X(R,z,ee){this.props=R,this.context=z,this.refs=O,this.updater=ee||A}var F=X.prototype=new q;F.constructor=X,I(F,D.prototype),F.isPureReactComponent=!0;var re=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function V(R,z,ee,Y,ue,fe){return ee=fe.ref,{$$typeof:n,type:R,key:z,ref:ee!==void 0?ee:null,props:fe}}function x(R,z){return V(R.type,z,void 0,void 0,void 0,R.props)}function N(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function k(R){var z={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ee){return z[ee]})}var L=/\/+/g;function B(R,z){return typeof R=="object"&&R!==null&&R.key!=null?k(""+R.key):z.toString(36)}function P(){}function Ke(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(P,P):(R.status="pending",R.then(function(z){R.status==="pending"&&(R.status="fulfilled",R.value=z)},function(z){R.status==="pending"&&(R.status="rejected",R.reason=z)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function at(R,z,ee,Y,ue){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var pe=!1;if(R===null)pe=!0;else switch(fe){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(R.$$typeof){case n:case e:pe=!0;break;case y:return pe=R._init,at(pe(R._payload),z,ee,Y,ue)}}if(pe)return ue=ue(R),pe=Y===""?"."+B(R,0):Y,re(ue)?(ee="",pe!=null&&(ee=pe.replace(L,"$&/")+"/"),at(ue,z,ee,"",function(nt){return nt})):ue!=null&&(N(ue)&&(ue=x(ue,ee+(ue.key==null||R&&R.key===ue.key?"":(""+ue.key).replace(L,"$&/")+"/")+pe)),z.push(ue)),1;pe=0;var Be=Y===""?".":Y+":";if(re(R))for(var Te=0;Te<R.length;Te++)Y=R[Te],fe=Be+B(Y,Te),pe+=at(Y,z,ee,fe,ue);else if(Te=b(R),typeof Te=="function")for(R=Te.call(R),Te=0;!(Y=R.next()).done;)Y=Y.value,fe=Be+B(Y,Te++),pe+=at(Y,z,ee,fe,ue);else if(fe==="object"){if(typeof R.then=="function")return at(Ke(R),z,ee,Y,ue);throw z=String(R),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(R,z,ee){if(R==null)return R;var Y=[],ue=0;return at(R,Y,"","",function(fe){return z.call(ee,fe,ue++)}),Y}function ce(R){if(R._status===-1){var z=R._result;z=z(),z.then(function(ee){(R._status===0||R._status===-1)&&(R._status=1,R._result=ee)},function(ee){(R._status===0||R._status===-1)&&(R._status=2,R._result=ee)}),R._status===-1&&(R._status=0,R._result=z)}if(R._status===1)return R._result.default;throw R._result}var _e=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Q(){}return Pe.Children={map:J,forEach:function(R,z,ee){J(R,function(){z.apply(this,arguments)},ee)},count:function(R){var z=0;return J(R,function(){z++}),z},toArray:function(R){return J(R,function(z){return z})||[]},only:function(R){if(!N(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Pe.Component=D,Pe.Fragment=t,Pe.Profiler=s,Pe.PureComponent=X,Pe.StrictMode=i,Pe.Suspense=d,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return le.H.useMemoCache(R)}},Pe.cache=function(R){return function(){return R.apply(null,arguments)}},Pe.cloneElement=function(R,z,ee){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Y=I({},R.props),ue=R.key,fe=void 0;if(z!=null)for(pe in z.ref!==void 0&&(fe=void 0),z.key!==void 0&&(ue=""+z.key),z)!me.call(z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&z.ref===void 0||(Y[pe]=z[pe]);var pe=arguments.length-2;if(pe===1)Y.children=ee;else if(1<pe){for(var Be=Array(pe),Te=0;Te<pe;Te++)Be[Te]=arguments[Te+2];Y.children=Be}return V(R.type,ue,void 0,void 0,fe,Y)},Pe.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Pe.createElement=function(R,z,ee){var Y,ue={},fe=null;if(z!=null)for(Y in z.key!==void 0&&(fe=""+z.key),z)me.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ue[Y]=z[Y]);var pe=arguments.length-2;if(pe===1)ue.children=ee;else if(1<pe){for(var Be=Array(pe),Te=0;Te<pe;Te++)Be[Te]=arguments[Te+2];ue.children=Be}if(R&&R.defaultProps)for(Y in pe=R.defaultProps,pe)ue[Y]===void 0&&(ue[Y]=pe[Y]);return V(R,fe,void 0,void 0,null,ue)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(R){return{$$typeof:m,render:R}},Pe.isValidElement=N,Pe.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:ce}},Pe.memo=function(R,z){return{$$typeof:p,type:R,compare:z===void 0?null:z}},Pe.startTransition=function(R){var z=le.T,ee={};le.T=ee;try{var Y=R(),ue=le.S;ue!==null&&ue(ee,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Q,_e)}catch(fe){_e(fe)}finally{le.T=z}},Pe.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Pe.use=function(R){return le.H.use(R)},Pe.useActionState=function(R,z,ee){return le.H.useActionState(R,z,ee)},Pe.useCallback=function(R,z){return le.H.useCallback(R,z)},Pe.useContext=function(R){return le.H.useContext(R)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(R,z){return le.H.useDeferredValue(R,z)},Pe.useEffect=function(R,z,ee){var Y=le.H;if(typeof ee=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(R,z)},Pe.useId=function(){return le.H.useId()},Pe.useImperativeHandle=function(R,z,ee){return le.H.useImperativeHandle(R,z,ee)},Pe.useInsertionEffect=function(R,z){return le.H.useInsertionEffect(R,z)},Pe.useLayoutEffect=function(R,z){return le.H.useLayoutEffect(R,z)},Pe.useMemo=function(R,z){return le.H.useMemo(R,z)},Pe.useOptimistic=function(R,z){return le.H.useOptimistic(R,z)},Pe.useReducer=function(R,z,ee){return le.H.useReducer(R,z,ee)},Pe.useRef=function(R){return le.H.useRef(R)},Pe.useState=function(R){return le.H.useState(R)},Pe.useSyncExternalStore=function(R,z,ee){return le.H.useSyncExternalStore(R,z,ee)},Pe.useTransition=function(){return le.H.useTransition()},Pe.version="19.1.0",Pe}var vE;function Of(){return vE||(vE=1,dp.exports=SC()),dp.exports}var j=Of();const ft=HT(j);var mp={exports:{}},Tu={},pp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function AC(){return _E||(_E=1,function(n){function e(J,ce){var _e=J.length;J.push(ce);e:for(;0<_e;){var Q=_e-1>>>1,R=J[Q];if(0<s(R,ce))J[Q]=ce,J[_e]=R,_e=Q;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ce=J[0],_e=J.pop();if(_e!==ce){J[0]=_e;e:for(var Q=0,R=J.length,z=R>>>1;Q<z;){var ee=2*(Q+1)-1,Y=J[ee],ue=ee+1,fe=J[ue];if(0>s(Y,_e))ue<R&&0>s(fe,Y)?(J[Q]=fe,J[ue]=_e,Q=ue):(J[Q]=Y,J[ee]=_e,Q=ee);else if(ue<R&&0>s(fe,_e))J[Q]=fe,J[ue]=_e,Q=ue;else break e}}return ce}function s(J,ce){var _e=J.sortIndex-ce.sortIndex;return _e!==0?_e:J.id-ce.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var d=[],p=[],y=1,E=null,b=3,A=!1,I=!1,O=!1,D=!1,q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function re(J){for(var ce=t(p);ce!==null;){if(ce.callback===null)i(p);else if(ce.startTime<=J)i(p),ce.sortIndex=ce.expirationTime,e(d,ce);else break;ce=t(p)}}function le(J){if(O=!1,re(J),!I)if(t(d)!==null)I=!0,me||(me=!0,B());else{var ce=t(p);ce!==null&&at(le,ce.startTime-J)}}var me=!1,V=-1,x=5,N=-1;function k(){return D?!0:!(n.unstable_now()-N<x)}function L(){if(D=!1,me){var J=n.unstable_now();N=J;var ce=!0;try{e:{I=!1,O&&(O=!1,X(V),V=-1),A=!0;var _e=b;try{t:{for(re(J),E=t(d);E!==null&&!(E.expirationTime>J&&k());){var Q=E.callback;if(typeof Q=="function"){E.callback=null,b=E.priorityLevel;var R=Q(E.expirationTime<=J);if(J=n.unstable_now(),typeof R=="function"){E.callback=R,re(J),ce=!0;break t}E===t(d)&&i(d),re(J)}else i(d);E=t(d)}if(E!==null)ce=!0;else{var z=t(p);z!==null&&at(le,z.startTime-J),ce=!1}}break e}finally{E=null,b=_e,A=!1}ce=void 0}}finally{ce?B():me=!1}}}var B;if(typeof F=="function")B=function(){F(L)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Ke=P.port2;P.port1.onmessage=L,B=function(){Ke.postMessage(null)}}else B=function(){q(L,0)};function at(J,ce){V=q(function(){J(n.unstable_now())},ce)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(J){switch(b){case 1:case 2:case 3:var ce=3;break;default:ce=b}var _e=b;b=ce;try{return J()}finally{b=_e}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=b;b=J;try{return ce()}finally{b=_e}},n.unstable_scheduleCallback=function(J,ce,_e){var Q=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Q+_e:Q):_e=Q,J){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=_e+R,J={id:y++,callback:ce,priorityLevel:J,startTime:_e,expirationTime:R,sortIndex:-1},_e>Q?(J.sortIndex=_e,e(p,J),t(d)===null&&J===t(p)&&(O?(X(V),V=-1):O=!0,at(le,_e-Q))):(J.sortIndex=R,e(d,J),I||A||(I=!0,me||(me=!0,B()))),J},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(J){var ce=b;return function(){var _e=b;b=ce;try{return J.apply(this,arguments)}finally{b=_e}}}}(gp)),gp}var EE;function RC(){return EE||(EE=1,pp.exports=AC()),pp.exports}var yp={exports:{}},On={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function CC(){if(bE)return On;bE=1;var n=Of();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:d,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return On.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,On.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},On.flushSync=function(d){var p=c.T,y=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=p,i.p=y,i.d.f()}},On.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},On.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},On.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,E=m(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:b,fetchPriority:A}):y==="script"&&i.d.X(d,{crossOrigin:E,integrity:b,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},On.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(d)},On.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=m(y,p.crossOrigin);i.d.L(d,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},On.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=m(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},On.requestFormReset=function(d){i.d.r(d)},On.unstable_batchedUpdates=function(d,p){return d(p)},On.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},On.useFormStatus=function(){return c.H.useHostTransitionStatus()},On.version="19.1.0",On}var TE;function IC(){if(TE)return yp.exports;TE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yp.exports=CC(),yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function xC(){if(wE)return Tu;wE=1;var n=RC(),e=Of(),t=IC();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),r;if(g===u)return m(f),a;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=g;else{for(var w=!1,S=f.child;S;){if(S===o){w=!0,o=f,u=g;break}if(S===u){w=!0,u=f,o=g;break}S=S.sibling}if(!w){for(S=g.child;S;){if(S===o){w=!0,o=g,u=f;break}if(S===u){w=!0,u=g,o=f;break}S=S.sibling}if(!w)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function p(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=p(r),a!==null)return a;r=r.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),F=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function Ke(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case le:return"Suspense";case me:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case F:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case re:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return a=r.displayName||null,a!==null?a:Ke(r.type)||"Memo";case x:a=r._payload,r=r._init;try{return Ke(r(a))}catch{}}return null}var at=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Q=[],R=-1;function z(r){return{current:r}}function ee(r){0>R||(r.current=Q[R],Q[R]=null,R--)}function Y(r,a){R++,Q[R]=r.current,r.current=a}var ue=z(null),fe=z(null),pe=z(null),Be=z(null);function Te(r,a){switch(Y(pe,a),Y(fe,r),Y(ue,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?H0(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=H0(a),r=F0(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(ue),Y(ue,r)}function nt(){ee(ue),ee(fe),ee(pe)}function Vt(r){r.memoizedState!==null&&Y(Be,r);var a=ue.current,o=F0(a,r.type);a!==o&&(Y(fe,r),Y(ue,o))}function Ye(r){fe.current===r&&(ee(ue),ee(fe)),Be.current===r&&(ee(Be),gu._currentValue=_e)}var lt=Object.prototype.hasOwnProperty,Pt=n.unstable_scheduleCallback,Oe=n.unstable_cancelCallback,ut=n.unstable_shouldYield,Qe=n.unstable_requestPaint,ct=n.unstable_now,ln=n.unstable_getCurrentPriorityLevel,wt=n.unstable_ImmediatePriority,At=n.unstable_UserBlockingPriority,et=n.unstable_NormalPriority,ze=n.unstable_LowPriority,st=n.unstable_IdlePriority,Et=n.log,Rt=n.unstable_setDisableYieldValue,de=null,Fe=null;function Me(r){if(typeof Et=="function"&&Rt(r),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(de,r)}catch{}}var ke=Math.clz32?Math.clz32:Nr,Bt=Math.log,Xn=Math.LN2;function Nr(r){return r>>>=0,r===0?32:31-(Bt(r)/Xn|0)|0}var qn=256,Zn=4194304;function Dn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _i(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=Dn(u):(w&=S,w!==0?f=Dn(w):o||(o=S&~r,o!==0&&(f=Dn(o))))):(S=u&~g,S!==0?f=Dn(S):w!==0?f=Dn(w):o||(o=u&~r,o!==0&&(f=Dn(o)))),f===0?0:a!==0&&a!==f&&(a&g)===0&&(g=f&-f,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:f}function Wr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Ei(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function es(){var r=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),r}function ia(){var r=Zn;return Zn<<=1,(Zn&62914560)===0&&(Zn=4194304),r}function Or(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function fr(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Gt(r,a,o,u,f,g){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,M=r.expirationTimes,K=r.hiddenUpdates;for(o=w&~o;0<o;){var ne=31-ke(o),ae=1<<ne;S[ne]=0,M[ne]=-1;var W=K[ne];if(W!==null)for(K[ne]=null,ne=0;ne<W.length;ne++){var Z=W[ne];Z!==null&&(Z.lane&=-536870913)}o&=~ae}u!==0&&Ct(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(w&~a))}function Ct(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-ke(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function Xr(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-ke(o),f=1<<u;f&a|r[u]&a&&(r[u]|=a),o&=~f}}function rt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gn(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Zr(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:uE(r.type))}function aa(r,a){var o=ce.p;try{return ce.p=r,a()}finally{ce.p=o}}var bt=Math.random().toString(36).slice(2),jt="__reactFiber$"+bt,xt="__reactProps$"+bt,yn="__reactContainer$"+bt,bi="__reactEvents$"+bt,ts="__reactListeners$"+bt,dr="__reactHandles$"+bt,Xs="__reactResources$"+bt,Pr="__reactMarker$"+bt;function Mr(r){delete r[jt],delete r[xt],delete r[bi],delete r[ts],delete r[dr]}function kr(r){var a=r[jt];if(a)return a;for(var o=r.parentNode;o;){if(a=o[yn]||o[jt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=K0(r);r!==null;){if(o=r[jt])return o;r=K0(r)}return a}r=o,o=r.parentNode}return null}function mr(r){if(r=r[jt]||r[yn]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function Ie(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Le(r){var a=r[Xs];return a||(a=r[Xs]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ne(r){r[Pr]=!0}var vn=new Set,un={};function jn(r,a){Vr(r,a),Vr(r+"Capture",a)}function Vr(r,a){for(un[r]=a,r=0;r<a.length;r++)vn.add(a[r])}var Zs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vc={},ns={};function _c(r){return lt.call(ns,r)?!0:lt.call(vc,r)?!1:Zs.test(r)?ns[r]=!0:(vc[r]=!0,!1)}function sa(r,a,o){if(_c(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function Jr(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function _n(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}var rs,Ec;function Ti(r){if(rs===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);rs=a&&a[1]||"",Ec=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+r+Ec}var Js=!1;function eo(r,a){if(!r||Js)return"";Js=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var W=Z}Reflect.construct(r,[],ae)}else{try{ae.call()}catch(Z){W=Z}r.call(ae.prototype)}}else{try{throw Error()}catch(Z){W=Z}(ae=r())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),w=g[0],S=g[1];if(w&&S){var M=w.split(`
`),K=S.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===K.length)for(u=M.length-1,f=K.length-1;1<=u&&0<=f&&M[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==K[f]){var ne=`
`+M[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=f);break}}}finally{Js=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ti(o):""}function wl(r){switch(r.tag){case 26:case 27:case 5:return Ti(r.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return eo(r.type,!1);case 11:return eo(r.type.render,!1);case 1:return eo(r.type,!0);case 31:return Ti("Activity");default:return""}}function to(r){try{var a="";do a+=wl(r),r=r.return;while(r);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Sl(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function gd(r){var a=Sl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return f.call(this)},set:function(w){u=""+w,g.call(this,w)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(w){u=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function no(r){r._valueTracker||(r._valueTracker=gd(r))}function Al(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Sl(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function is(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yd=/[\n"\\]/g;function $t(r){return r.replace(yd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(r,a,o,u,f,g,w,S){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Ln(a)):r.value!==""+Ln(a)&&(r.value=""+Ln(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?oa(r,w,Ln(a)):o!=null?oa(r,w,Ln(o)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Ln(S):r.removeAttribute("name")}function as(r,a,o,u,f,g,w,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+Ln(o):"",a=a!=null?""+Ln(a):o,S||a===r.value||(r.value=a),r.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=S?r.checked:!!u,r.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function oa(r,a,o){a==="number"&&is(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function wi(r,a,o,u){if(r=r.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=a.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+Ln(o),a=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}a!==null||r[f].disabled||(a=r[f])}a!==null&&(a.selected=!0)}}function gt(r,a,o){if(a!=null&&(a=""+Ln(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+Ln(o):""}function ss(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(at(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=Ln(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function pr(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||os.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Rl(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&o[f]!==u&&bc(r,f,u)}else for(var g in a)a.hasOwnProperty(g)&&bc(r,g,a[g])}function Cl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(r){return _d.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Si=null;function gr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ai=null,Ri=null;function Il(r){var a=mr(r);if(a&&(r=a.stateNode)){var o=r[xt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Jn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+$t(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var f=u[xt]||null;if(!f)throw Error(i(90));Jn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&Al(u)}break e;case"textarea":gt(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&wi(r,!!o.multiple,a,!1)}}}var ei=!1;function Tc(r,a,o){if(ei)return r(a,o);ei=!0;try{var u=r(a);return u}finally{if(ei=!1,(Ai!==null||Ri!==null)&&(ph(),Ai&&(a=Ai,r=Ri,Ri=Ai=null,Il(a),r)))for(a=0;a<r.length;a++)Il(r[a])}}function ls(r,a){var o=r.stateNode;if(o===null)return null;var u=o[xt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(jr)try{var us={};Object.defineProperty(us,"passive",{get:function(){yr=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{yr=!1}var ti=null,la=null,Ci=null;function xl(){if(Ci)return Ci;var r,a=la,o=a.length,u,f="value"in ti?ti.value:ti.textContent,g=f.length;for(r=0;r<o&&a[r]===f[r];r++);var w=o-r;for(u=1;u<=w&&a[o-u]===f[g-u];u++);return Ci=f.slice(r,1<u?1-u:void 0)}function ni(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ri(){return!0}function Dl(){return!1}function cn(r){function a(o,u,f,g,w){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ri:Dl,this.isPropagationStopped=Dl,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),a}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},io=cn(ht),cs=y({},ht,{view:0,detail:0}),wc=cn(cs),ao,so,ii,hs=y({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ii&&(ii&&r.type==="mousemove"?(ao=r.screenX-ii.screenX,so=r.screenY-ii.screenY):so=ao=0,ii=r),ao)},movementY:function(r){return"movementY"in r?r.movementY:so}}),vr=cn(hs),Sc=y({},hs,{dataTransfer:0}),Ed=cn(Sc),fs=y({},cs,{relatedTarget:0}),oo=cn(fs),Nl=y({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),lo=cn(Nl),Ac=y({},ht,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),uo=cn(Ac),bd=y({},ht,{data:0}),Ol=cn(bd),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pl(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Cc[r])?!!a[r]:!1}function ms(){return Pl}var Ic=y({},cs,{key:function(r){if(r.key){var a=ds[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ni(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Rc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(r){return r.type==="keypress"?ni(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ni(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),co=cn(Ic),xc=y({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=cn(xc),Ii=y({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),Dc=cn(Ii),Nc=y({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oc=cn(Nc),Pc=y({},hs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ho=cn(Pc),Un=y({},ht,{newState:0,oldState:0}),Mc=cn(Un),kc=[9,13,27,32],ai=jr&&"CompositionEvent"in window,h=null;jr&&"documentMode"in document&&(h=document.documentMode);var v=jr&&"TextEvent"in window&&!h,T=jr&&(!ai||h&&8<h&&11>=h),C=" ",G=!1;function te(r,a){switch(r){case"keyup":return kc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var We=!1;function en(r,a){switch(r){case"compositionend":return he(a);case"keypress":return a.which!==32?null:(G=!0,C);case"textInput":return r=a.data,r===C&&G?null:r;default:return null}}function Xe(r,a){if(We)return r==="compositionend"||!ai&&te(r,a)?(r=xl(),Ci=la=ti=null,We=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return T&&a.locale!=="ko"?null:a.data;default:return null}}var hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tn(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!hn[r.type]:a==="textarea"}function xi(r,a,o,u){Ai?Ri?Ri.push(u):Ri=[u]:Ai=u,a=bh(a,"onChange"),0<a.length&&(o=new io("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var En=null,si=null;function kl(r){L0(r,0)}function Vc(r){var a=Ie(r);if(Al(a))return r}function av(r,a){if(r==="change")return a}var sv=!1;if(jr){var Td;if(jr){var wd="oninput"in document;if(!wd){var ov=document.createElement("div");ov.setAttribute("oninput","return;"),wd=typeof ov.oninput=="function"}Td=wd}else Td=!1;sv=Td&&(!document.documentMode||9<document.documentMode)}function lv(){En&&(En.detachEvent("onpropertychange",uv),si=En=null)}function uv(r){if(r.propertyName==="value"&&Vc(si)){var a=[];xi(a,si,r,gr(r)),Tc(kl,a)}}function ZA(r,a,o){r==="focusin"?(lv(),En=a,si=o,En.attachEvent("onpropertychange",uv)):r==="focusout"&&lv()}function JA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Vc(si)}function eR(r,a){if(r==="click")return Vc(a)}function tR(r,a){if(r==="input"||r==="change")return Vc(a)}function nR(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var er=typeof Object.is=="function"?Object.is:nR;function Vl(r,a){if(er(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!lt.call(a,f)||!er(r[f],a[f]))return!1}return!0}function cv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function hv(r,a){var o=cv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=cv(o)}}function fv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?fv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function dv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=is(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=is(r.document)}return a}function Sd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var rR=jr&&"documentMode"in document&&11>=document.documentMode,fo=null,Ad=null,jl=null,Rd=!1;function mv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rd||fo==null||fo!==is(u)||(u=fo,"selectionStart"in u&&Sd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Vl(jl,u)||(jl=u,u=bh(Ad,"onSelect"),0<u.length&&(a=new io("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=fo)))}function ps(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var mo={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},Cd={},pv={};jr&&(pv=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function gs(r){if(Cd[r])return Cd[r];if(!mo[r])return r;var a=mo[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in pv)return Cd[r]=a[o];return r}var gv=gs("animationend"),yv=gs("animationiteration"),vv=gs("animationstart"),iR=gs("transitionrun"),aR=gs("transitionstart"),sR=gs("transitioncancel"),_v=gs("transitionend"),Ev=new Map,Id="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Id.push("scrollEnd");function Lr(r,a){Ev.set(r,a),jn(a,[r])}var bv=new WeakMap;function _r(r,a){if(typeof r=="object"&&r!==null){var o=bv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:to(a)},bv.set(r,a),a)}return{value:r,source:a,stack:to(a)}}var Er=[],po=0,xd=0;function jc(){for(var r=po,a=xd=po=0;a<r;){var o=Er[a];Er[a++]=null;var u=Er[a];Er[a++]=null;var f=Er[a];Er[a++]=null;var g=Er[a];if(Er[a++]=null,u!==null&&f!==null){var w=u.pending;w===null?f.next=f:(f.next=w.next,w.next=f),u.pending=f}g!==0&&Tv(o,f,g)}}function Lc(r,a,o,u){Er[po++]=r,Er[po++]=a,Er[po++]=o,Er[po++]=u,xd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function Dd(r,a,o,u){return Lc(r,a,o,u),Uc(r)}function go(r,a){return Lc(r,null,null,a),Uc(r)}function Tv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=r.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&a!==null&&(f=31-ke(o),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[a]:u.push(a),a.lane=o|536870912),g):null}function Uc(r){if(50<lu)throw lu=0,Vm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var yo={};function oR(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(r,a,o,u){return new oR(r,a,o,u)}function Nd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Di(r,a){var o=r.alternate;return o===null?(o=tr(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function wv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Bc(r,a,o,u,f,g){var w=0;if(u=r,typeof r=="function")Nd(r)&&(w=1);else if(typeof r=="string")w=uC(r,o,ue.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=tr(31,o,a,f),r.elementType=N,r.lanes=g,r;case I:return ys(o.children,f,g,a);case O:w=8,f|=24;break;case D:return r=tr(12,o,a,f|2),r.elementType=D,r.lanes=g,r;case le:return r=tr(13,o,a,f),r.elementType=le,r.lanes=g,r;case me:return r=tr(19,o,a,f),r.elementType=me,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case q:case F:w=10;break e;case X:w=9;break e;case re:w=11;break e;case V:w=14;break e;case x:w=16,u=null;break e}w=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=tr(w,o,a,f),a.elementType=r,a.type=u,a.lanes=g,a}function ys(r,a,o,u){return r=tr(7,r,u,a),r.lanes=o,r}function Od(r,a,o){return r=tr(6,r,null,a),r.lanes=o,r}function Pd(r,a,o){return a=tr(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var vo=[],_o=0,zc=null,qc=0,br=[],Tr=0,vs=null,Ni=1,Oi="";function _s(r,a){vo[_o++]=qc,vo[_o++]=zc,zc=r,qc=a}function Sv(r,a,o){br[Tr++]=Ni,br[Tr++]=Oi,br[Tr++]=vs,vs=r;var u=Ni;r=Oi;var f=32-ke(u)-1;u&=~(1<<f),o+=1;var g=32-ke(a)+f;if(30<g){var w=f-f%5;g=(u&(1<<w)-1).toString(32),u>>=w,f-=w,Ni=1<<32-ke(a)+f|o<<f|u,Oi=g+r}else Ni=1<<g|o<<f|u,Oi=r}function Md(r){r.return!==null&&(_s(r,1),Sv(r,1,0))}function kd(r){for(;r===zc;)zc=vo[--_o],vo[_o]=null,qc=vo[--_o],vo[_o]=null;for(;r===vs;)vs=br[--Tr],br[Tr]=null,Oi=br[--Tr],br[Tr]=null,Ni=br[--Tr],br[Tr]=null}var Bn=null,Lt=null,ot=!1,Es=null,oi=!1,Vd=Error(i(519));function bs(r){var a=Error(i(418,""));throw Bl(_r(a,r)),Vd}function Av(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[jt]=r,a[xt]=u,o){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(o=0;o<cu.length;o++)He(cu[o],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),as(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),no(a);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),ss(a,u.value,u.defaultValue,u.children),no(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||q0(a.textContent,o)?(u.popover!=null&&(He("beforetoggle",a),He("toggle",a)),u.onScroll!=null&&He("scroll",a),u.onScrollEnd!=null&&He("scrollend",a),u.onClick!=null&&(a.onclick=Th),a=!0):a=!1,a||bs(r)}function Rv(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Bn=Bn.return}}function Ll(r){if(r!==Bn)return!1;if(!ot)return Rv(r),ot=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Zm(r.type,r.memoizedProps)),o=!o),o&&Lt&&bs(r),Rv(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(a===0){Lt=Br(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;r=r.nextSibling}Lt=null}}else a===27?(a=Lt,Sa(r.type)?(r=np,np=null,Lt=r):Lt=a):Lt=Bn?Br(r.stateNode.nextSibling):null;return!0}function Ul(){Lt=Bn=null,ot=!1}function Cv(){var r=Es;return r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r),Es=null),r}function Bl(r){Es===null?Es=[r]:Es.push(r)}var jd=z(null),Ts=null,Pi=null;function ua(r,a,o){Y(jd,a._currentValue),a._currentValue=o}function Mi(r){r._currentValue=jd.current,ee(jd)}function Ld(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Ud(r,a,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var w=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var M=0;M<a.length;M++)if(S.context===a[M]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),Ld(g.return,o,r),u||(w=null);break e}g=S.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(i(341));w.lanes|=o,g=w.alternate,g!==null&&(g.lanes|=o),Ld(w,o,r),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===r){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function zl(r,a,o,u){r=null;for(var f=a,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var S=f.type;er(f.pendingProps.value,w.value)||(r!==null?r.push(S):r=[S])}}else if(f===Be.current){if(w=f.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(gu):r=[gu])}f=f.return}r!==null&&Ud(a,r,o,u),a.flags|=262144}function Hc(r){for(r=r.firstContext;r!==null;){if(!er(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ws(r){Ts=r,Pi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return Iv(Ts,r)}function Fc(r,a){return Ts===null&&ws(r),Iv(r,a)}function Iv(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Pi===null){if(r===null)throw Error(i(308));Pi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Pi=Pi.next=a;return o}var lR=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},uR=n.unstable_scheduleCallback,cR=n.unstable_NormalPriority,nn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bd(){return{controller:new lR,data:new Map,refCount:0}}function ql(r){r.refCount--,r.refCount===0&&uR(cR,function(){r.controller.abort()})}var Hl=null,zd=0,Eo=0,bo=null;function hR(r,a){if(Hl===null){var o=Hl=[];zd=0,Eo=Hm(),bo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return zd++,a.then(xv,xv),a}function xv(){if(--zd===0&&Hl!==null){bo!==null&&(bo.status="fulfilled");var r=Hl;Hl=null,Eo=0,bo=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function fR(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Dv=J.S;J.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&hR(r,a),Dv!==null&&Dv(r,a)};var Ss=z(null);function qd(){var r=Ss.current;return r!==null?r:St.pooledCache}function Gc(r,a){a===null?Y(Ss,Ss.current):Y(Ss,a.pool)}function Nv(){var r=qd();return r===null?null:{parent:nn._currentValue,pool:r}}var Fl=Error(i(460)),Ov=Error(i(474)),$c=Error(i(542)),Hd={then:function(){}};function Pv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Yc(){}function Mv(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(Yc,Yc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Vv(r),r;default:if(typeof a.status=="string")a.then(Yc,Yc);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,Vv(r),r}throw Gl=a,Fl}}var Gl=null;function kv(){if(Gl===null)throw Error(i(459));var r=Gl;return Gl=null,r}function Vv(r){if(r===Fl||r===$c)throw Error(i(483))}var ca=!1;function Fd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gd(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ha(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fa(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(mt&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=Uc(r),Tv(r,null,o),a}return Lc(r,u,a,o),Uc(r)}function $l(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Xr(r,o)}}function $d(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=w:g=g.next=w,o=o.next}while(o!==null);g===null?f=g=a:g=g.next=a}else f=g=a;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var Yd=!1;function Yl(){if(Yd){var r=bo;if(r!==null)throw r}}function Kl(r,a,o,u){Yd=!1;var f=r.updateQueue;ca=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var M=S,K=M.next;M.next=null,w===null?g=K:w.next=K,w=M;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,S=ne.lastBaseUpdate,S!==w&&(S===null?ne.firstBaseUpdate=K:S.next=K,ne.lastBaseUpdate=M))}if(g!==null){var ae=f.baseState;w=0,ne=K=M=null,S=g;do{var W=S.lane&-536870913,Z=W!==S.lane;if(Z?(Ze&W)===W:(u&W)===W){W!==0&&W===Eo&&(Yd=!0),ne!==null&&(ne=ne.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ce=r,we=S;W=a;var _t=o;switch(we.tag){case 1:if(Ce=we.payload,typeof Ce=="function"){ae=Ce.call(_t,ae,W);break e}ae=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=we.payload,W=typeof Ce=="function"?Ce.call(_t,ae,W):Ce,W==null)break e;ae=y({},ae,W);break e;case 2:ca=!0}}W=S.callback,W!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ne===null?(K=ne=Z,M=ae):ne=ne.next=Z,w|=W;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Z=S,S=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ne===null&&(M=ae),f.baseState=M,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,g===null&&(f.shared.lanes=0),Ea|=w,r.lanes=w,r.memoizedState=ae}}function jv(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Lv(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)jv(o[r],a)}var To=z(null),Kc=z(0);function Uv(r,a){r=zi,Y(Kc,r),Y(To,a),zi=r|a.baseLanes}function Kd(){Y(Kc,zi),Y(To,To.current)}function Qd(){zi=Kc.current,ee(To),ee(Kc)}var da=0,Ve=null,yt=null,Yt=null,Qc=!1,wo=!1,As=!1,Wc=0,Ql=0,So=null,dR=0;function zt(){throw Error(i(321))}function Wd(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!er(r[o],a[o]))return!1;return!0}function Xd(r,a,o,u,f,g){return da=g,Ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,J.H=r===null||r.memoizedState===null?T_:w_,As=!1,g=o(u,f),As=!1,wo&&(g=zv(a,o,u,f)),Bv(r),g}function Bv(r){J.H=nh;var a=yt!==null&&yt.next!==null;if(da=0,Yt=yt=Ve=null,Qc=!1,Ql=0,So=null,a)throw Error(i(300));r===null||fn||(r=r.dependencies,r!==null&&Hc(r)&&(fn=!0))}function zv(r,a,o,u){Ve=r;var f=0;do{if(wo&&(So=null),Ql=0,wo=!1,25<=f)throw Error(i(301));if(f+=1,Yt=yt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=ER,g=a(o,u)}while(wo);return g}function mR(){var r=J.H,a=r.useState()[0];return a=typeof a.then=="function"?Wl(a):a,r=r.useState()[0],(yt!==null?yt.memoizedState:null)!==r&&(Ve.flags|=1024),a}function Zd(){var r=Wc!==0;return Wc=0,r}function Jd(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function em(r){if(Qc){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Qc=!1}da=0,Yt=yt=Ve=null,wo=!1,Ql=Wc=0,So=null}function Hn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ve.memoizedState=Yt=r:Yt=Yt.next=r,Yt}function Kt(){if(yt===null){var r=Ve.alternate;r=r!==null?r.memoizedState:null}else r=yt.next;var a=Yt===null?Ve.memoizedState:Yt.next;if(a!==null)Yt=a,yt=r;else{if(r===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));yt=r,r={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Yt===null?Ve.memoizedState=Yt=r:Yt=Yt.next=r}return Yt}function tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(r){var a=Ql;return Ql+=1,So===null&&(So=[]),r=Mv(So,r,a),a=Ve,(Yt===null?a.memoizedState:Yt.next)===null&&(a=a.alternate,J.H=a===null||a.memoizedState===null?T_:w_),r}function Xc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wl(r);if(r.$$typeof===F)return Nn(r)}throw Error(i(438,String(r)))}function nm(r){var a=null,o=Ve.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ve.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=tm(),Ve.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=k;return a.index++,o}function ki(r,a){return typeof a=="function"?a(r):a}function Zc(r){var a=Kt();return rm(a,yt,r)}function rm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}a.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{a=f.next;var S=w=null,M=null,K=a,ne=!1;do{var ae=K.lane&-536870913;if(ae!==K.lane?(Ze&ae)===ae:(da&ae)===ae){var W=K.revertLane;if(W===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ae===Eo&&(ne=!0);else if((da&W)===W){K=K.next,W===Eo&&(ne=!0);continue}else ae={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=ae,w=g):M=M.next=ae,Ve.lanes|=W,Ea|=W;ae=K.action,As&&o(g,ae),g=K.hasEagerState?K.eagerState:o(g,ae)}else W={lane:ae,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},M===null?(S=M=W,w=g):M=M.next=W,Ve.lanes|=ae,Ea|=ae;K=K.next}while(K!==null&&K!==a);if(M===null?w=g:M.next=S,!er(g,r.memoizedState)&&(fn=!0,ne&&(o=bo,o!==null)))throw o;r.memoizedState=g,r.baseState=w,r.baseQueue=M,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function im(r){var a=Kt(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,g=a.memoizedState;if(f!==null){o.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);er(g,a.memoizedState)||(fn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function qv(r,a,o){var u=Ve,f=Kt(),g=ot;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=a();var w=!er((yt||f).memoizedState,o);w&&(f.memoizedState=o,fn=!0),f=f.queue;var S=Gv.bind(null,u,f,r);if(Xl(2048,8,S,[r]),f.getSnapshot!==a||w||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Ao(9,Jc(),Fv.bind(null,u,f,o,a),null),St===null)throw Error(i(349));g||(da&124)!==0||Hv(u,a,o)}return o}function Hv(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ve.updateQueue,a===null?(a=tm(),Ve.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function Fv(r,a,o,u){a.value=o,a.getSnapshot=u,$v(a)&&Yv(r)}function Gv(r,a,o){return o(function(){$v(a)&&Yv(r)})}function $v(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!er(r,o)}catch{return!0}}function Yv(r){var a=go(r,2);a!==null&&sr(a,r,2)}function am(r){var a=Hn();if(typeof r=="function"){var o=r;if(r=o(),As){Me(!0);try{o()}finally{Me(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},a}function Kv(r,a,o,u){return r.baseState=o,rm(r,yt,typeof u=="function"?u:ki)}function pR(r,a,o,u,f){if(th(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){g.listeners.push(w)}};J.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,Qv(a,g)):(g.next=o.next,a.pending=o.next=g)}}function Qv(r,a){var o=a.action,u=a.payload,f=r.state;if(a.isTransition){var g=J.T,w={};J.T=w;try{var S=o(f,u),M=J.S;M!==null&&M(w,S),Wv(r,a,S)}catch(K){sm(r,a,K)}finally{J.T=g}}else try{g=o(f,u),Wv(r,a,g)}catch(K){sm(r,a,K)}}function Wv(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xv(r,a,u)},function(u){return sm(r,a,u)}):Xv(r,a,o)}function Xv(r,a,o){a.status="fulfilled",a.value=o,Zv(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,Qv(r,o)))}function sm(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,Zv(a),a=a.next;while(a!==u)}r.action=null}function Zv(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Jv(r,a){return a}function e_(r,a){if(ot){var o=St.formState;if(o!==null){e:{var u=Ve;if(ot){if(Lt){t:{for(var f=Lt,g=oi;f.nodeType!==8;){if(!g){f=null;break t}if(f=Br(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Lt=Br(f.nextSibling),u=f.data==="F!";break e}}bs(u)}u=!1}u&&(a=o[0])}}return o=Hn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:a},o.queue=u,o=__.bind(null,Ve,u),u.dispatch=o,u=am(!1),g=hm.bind(null,Ve,!1,u.queue),u=Hn(),f={state:a,dispatch:null,action:r,pending:null},u.queue=f,o=pR.bind(null,Ve,f,g,o),f.dispatch=o,u.memoizedState=r,[a,o,!1]}function t_(r){var a=Kt();return n_(a,yt,r)}function n_(r,a,o){if(a=rm(r,a,Jv)[0],r=Zc(ki)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Wl(a)}catch(w){throw w===Fl?$c:w}else u=a;a=Kt();var f=a.queue,g=f.dispatch;return o!==a.memoizedState&&(Ve.flags|=2048,Ao(9,Jc(),gR.bind(null,f,o),null)),[u,g,r]}function gR(r,a){r.action=a}function r_(r){var a=Kt(),o=yt;if(o!==null)return n_(a,o,r);Kt(),a=a.memoizedState,o=Kt();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Ao(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ve.updateQueue,a===null&&(a=tm(),Ve.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function Jc(){return{destroy:void 0,resource:void 0}}function i_(){return Kt().memoizedState}function eh(r,a,o,u){var f=Hn();u=u===void 0?null:u,Ve.flags|=r,f.memoizedState=Ao(1|a,Jc(),o,u)}function Xl(r,a,o,u){var f=Kt();u=u===void 0?null:u;var g=f.memoizedState.inst;yt!==null&&u!==null&&Wd(u,yt.memoizedState.deps)?f.memoizedState=Ao(a,g,o,u):(Ve.flags|=r,f.memoizedState=Ao(1|a,g,o,u))}function a_(r,a){eh(8390656,8,r,a)}function s_(r,a){Xl(2048,8,r,a)}function o_(r,a){return Xl(4,2,r,a)}function l_(r,a){return Xl(4,4,r,a)}function u_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function c_(r,a,o){o=o!=null?o.concat([r]):null,Xl(4,4,u_.bind(null,a,r),o)}function om(){}function h_(r,a){var o=Kt();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Wd(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function f_(r,a){var o=Kt();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Wd(a,u[1]))return u[0];if(u=r(),As){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,a],u}function lm(r,a,o){return o===void 0||(da&1073741824)!==0?r.memoizedState=a:(r.memoizedState=o,r=p0(),Ve.lanes|=r,Ea|=r,o)}function d_(r,a,o,u){return er(o,a)?o:To.current!==null?(r=lm(r,o,u),er(r,a)||(fn=!0),r):(da&42)===0?(fn=!0,r.memoizedState=o):(r=p0(),Ve.lanes|=r,Ea|=r,a)}function m_(r,a,o,u,f){var g=ce.p;ce.p=g!==0&&8>g?g:8;var w=J.T,S={};J.T=S,hm(r,!1,a,o);try{var M=f(),K=J.S;if(K!==null&&K(S,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var ne=fR(M,u);Zl(r,a,ne,ar(r))}else Zl(r,a,u,ar(r))}catch(ae){Zl(r,a,{then:function(){},status:"rejected",reason:ae},ar())}finally{ce.p=g,J.T=w}}function yR(){}function um(r,a,o,u){if(r.tag!==5)throw Error(i(476));var f=p_(r).queue;m_(r,f,a,_e,o===null?yR:function(){return g_(r),o(u)})}function p_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:_e},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function g_(r){var a=p_(r).next.queue;Zl(r,a,{},ar())}function cm(){return Nn(gu)}function y_(){return Kt().memoizedState}function v_(){return Kt().memoizedState}function vR(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=ar();r=ha(o);var u=fa(a,r,o);u!==null&&(sr(u,a,o),$l(u,a,o)),a={cache:Bd()},r.payload=a;return}a=a.return}}function _R(r,a,o){var u=ar();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},th(r)?E_(a,o):(o=Dd(r,a,o,u),o!==null&&(sr(o,r,u),b_(o,a,u)))}function __(r,a,o){var u=ar();Zl(r,a,o,u)}function Zl(r,a,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(th(r))E_(a,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var w=a.lastRenderedState,S=g(w,o);if(f.hasEagerState=!0,f.eagerState=S,er(S,w))return Lc(r,a,f,0),St===null&&jc(),!1}catch{}finally{}if(o=Dd(r,a,f,u),o!==null)return sr(o,r,u),b_(o,a,u),!0}return!1}function hm(r,a,o,u){if(u={lane:2,revertLane:Hm(),action:u,hasEagerState:!1,eagerState:null,next:null},th(r)){if(a)throw Error(i(479))}else a=Dd(r,o,u,2),a!==null&&sr(a,r,2)}function th(r){var a=r.alternate;return r===Ve||a!==null&&a===Ve}function E_(r,a){wo=Qc=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function b_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Xr(r,o)}}var nh={readContext:Nn,use:Xc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},T_={readContext:Nn,use:Xc,useCallback:function(r,a){return Hn().memoizedState=[r,a===void 0?null:a],r},useContext:Nn,useEffect:a_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,eh(4194308,4,u_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return eh(4194308,4,r,a)},useInsertionEffect:function(r,a){eh(4,2,r,a)},useMemo:function(r,a){var o=Hn();a=a===void 0?null:a;var u=r();if(As){Me(!0);try{r()}finally{Me(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=Hn();if(o!==void 0){var f=o(a);if(As){Me(!0);try{o(a)}finally{Me(!1)}}}else f=a;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=_R.bind(null,Ve,r),[u.memoizedState,r]},useRef:function(r){var a=Hn();return r={current:r},a.memoizedState=r},useState:function(r){r=am(r);var a=r.queue,o=__.bind(null,Ve,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:om,useDeferredValue:function(r,a){var o=Hn();return lm(o,r,a)},useTransition:function(){var r=am(!1);return r=m_.bind(null,Ve,r.queue,!0,!1),Hn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ve,f=Hn();if(ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),St===null)throw Error(i(349));(Ze&124)!==0||Hv(u,a,o)}f.memoizedState=o;var g={value:o,getSnapshot:a};return f.queue=g,a_(Gv.bind(null,u,g,r),[r]),u.flags|=2048,Ao(9,Jc(),Fv.bind(null,u,g,o,a),null),o},useId:function(){var r=Hn(),a=St.identifierPrefix;if(ot){var o=Oi,u=Ni;o=(u&~(1<<32-ke(u)-1)).toString(32)+o,a="«"+a+"R"+o,o=Wc++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=dR++,a="«"+a+"r"+o.toString(32)+"»";return r.memoizedState=a},useHostTransitionStatus:cm,useFormState:e_,useActionState:e_,useOptimistic:function(r){var a=Hn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=hm.bind(null,Ve,!0,o),o.dispatch=a,[r,a]},useMemoCache:nm,useCacheRefresh:function(){return Hn().memoizedState=vR.bind(null,Ve)}},w_={readContext:Nn,use:Xc,useCallback:h_,useContext:Nn,useEffect:s_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:Zc,useRef:i_,useState:function(){return Zc(ki)},useDebugValue:om,useDeferredValue:function(r,a){var o=Kt();return d_(o,yt.memoizedState,r,a)},useTransition:function(){var r=Zc(ki)[0],a=Kt().memoizedState;return[typeof r=="boolean"?r:Wl(r),a]},useSyncExternalStore:qv,useId:y_,useHostTransitionStatus:cm,useFormState:t_,useActionState:t_,useOptimistic:function(r,a){var o=Kt();return Kv(o,yt,r,a)},useMemoCache:nm,useCacheRefresh:v_},ER={readContext:Nn,use:Xc,useCallback:h_,useContext:Nn,useEffect:s_,useImperativeHandle:c_,useInsertionEffect:o_,useLayoutEffect:l_,useMemo:f_,useReducer:im,useRef:i_,useState:function(){return im(ki)},useDebugValue:om,useDeferredValue:function(r,a){var o=Kt();return yt===null?lm(o,r,a):d_(o,yt.memoizedState,r,a)},useTransition:function(){var r=im(ki)[0],a=Kt().memoizedState;return[typeof r=="boolean"?r:Wl(r),a]},useSyncExternalStore:qv,useId:y_,useHostTransitionStatus:cm,useFormState:r_,useActionState:r_,useOptimistic:function(r,a){var o=Kt();return yt!==null?Kv(o,yt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:nm,useCacheRefresh:v_},Ro=null,Jl=0;function rh(r){var a=Jl;return Jl+=1,Ro===null&&(Ro=[]),Mv(Ro,r,a)}function eu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function ih(r,a){throw a.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function S_(r){var a=r._init;return a(r._payload)}function A_(r){function a(H,U){if(r){var $=H.deletions;$===null?(H.deletions=[U],H.flags|=16):$.push(U)}}function o(H,U){if(!r)return null;for(;U!==null;)a(H,U),U=U.sibling;return null}function u(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function f(H,U){return H=Di(H,U),H.index=0,H.sibling=null,H}function g(H,U,$){return H.index=$,r?($=H.alternate,$!==null?($=$.index,$<U?(H.flags|=67108866,U):$):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function w(H){return r&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,$,ie){return U===null||U.tag!==6?(U=Od($,H.mode,ie),U.return=H,U):(U=f(U,$),U.return=H,U)}function M(H,U,$,ie){var ve=$.type;return ve===I?ne(H,U,$.props.children,ie,$.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&S_(ve)===U.type)?(U=f(U,$.props),eu(U,$),U.return=H,U):(U=Bc($.type,$.key,$.props,null,H.mode,ie),eu(U,$),U.return=H,U)}function K(H,U,$,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=Pd($,H.mode,ie),U.return=H,U):(U=f(U,$.children||[]),U.return=H,U)}function ne(H,U,$,ie,ve){return U===null||U.tag!==7?(U=ys($,H.mode,ie,ve),U.return=H,U):(U=f(U,$),U.return=H,U)}function ae(H,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Od(""+U,H.mode,$),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return $=Bc(U.type,U.key,U.props,null,H.mode,$),eu($,U),$.return=H,$;case A:return U=Pd(U,H.mode,$),U.return=H,U;case x:var ie=U._init;return U=ie(U._payload),ae(H,U,$)}if(at(U)||B(U))return U=ys(U,H.mode,$,null),U.return=H,U;if(typeof U.then=="function")return ae(H,rh(U),$);if(U.$$typeof===F)return ae(H,Fc(H,U),$);ih(H,U)}return null}function W(H,U,$,ie){var ve=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:S(H,U,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===ve?M(H,U,$,ie):null;case A:return $.key===ve?K(H,U,$,ie):null;case x:return ve=$._init,$=ve($._payload),W(H,U,$,ie)}if(at($)||B($))return ve!==null?null:ne(H,U,$,ie,null);if(typeof $.then=="function")return W(H,U,rh($),ie);if($.$$typeof===F)return W(H,U,Fc(H,$),ie);ih(H,$)}return null}function Z(H,U,$,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return H=H.get($)||null,S(U,H,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return H=H.get(ie.key===null?$:ie.key)||null,M(U,H,ie,ve);case A:return H=H.get(ie.key===null?$:ie.key)||null,K(U,H,ie,ve);case x:var Ue=ie._init;return ie=Ue(ie._payload),Z(H,U,$,ie,ve)}if(at(ie)||B(ie))return H=H.get($)||null,ne(U,H,ie,ve,null);if(typeof ie.then=="function")return Z(H,U,$,rh(ie),ve);if(ie.$$typeof===F)return Z(H,U,$,Fc(U,ie),ve);ih(U,ie)}return null}function Ce(H,U,$,ie){for(var ve=null,Ue=null,Ee=U,Se=U=0,mn=null;Ee!==null&&Se<$.length;Se++){Ee.index>Se?(mn=Ee,Ee=null):mn=Ee.sibling;var it=W(H,Ee,$[Se],ie);if(it===null){Ee===null&&(Ee=mn);break}r&&Ee&&it.alternate===null&&a(H,Ee),U=g(it,U,Se),Ue===null?ve=it:Ue.sibling=it,Ue=it,Ee=mn}if(Se===$.length)return o(H,Ee),ot&&_s(H,Se),ve;if(Ee===null){for(;Se<$.length;Se++)Ee=ae(H,$[Se],ie),Ee!==null&&(U=g(Ee,U,Se),Ue===null?ve=Ee:Ue.sibling=Ee,Ue=Ee);return ot&&_s(H,Se),ve}for(Ee=u(Ee);Se<$.length;Se++)mn=Z(Ee,H,Se,$[Se],ie),mn!==null&&(r&&mn.alternate!==null&&Ee.delete(mn.key===null?Se:mn.key),U=g(mn,U,Se),Ue===null?ve=mn:Ue.sibling=mn,Ue=mn);return r&&Ee.forEach(function(xa){return a(H,xa)}),ot&&_s(H,Se),ve}function we(H,U,$,ie){if($==null)throw Error(i(151));for(var ve=null,Ue=null,Ee=U,Se=U=0,mn=null,it=$.next();Ee!==null&&!it.done;Se++,it=$.next()){Ee.index>Se?(mn=Ee,Ee=null):mn=Ee.sibling;var xa=W(H,Ee,it.value,ie);if(xa===null){Ee===null&&(Ee=mn);break}r&&Ee&&xa.alternate===null&&a(H,Ee),U=g(xa,U,Se),Ue===null?ve=xa:Ue.sibling=xa,Ue=xa,Ee=mn}if(it.done)return o(H,Ee),ot&&_s(H,Se),ve;if(Ee===null){for(;!it.done;Se++,it=$.next())it=ae(H,it.value,ie),it!==null&&(U=g(it,U,Se),Ue===null?ve=it:Ue.sibling=it,Ue=it);return ot&&_s(H,Se),ve}for(Ee=u(Ee);!it.done;Se++,it=$.next())it=Z(Ee,H,Se,it.value,ie),it!==null&&(r&&it.alternate!==null&&Ee.delete(it.key===null?Se:it.key),U=g(it,U,Se),Ue===null?ve=it:Ue.sibling=it,Ue=it);return r&&Ee.forEach(function(bC){return a(H,bC)}),ot&&_s(H,Se),ve}function _t(H,U,$,ie){if(typeof $=="object"&&$!==null&&$.type===I&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var ve=$.key;U!==null;){if(U.key===ve){if(ve=$.type,ve===I){if(U.tag===7){o(H,U.sibling),ie=f(U,$.props.children),ie.return=H,H=ie;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&S_(ve)===U.type){o(H,U.sibling),ie=f(U,$.props),eu(ie,$),ie.return=H,H=ie;break e}o(H,U);break}else a(H,U);U=U.sibling}$.type===I?(ie=ys($.props.children,H.mode,ie,$.key),ie.return=H,H=ie):(ie=Bc($.type,$.key,$.props,null,H.mode,ie),eu(ie,$),ie.return=H,H=ie)}return w(H);case A:e:{for(ve=$.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(H,U.sibling),ie=f(U,$.children||[]),ie.return=H,H=ie;break e}else{o(H,U);break}else a(H,U);U=U.sibling}ie=Pd($,H.mode,ie),ie.return=H,H=ie}return w(H);case x:return ve=$._init,$=ve($._payload),_t(H,U,$,ie)}if(at($))return Ce(H,U,$,ie);if(B($)){if(ve=B($),typeof ve!="function")throw Error(i(150));return $=ve.call($),we(H,U,$,ie)}if(typeof $.then=="function")return _t(H,U,rh($),ie);if($.$$typeof===F)return _t(H,U,Fc(H,$),ie);ih(H,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(H,U.sibling),ie=f(U,$),ie.return=H,H=ie):(o(H,U),ie=Od($,H.mode,ie),ie.return=H,H=ie),w(H)):o(H,U)}return function(H,U,$,ie){try{Jl=0;var ve=_t(H,U,$,ie);return Ro=null,ve}catch(Ee){if(Ee===Fl||Ee===$c)throw Ee;var Ue=tr(29,Ee,null,H.mode);return Ue.lanes=ie,Ue.return=H,Ue}finally{}}}var Co=A_(!0),R_=A_(!1),wr=z(null),li=null;function ma(r){var a=r.alternate;Y(rn,rn.current&1),Y(wr,r),li===null&&(a===null||To.current!==null||a.memoizedState!==null)&&(li=r)}function C_(r){if(r.tag===22){if(Y(rn,rn.current),Y(wr,r),li===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(li=r)}}else pa()}function pa(){Y(rn,rn.current),Y(wr,wr.current)}function Vi(r){ee(wr),li===r&&(li=null),ee(rn)}var rn=z(0);function ah(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||tp(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function fm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:y({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var dm={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=ar(),f=ha(u);f.payload=a,o!=null&&(f.callback=o),a=fa(r,f,u),a!==null&&(sr(a,r,u),$l(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=ar(),f=ha(u);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=fa(r,f,u),a!==null&&(sr(a,r,u),$l(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=ar(),u=ha(o);u.tag=2,a!=null&&(u.callback=a),a=fa(r,u,o),a!==null&&(sr(a,r,o),$l(a,r,o))}};function I_(r,a,o,u,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,w):a.prototype&&a.prototype.isPureReactComponent?!Vl(o,u)||!Vl(f,g):!0}function x_(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&dm.enqueueReplaceState(a,a.state,null)}function Rs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=y({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var sh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function D_(r){sh(r)}function N_(r){console.error(r)}function O_(r){sh(r)}function oh(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function P_(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(r,a,o){return o=ha(o),o.tag=3,o.payload={element:null},o.callback=function(){oh(r,a)},o}function M_(r){return r=ha(r),r.tag=3,r}function k_(r,a,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){P_(a,o,u)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){P_(a,o,u),typeof f!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function bR(r,a,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&zl(a,o,f,!0),o=wr.current,o!==null){switch(o.tag){case 13:return li===null?Lm():o.alternate===null&&Ut===0&&(Ut=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Hd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),Bm(r,u,f)),!1;case 22:return o.flags|=65536,u===Hd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),Bm(r,u,f)),!1}throw Error(i(435,o.tag))}return Bm(r,u,f),Lm(),!1}if(ot)return a=wr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==Vd&&(r=Error(i(422),{cause:u}),Bl(_r(r,o)))):(u!==Vd&&(a=Error(i(423),{cause:u}),Bl(_r(a,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=_r(u,o),f=mm(r.stateNode,u,f),$d(r,f),Ut!==4&&(Ut=2)),!1;var g=Error(i(520),{cause:u});if(g=_r(g,o),ou===null?ou=[g]:ou.push(g),Ut!==4&&(Ut=2),a===null)return!0;u=_r(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=mm(o.stateNode,u,r),$d(o,r),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=M_(f),k_(f,r,o,u),$d(o,f),!1}o=o.return}while(o!==null);return!1}var V_=Error(i(461)),fn=!1;function bn(r,a,o,u){a.child=r===null?R_(a,null,o,u):Co(a,r.child,o,u)}function j_(r,a,o,u,f){o=o.render;var g=a.ref;if("ref"in u){var w={};for(var S in u)S!=="ref"&&(w[S]=u[S])}else w=u;return ws(a),u=Xd(r,a,o,w,g,f),S=Zd(),r!==null&&!fn?(Jd(r,a,f),ji(r,a,f)):(ot&&S&&Md(a),a.flags|=1,bn(r,a,u,f),a.child)}function L_(r,a,o,u,f){if(r===null){var g=o.type;return typeof g=="function"&&!Nd(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,U_(r,a,g,u,f)):(r=Bc(o.type,null,u,a,a.mode,f),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!Tm(r,f)){var w=g.memoizedProps;if(o=o.compare,o=o!==null?o:Vl,o(w,u)&&r.ref===a.ref)return ji(r,a,f)}return a.flags|=1,r=Di(g,u),r.ref=a.ref,r.return=a,a.child=r}function U_(r,a,o,u,f){if(r!==null){var g=r.memoizedProps;if(Vl(g,u)&&r.ref===a.ref)if(fn=!1,a.pendingProps=u=g,Tm(r,f))(r.flags&131072)!==0&&(fn=!0);else return a.lanes=r.lanes,ji(r,a,f)}return pm(r,a,o,u,f)}function B_(r,a,o){var u=a.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,r!==null){for(f=a.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return z_(r,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Gc(a,g!==null?g.cachePool:null),g!==null?Uv(a,g):Kd(),C_(a);else return a.lanes=a.childLanes=536870912,z_(r,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(Gc(a,g.cachePool),Uv(a,g),pa(),a.memoizedState=null):(r!==null&&Gc(a,null),Kd(),pa());return bn(r,a,f,o),a.child}function z_(r,a,o,u){var f=qd();return f=f===null?null:{parent:nn._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},r!==null&&Gc(a,null),Kd(),C_(a),r!==null&&zl(r,a,u,!0),null}function lh(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function pm(r,a,o,u,f){return ws(a),o=Xd(r,a,o,u,void 0,f),u=Zd(),r!==null&&!fn?(Jd(r,a,f),ji(r,a,f)):(ot&&u&&Md(a),a.flags|=1,bn(r,a,o,f),a.child)}function q_(r,a,o,u,f,g){return ws(a),a.updateQueue=null,o=zv(a,u,o,f),Bv(r),u=Zd(),r!==null&&!fn?(Jd(r,a,g),ji(r,a,g)):(ot&&u&&Md(a),a.flags|=1,bn(r,a,o,g),a.child)}function H_(r,a,o,u,f){if(ws(a),a.stateNode===null){var g=yo,w=o.contextType;typeof w=="object"&&w!==null&&(g=Nn(w)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=dm,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},Fd(a),w=o.contextType,g.context=typeof w=="object"&&w!==null?Nn(w):yo,g.state=a.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(fm(a,o,w,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(w=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),w!==g.state&&dm.enqueueReplaceState(g,g.state,null),Kl(a,u,g,f),Yl(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){g=a.stateNode;var S=a.memoizedProps,M=Rs(o,S);g.props=M;var K=g.context,ne=o.contextType;w=yo,typeof ne=="object"&&ne!==null&&(w=Nn(ne));var ae=o.getDerivedStateFromProps;ne=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==w)&&x_(a,g,u,w),ca=!1;var W=a.memoizedState;g.state=W,Kl(a,u,g,f),Yl(),K=a.memoizedState,S||W!==K||ca?(typeof ae=="function"&&(fm(a,o,ae,u),K=a.memoizedState),(M=ca||I_(a,o,M,u,W,K,w))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=K),g.props=u,g.state=K,g.context=w,u=M):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Gd(r,a),w=a.memoizedProps,ne=Rs(o,w),g.props=ne,ae=a.pendingProps,W=g.context,K=o.contextType,M=yo,typeof K=="object"&&K!==null&&(M=Nn(K)),S=o.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==ae||W!==M)&&x_(a,g,u,M),ca=!1,W=a.memoizedState,g.state=W,Kl(a,u,g,f),Yl();var Z=a.memoizedState;w!==ae||W!==Z||ca||r!==null&&r.dependencies!==null&&Hc(r.dependencies)?(typeof S=="function"&&(fm(a,o,S,u),Z=a.memoizedState),(ne=ca||I_(a,o,ne,u,W,Z,M)||r!==null&&r.dependencies!==null&&Hc(r.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,M)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Z),g.props=u,g.state=Z,g.context=M,u=ne):(typeof g.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(a.flags|=1024),u=!1)}return g=u,lh(r,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&u?(a.child=Co(a,r.child,null,f),a.child=Co(a,null,o,f)):bn(r,a,o,f),a.memoizedState=g.state,r=a.child):r=ji(r,a,f),r}function F_(r,a,o,u){return Ul(),a.flags|=256,bn(r,a,o,u),a.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(r){return{baseLanes:r,cachePool:Nv()}}function vm(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Sr),r}function G_(r,a,o){var u=a.pendingProps,f=!1,g=(a.flags&128)!==0,w;if((w=g)||(w=r!==null&&r.memoizedState===null?!1:(rn.current&2)!==0),w&&(f=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(ot){if(f?ma(a):pa(),ot){var S=Lt,M;if(M=S){e:{for(M=S,S=oi;M.nodeType!==8;){if(!S){S=null;break e}if(M=Br(M.nextSibling),M===null){S=null;break e}}S=M}S!==null?(a.memoizedState={dehydrated:S,treeContext:vs!==null?{id:Ni,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},M=tr(18,null,null,0),M.stateNode=S,M.return=a,a.child=M,Bn=a,Lt=null,M=!0):M=!1}M||bs(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return tp(S)?a.lanes=32:a.lanes=536870912,null;Vi(a)}return S=u.children,u=u.fallback,f?(pa(),f=a.mode,S=uh({mode:"hidden",children:S},f),u=ys(u,f,o,null),S.return=a,u.return=a,S.sibling=u,a.child=S,f=a.child,f.memoizedState=ym(o),f.childLanes=vm(r,w,o),a.memoizedState=gm,u):(ma(a),_m(a,S))}if(M=r.memoizedState,M!==null&&(S=M.dehydrated,S!==null)){if(g)a.flags&256?(ma(a),a.flags&=-257,a=Em(r,a,o)):a.memoizedState!==null?(pa(),a.child=r.child,a.flags|=128,a=null):(pa(),f=u.fallback,S=a.mode,u=uh({mode:"visible",children:u.children},S),f=ys(f,S,o,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,Co(a,r.child,null,o),u=a.child,u.memoizedState=ym(o),u.childLanes=vm(r,w,o),a.memoizedState=gm,a=f);else if(ma(a),tp(S)){if(w=S.nextSibling&&S.nextSibling.dataset,w)var K=w.dgst;w=K,u=Error(i(419)),u.stack="",u.digest=w,Bl({value:u,source:null,stack:null}),a=Em(r,a,o)}else if(fn||zl(r,a,o,!1),w=(o&r.childLanes)!==0,fn||w){if(w=St,w!==null&&(u=o&-o,u=(u&42)!==0?1:rt(u),u=(u&(w.suspendedLanes|o))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,go(r,u),sr(w,r,u),V_;S.data==="$?"||Lm(),a=Em(r,a,o)}else S.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=M.treeContext,Lt=Br(S.nextSibling),Bn=a,ot=!0,Es=null,oi=!1,r!==null&&(br[Tr++]=Ni,br[Tr++]=Oi,br[Tr++]=vs,Ni=r.id,Oi=r.overflow,vs=a),a=_m(a,u.children),a.flags|=4096);return a}return f?(pa(),f=u.fallback,S=a.mode,M=r.child,K=M.sibling,u=Di(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,K!==null?f=Di(K,f):(f=ys(f,S,o,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,S=r.child.memoizedState,S===null?S=ym(o):(M=S.cachePool,M!==null?(K=nn._currentValue,M=M.parent!==K?{parent:K,pool:K}:M):M=Nv(),S={baseLanes:S.baseLanes|o,cachePool:M}),f.memoizedState=S,f.childLanes=vm(r,w,o),a.memoizedState=gm,u):(ma(a),o=r.child,r=o.sibling,o=Di(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=o,a.memoizedState=null,o)}function _m(r,a){return a=uh({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function uh(r,a){return r=tr(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Em(r,a,o){return Co(a,r.child,null,o),r=_m(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function $_(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Ld(r.return,a,o)}function bm(r,a,o,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function Y_(r,a,o){var u=a.pendingProps,f=u.revealOrder,g=u.tail;if(bn(r,a,u.children,o),u=rn.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&$_(r,o,a);else if(r.tag===19)$_(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Y(rn,u),f){case"forwards":for(o=a.child,f=null;o!==null;)r=o.alternate,r!==null&&ah(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),bm(a,!1,f,o,g);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(r=f.alternate,r!==null&&ah(r)===null){a.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}bm(a,!0,o,null,g);break;case"together":bm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ji(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),Ea|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(zl(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=Di(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Di(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Tm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Hc(r)))}function TR(r,a,o){switch(a.tag){case 3:Te(a,a.stateNode.containerInfo),ua(a,nn,r.memoizedState.cache),Ul();break;case 27:case 5:Vt(a);break;case 4:Te(a,a.stateNode.containerInfo);break;case 10:ua(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ma(a),a.flags|=128,null):(o&a.child.childLanes)!==0?G_(r,a,o):(ma(a),r=ji(r,a,o),r!==null?r.sibling:null);ma(a);break;case 19:var f=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(zl(r,a,o,!1),u=(o&a.childLanes)!==0),f){if(u)return Y_(r,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(rn,rn.current),u)break;return null;case 22:case 23:return a.lanes=0,B_(r,a,o);case 24:ua(a,nn,r.memoizedState.cache)}return ji(r,a,o)}function K_(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)fn=!0;else{if(!Tm(r,o)&&(a.flags&128)===0)return fn=!1,TR(r,a,o);fn=(r.flags&131072)!==0}else fn=!1,ot&&(a.flags&1048576)!==0&&Sv(a,qc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")Nd(u)?(r=Rs(u,r),a.tag=1,a=H_(null,a,u,r,o)):(a.tag=0,a=pm(null,a,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===re){a.tag=11,a=j_(null,a,u,r,o);break e}else if(f===V){a.tag=14,a=L_(null,a,u,r,o);break e}}throw a=Ke(u)||u,Error(i(306,a,""))}}return a;case 0:return pm(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,f=Rs(u,a.pendingProps),H_(r,a,u,f,o);case 3:e:{if(Te(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var g=a.memoizedState;f=g.element,Gd(r,a),Kl(a,u,null,o);var w=a.memoizedState;if(u=w.cache,ua(a,nn,u),u!==g.cache&&Ud(a,[nn],o,!0),Yl(),u=w.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=F_(r,a,u,o);break e}else if(u!==f){f=_r(Error(i(424)),a),Bl(f),a=F_(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Lt=Br(r.firstChild),Bn=a,ot=!0,Es=null,oi=!0,o=R_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ul(),u===f){a=ji(r,a,o);break e}bn(r,a,u,o)}a=a.child}return a;case 26:return lh(r,a),r===null?(o=Z0(a.type,null,a.pendingProps,null))?a.memoizedState=o:ot||(o=a.type,r=a.pendingProps,u=wh(pe.current).createElement(o),u[jt]=a,u[xt]=r,wn(u,o,r),Ne(u),a.stateNode=u):a.memoizedState=Z0(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Vt(a),r===null&&ot&&(u=a.stateNode=Q0(a.type,a.pendingProps,pe.current),Bn=a,oi=!0,f=Lt,Sa(a.type)?(np=f,Lt=Br(u.firstChild)):Lt=f),bn(r,a,a.pendingProps.children,o),lh(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&ot&&((f=u=Lt)&&(u=WR(u,a.type,a.pendingProps,oi),u!==null?(a.stateNode=u,Bn=a,Lt=Br(u.firstChild),oi=!1,f=!0):f=!1),f||bs(a)),Vt(a),f=a.type,g=a.pendingProps,w=r!==null?r.memoizedProps:null,u=g.children,Zm(f,g)?u=null:w!==null&&Zm(f,w)&&(a.flags|=32),a.memoizedState!==null&&(f=Xd(r,a,mR,null,null,o),gu._currentValue=f),lh(r,a),bn(r,a,u,o),a.child;case 6:return r===null&&ot&&((r=o=Lt)&&(o=XR(o,a.pendingProps,oi),o!==null?(a.stateNode=o,Bn=a,Lt=null,r=!0):r=!1),r||bs(a)),null;case 13:return G_(r,a,o);case 4:return Te(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=Co(a,null,u,o):bn(r,a,u,o),a.child;case 11:return j_(r,a,a.type,a.pendingProps,o);case 7:return bn(r,a,a.pendingProps,o),a.child;case 8:return bn(r,a,a.pendingProps.children,o),a.child;case 12:return bn(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,ua(a,a.type,u.value),bn(r,a,u.children,o),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,ws(a),f=Nn(f),u=u(f),a.flags|=1,bn(r,a,u,o),a.child;case 14:return L_(r,a,a.type,a.pendingProps,o);case 15:return U_(r,a,a.type,a.pendingProps,o);case 19:return Y_(r,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},r===null?(o=uh(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Di(r.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return B_(r,a,o);case 24:return ws(a),u=Nn(nn),r===null?(f=qd(),f===null&&(f=St,g=Bd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),a.memoizedState={parent:u,cache:f},Fd(a),ua(a,nn,f)):((r.lanes&o)!==0&&(Gd(r,a),Kl(a,null,null,o),Yl()),f=r.memoizedState,g=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),ua(a,nn,u)):(u=g.cache,ua(a,nn,u),u!==f.cache&&Ud(a,[nn],o,!0))),bn(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Li(r){r.flags|=4}function Q_(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!rE(a)){if(a=wr.current,a!==null&&((Ze&4194048)===Ze?li!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||a!==li))throw Gl=Hd,Ov;r.flags|=8192}}function ch(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?ia():536870912,r.lanes|=a,No|=a)}function tu(r,a){if(!ot)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Mt(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function wR(r,a,o){var u=a.pendingProps;switch(kd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Mi(nn),nt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ll(a)?Li(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Cv())),Mt(a),null;case 26:return o=a.memoizedState,r===null?(Li(a),o!==null?(Mt(a),Q_(a,o)):(Mt(a),a.flags&=-16777217)):o?o!==r.memoizedState?(Li(a),Mt(a),Q_(a,o)):(Mt(a),a.flags&=-16777217):(r.memoizedProps!==u&&Li(a),Mt(a),a.flags&=-16777217),null;case 27:Ye(a),o=pe.current;var f=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Li(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Mt(a),null}r=ue.current,Ll(a)?Av(a):(r=Q0(f,u,o),a.stateNode=r,Li(a))}return Mt(a),null;case 5:if(Ye(a),o=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&Li(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return Mt(a),null}if(r=ue.current,Ll(a))Av(a);else{switch(f=wh(pe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[jt]=a,r[xt]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=r;e:switch(wn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Li(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&Li(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=pe.current,Ll(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,f=Bn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[jt]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||q0(r.nodeValue,o)),r||bs(a)}else r=wh(r).createTextNode(u),r[jt]=a,a.stateNode=r}return Mt(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Ll(a),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[jt]=a}else Ul(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),f=!1}else f=Cv(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Vi(a),a):(Vi(a),null)}if(Vi(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==r&&o&&(a.child.flags|=8192),ch(a,a.updateQueue),Mt(a),null;case 4:return nt(),r===null&&Ym(a.stateNode.containerInfo),Mt(a),null;case 10:return Mi(a.type),Mt(a),null;case 19:if(ee(rn),f=a.memoizedState,f===null)return Mt(a),null;if(u=(a.flags&128)!==0,g=f.rendering,g===null)if(u)tu(f,!1);else{if(Ut!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=ah(r),g!==null){for(a.flags|=128,tu(f,!1),r=g.updateQueue,a.updateQueue=r,ch(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)wv(o,r),o=o.sibling;return Y(rn,rn.current&1|2),a.child}r=r.sibling}f.tail!==null&&ct()>dh&&(a.flags|=128,u=!0,tu(f,!1),a.lanes=4194304)}else{if(!u)if(r=ah(g),r!==null){if(a.flags|=128,u=!0,r=r.updateQueue,a.updateQueue=r,ch(a,r),tu(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ot)return Mt(a),null}else 2*ct()-f.renderingStartTime>dh&&o!==536870912&&(a.flags|=128,u=!0,tu(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(r=f.last,r!==null?r.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=ct(),a.sibling=null,r=rn.current,Y(rn,u?r&1|2:r&1),a):(Mt(a),null);case 22:case 23:return Vi(a),Qd(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),o=a.updateQueue,o!==null&&ch(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&ee(Ss),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Mi(nn),Mt(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function SR(r,a){switch(kd(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Mi(nn),nt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Ye(a),null;case 13:if(Vi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ul()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return ee(rn),null;case 4:return nt(),null;case 10:return Mi(a.type),null;case 22:case 23:return Vi(a),Qd(),r!==null&&ee(Ss),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Mi(nn),null;case 25:return null;default:return null}}function W_(r,a){switch(kd(a),a.tag){case 3:Mi(nn),nt();break;case 26:case 27:case 5:Ye(a);break;case 4:nt();break;case 13:Vi(a);break;case 19:ee(rn);break;case 10:Mi(a.type);break;case 22:case 23:Vi(a),Qd(),r!==null&&ee(Ss);break;case 24:Mi(nn)}}function nu(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var g=o.create,w=o.inst;u=g(),w.destroy=u}o=o.next}while(o!==f)}}catch(S){Tt(a,a.return,S)}}function ga(r,a,o){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var w=u.inst,S=w.destroy;if(S!==void 0){w.destroy=void 0,f=a;var M=o,K=S;try{K()}catch(ne){Tt(f,M,ne)}}}u=u.next}while(u!==g)}}catch(ne){Tt(a,a.return,ne)}}function X_(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{Lv(a,o)}catch(u){Tt(r,r.return,u)}}}function Z_(r,a,o){o.props=Rs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){Tt(r,a,u)}}function ru(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){Tt(r,a,f)}}function ui(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Tt(r,a,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Tt(r,a,f)}else o.current=null}function J_(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Tt(r,r.return,f)}}function wm(r,a,o){try{var u=r.stateNode;GR(u,r.type,o,a),u[xt]=a}catch(f){Tt(r,r.return,f)}}function e0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Sa(r.type)||r.tag===4}function Sm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||e0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Sa(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Am(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Th));else if(u!==4&&(u===27&&Sa(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(Am(r,a,o),r=r.sibling;r!==null;)Am(r,a,o),r=r.sibling}function hh(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&Sa(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(hh(r,a,o),r=r.sibling;r!==null;)hh(r,a,o),r=r.sibling}function t0(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);wn(a,u,o),a[jt]=r,a[xt]=o}catch(g){Tt(r,r.return,g)}}var Ui=!1,qt=!1,Rm=!1,n0=typeof WeakSet=="function"?WeakSet:Set,dn=null;function AR(r,a){if(r=r.containerInfo,Wm=xh,r=dv(r),Sd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var w=0,S=-1,M=-1,K=0,ne=0,ae=r,W=null;t:for(;;){for(var Z;ae!==o||f!==0&&ae.nodeType!==3||(S=w+f),ae!==g||u!==0&&ae.nodeType!==3||(M=w+u),ae.nodeType===3&&(w+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)W=ae,ae=Z;for(;;){if(ae===r)break t;if(W===o&&++K===f&&(S=w),W===g&&++ne===u&&(M=w),(Z=ae.nextSibling)!==null)break;ae=W,W=ae.parentNode}ae=Z}o=S===-1||M===-1?null:{start:S,end:M}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xm={focusedElem:r,selectionRange:o},xh=!1,dn=a;dn!==null;)if(a=dn,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,dn=r;else for(;dn!==null;){switch(a=dn,g=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=a,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ce=Rs(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Ce,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(we){Tt(o,o.return,we)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)ep(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ep(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,dn=r;break}dn=a.return}}function r0(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ya(r,o),u&4&&nu(5,o);break;case 1:if(ya(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(w){Tt(o,o.return,w)}else{var f=Rs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(f,a,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Tt(o,o.return,w)}}u&64&&X_(o),u&512&&ru(o,o.return);break;case 3:if(ya(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Lv(r,a)}catch(w){Tt(o,o.return,w)}}break;case 27:a===null&&u&4&&t0(o);case 26:case 5:ya(r,o),a===null&&u&4&&J_(o),u&512&&ru(o,o.return);break;case 12:ya(r,o);break;case 13:ya(r,o),u&4&&s0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=MR.bind(null,o),ZR(r,o))));break;case 22:if(u=o.memoizedState!==null||Ui,!u){a=a!==null&&a.memoizedState!==null||qt,f=Ui;var g=qt;Ui=u,(qt=a)&&!g?va(r,o,(o.subtreeFlags&8772)!==0):ya(r,o),Ui=f,qt=g}break;case 30:break;default:ya(r,o)}}function i0(r){var a=r.alternate;a!==null&&(r.alternate=null,i0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Mr(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Dt=null,Fn=!1;function Bi(r,a,o){for(o=o.child;o!==null;)a0(r,a,o),o=o.sibling}function a0(r,a,o){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(de,o)}catch{}switch(o.tag){case 26:qt||ui(o,a),Bi(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qt||ui(o,a);var u=Dt,f=Fn;Sa(o.type)&&(Dt=o.stateNode,Fn=!1),Bi(r,a,o),fu(o.stateNode),Dt=u,Fn=f;break;case 5:qt||ui(o,a);case 6:if(u=Dt,f=Fn,Dt=null,Bi(r,a,o),Dt=u,Fn=f,Dt!==null)if(Fn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(o.stateNode)}catch(g){Tt(o,a,g)}else try{Dt.removeChild(o.stateNode)}catch(g){Tt(o,a,g)}break;case 18:Dt!==null&&(Fn?(r=Dt,Y0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Eu(r)):Y0(Dt,o.stateNode));break;case 4:u=Dt,f=Fn,Dt=o.stateNode.containerInfo,Fn=!0,Bi(r,a,o),Dt=u,Fn=f;break;case 0:case 11:case 14:case 15:qt||ga(2,o,a),qt||ga(4,o,a),Bi(r,a,o);break;case 1:qt||(ui(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Z_(o,a,u)),Bi(r,a,o);break;case 21:Bi(r,a,o);break;case 22:qt=(u=qt)||o.memoizedState!==null,Bi(r,a,o),qt=u;break;default:Bi(r,a,o)}}function s0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Eu(r)}catch(o){Tt(a,a.return,o)}}function RR(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new n0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new n0),a;default:throw Error(i(435,r.tag))}}function Cm(r,a){var o=RR(r);a.forEach(function(u){var f=kR.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function nr(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=r,w=a,S=w;e:for(;S!==null;){switch(S.tag){case 27:if(Sa(S.type)){Dt=S.stateNode,Fn=!1;break e}break;case 5:Dt=S.stateNode,Fn=!1;break e;case 3:case 4:Dt=S.stateNode.containerInfo,Fn=!0;break e}S=S.return}if(Dt===null)throw Error(i(160));a0(g,w,f),Dt=null,Fn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)o0(a,r),a=a.sibling}var Ur=null;function o0(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:nr(a,r),rr(r),u&4&&(ga(3,r,r.return),nu(3,r),ga(5,r,r.return));break;case 1:nr(a,r),rr(r),u&512&&(qt||o===null||ui(o,o.return)),u&64&&Ui&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Ur;if(nr(a,r),rr(r),u&512&&(qt||o===null||ui(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Pr]||g[jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),wn(g,u,o),g[jt]=r,Ne(g),u=g;break e;case"link":var w=tE("link","href",f).get(u+(o.href||""));if(w){for(var S=0;S<w.length;S++)if(g=w[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(S,1);break t}}g=f.createElement(u),wn(g,u,o),f.head.appendChild(g);break;case"meta":if(w=tE("meta","content",f).get(u+(o.content||""))){for(S=0;S<w.length;S++)if(g=w[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(S,1);break t}}g=f.createElement(u),wn(g,u,o),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[jt]=r,Ne(g),u=g}r.stateNode=u}else nE(f,r.type,r.stateNode);else r.stateNode=eE(f,u,r.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?nE(f,r.type,r.stateNode):eE(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&wm(r,r.memoizedProps,o.memoizedProps)}break;case 27:nr(a,r),rr(r),u&512&&(qt||o===null||ui(o,o.return)),o!==null&&u&4&&wm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(nr(a,r),rr(r),u&512&&(qt||o===null||ui(o,o.return)),r.flags&32){f=r.stateNode;try{pr(f,"")}catch(Z){Tt(r,r.return,Z)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,wm(r,f,o!==null?o.memoizedProps:f)),u&1024&&(Rm=!0);break;case 6:if(nr(a,r),rr(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(Z){Tt(r,r.return,Z)}}break;case 3:if(Rh=null,f=Ur,Ur=Sh(a.containerInfo),nr(a,r),Ur=f,rr(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Eu(a.containerInfo)}catch(Z){Tt(r,r.return,Z)}Rm&&(Rm=!1,l0(r));break;case 4:u=Ur,Ur=Sh(r.stateNode.containerInfo),nr(a,r),rr(r),Ur=u;break;case 12:nr(a,r),rr(r);break;case 13:nr(a,r),rr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Pm=ct()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Cm(r,u)));break;case 22:f=r.memoizedState!==null;var M=o!==null&&o.memoizedState!==null,K=Ui,ne=qt;if(Ui=K||f,qt=ne||M,nr(a,r),qt=ne,Ui=K,rr(r),u&8192)e:for(a=r.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||M||Ui||qt||Cs(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){M=o=a;try{if(g=M.stateNode,f)w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{S=M.stateNode;var ae=M.memoizedProps.style,W=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Z){Tt(M,M.return,Z)}}}else if(a.tag===6){if(o===null){M=a;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(Z){Tt(M,M.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Cm(r,o))));break;case 19:nr(a,r),rr(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Cm(r,u)));break;case 30:break;case 21:break;default:nr(a,r),rr(r)}}function rr(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(e0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,g=Sm(r);hh(r,g,f);break;case 5:var w=o.stateNode;o.flags&32&&(pr(w,""),o.flags&=-33);var S=Sm(r);hh(r,S,w);break;case 3:case 4:var M=o.stateNode.containerInfo,K=Sm(r);Am(r,K,M);break;default:throw Error(i(161))}}catch(ne){Tt(r,r.return,ne)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function l0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;l0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function ya(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)r0(r,a.alternate,a),a=a.sibling}function Cs(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ga(4,a,a.return),Cs(a);break;case 1:ui(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Z_(a,a.return,o),Cs(a);break;case 27:fu(a.stateNode);case 26:case 5:ui(a,a.return),Cs(a);break;case 22:a.memoizedState===null&&Cs(a);break;case 30:Cs(a);break;default:Cs(a)}r=r.sibling}}function va(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=r,g=a,w=g.flags;switch(g.tag){case 0:case 11:case 15:va(f,g,o),nu(4,g);break;case 1:if(va(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Tt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)jv(M[f],S)}catch(K){Tt(u,u.return,K)}}o&&w&64&&X_(g),ru(g,g.return);break;case 27:t0(g);case 26:case 5:va(f,g,o),o&&u===null&&w&4&&J_(g),ru(g,g.return);break;case 12:va(f,g,o);break;case 13:va(f,g,o),o&&w&4&&s0(f,g);break;case 22:g.memoizedState===null&&va(f,g,o),ru(g,g.return);break;case 30:break;default:va(f,g,o)}a=a.sibling}}function Im(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ql(o))}function xm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ql(r))}function ci(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)u0(r,a,o,u),a=a.sibling}function u0(r,a,o,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:ci(r,a,o,u),f&2048&&nu(9,a);break;case 1:ci(r,a,o,u);break;case 3:ci(r,a,o,u),f&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ql(r)));break;case 12:if(f&2048){ci(r,a,o,u),r=a.stateNode;try{var g=a.memoizedProps,w=g.id,S=g.onPostCommit;typeof S=="function"&&S(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(M){Tt(a,a.return,M)}}else ci(r,a,o,u);break;case 13:ci(r,a,o,u);break;case 23:break;case 22:g=a.stateNode,w=a.alternate,a.memoizedState!==null?g._visibility&2?ci(r,a,o,u):iu(r,a):g._visibility&2?ci(r,a,o,u):(g._visibility|=2,Io(r,a,o,u,(a.subtreeFlags&10256)!==0)),f&2048&&Im(w,a);break;case 24:ci(r,a,o,u),f&2048&&xm(a.alternate,a);break;default:ci(r,a,o,u)}}function Io(r,a,o,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=r,w=a,S=o,M=u,K=w.flags;switch(w.tag){case 0:case 11:case 15:Io(g,w,S,M,f),nu(8,w);break;case 23:break;case 22:var ne=w.stateNode;w.memoizedState!==null?ne._visibility&2?Io(g,w,S,M,f):iu(g,w):(ne._visibility|=2,Io(g,w,S,M,f)),f&&K&2048&&Im(w.alternate,w);break;case 24:Io(g,w,S,M,f),f&&K&2048&&xm(w.alternate,w);break;default:Io(g,w,S,M,f)}a=a.sibling}}function iu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,f=u.flags;switch(u.tag){case 22:iu(o,u),f&2048&&Im(u.alternate,u);break;case 24:iu(o,u),f&2048&&xm(u.alternate,u);break;default:iu(o,u)}a=a.sibling}}var au=8192;function xo(r){if(r.subtreeFlags&au)for(r=r.child;r!==null;)c0(r),r=r.sibling}function c0(r){switch(r.tag){case 26:xo(r),r.flags&au&&r.memoizedState!==null&&hC(Ur,r.memoizedState,r.memoizedProps);break;case 5:xo(r);break;case 3:case 4:var a=Ur;Ur=Sh(r.stateNode.containerInfo),xo(r),Ur=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=au,au=16777216,xo(r),au=a):xo(r));break;default:xo(r)}}function h0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function su(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];dn=u,d0(u,r)}h0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)f0(r),r=r.sibling}function f0(r){switch(r.tag){case 0:case 11:case 15:su(r),r.flags&2048&&ga(9,r,r.return);break;case 3:su(r);break;case 12:su(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,fh(r)):su(r);break;default:su(r)}}function fh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];dn=u,d0(u,r)}h0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ga(8,a,a.return),fh(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,fh(a));break;default:fh(a)}r=r.sibling}}function d0(r,a){for(;dn!==null;){var o=dn;switch(o.tag){case 0:case 11:case 15:ga(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ql(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,dn=u;else e:for(o=r;dn!==null;){u=dn;var f=u.sibling,g=u.return;if(i0(u),u===o){dn=null;break e}if(f!==null){f.return=g,dn=f;break e}dn=g}}}var CR={getCacheForType:function(r){var a=Nn(nn),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o}},IR=typeof WeakMap=="function"?WeakMap:Map,mt=0,St=null,qe=null,Ze=0,pt=0,ir=null,_a=!1,Do=!1,Dm=!1,zi=0,Ut=0,Ea=0,Is=0,Nm=0,Sr=0,No=0,ou=null,Gn=null,Om=!1,Pm=0,dh=1/0,mh=null,ba=null,Tn=0,Ta=null,Oo=null,Po=0,Mm=0,km=null,m0=null,lu=0,Vm=null;function ar(){if((mt&2)!==0&&Ze!==0)return Ze&-Ze;if(J.T!==null){var r=Eo;return r!==0?r:Hm()}return Zr()}function p0(){Sr===0&&(Sr=(Ze&536870912)===0||ot?es():536870912);var r=wr.current;return r!==null&&(r.flags|=32),Sr}function sr(r,a,o){(r===St&&(pt===2||pt===9)||r.cancelPendingCommit!==null)&&(Mo(r,0),wa(r,Ze,Sr,!1)),fr(r,o),((mt&2)===0||r!==St)&&(r===St&&((mt&2)===0&&(Is|=o),Ut===4&&wa(r,Ze,Sr,!1)),hi(r))}function g0(r,a,o){if((mt&6)!==0)throw Error(i(327));var u=!o&&(a&124)===0&&(a&r.expiredLanes)===0||Wr(r,a),f=u?NR(r,a):Um(r,a,!0),g=u;do{if(f===0){Do&&!u&&wa(r,a,0,!1);break}else{if(o=r.current.alternate,g&&!xR(o)){f=Um(r,a,!1),g=!1;continue}if(f===2){if(g=a,r.errorRecoveryDisabledLanes&g)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var S=r;f=ou;var M=S.current.memoizedState.isDehydrated;if(M&&(Mo(S,w).flags|=256),w=Um(S,w,!1),w!==2){if(Dm&&!M){S.errorRecoveryDisabledLanes|=g,Is|=g,f=4;break e}g=Gn,Gn=f,g!==null&&(Gn===null?Gn=g:Gn.push.apply(Gn,g))}f=w}if(g=!1,f!==2)continue}}if(f===1){Mo(r,0),wa(r,a,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:wa(u,a,Sr,!_a);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=Pm+300-ct(),10<f)){if(wa(u,a,Sr,!_a),_i(u,0,!0)!==0)break e;u.timeoutHandle=G0(y0.bind(null,u,o,Gn,mh,Om,a,Sr,Is,No,_a,g,2,-0,0),f);break e}y0(u,o,Gn,mh,Om,a,Sr,Is,No,_a,g,0,-0,0)}}break}while(!0);hi(r)}function y0(r,a,o,u,f,g,w,S,M,K,ne,ae,W,Z){if(r.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(pu={stylesheets:null,count:0,unsuspend:cC},c0(a),ae=fC(),ae!==null)){r.cancelPendingCommit=ae(S0.bind(null,r,a,g,o,u,f,w,S,M,ne,1,W,Z)),wa(r,g,w,!K);return}S0(r,a,g,o,u,f,w,S,M)}function xR(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!er(g(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wa(r,a,o,u){a&=~Nm,a&=~Is,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var f=a;0<f;){var g=31-ke(f),w=1<<g;u[g]=-1,f&=~w}o!==0&&Ct(r,o,a)}function ph(){return(mt&6)===0?(uu(0),!1):!0}function jm(){if(qe!==null){if(pt===0)var r=qe.return;else r=qe,Pi=Ts=null,em(r),Ro=null,Jl=0,r=qe;for(;r!==null;)W_(r.alternate,r),r=r.return;qe=null}}function Mo(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,YR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),jm(),St=r,qe=o=Di(r.current,null),Ze=a,pt=0,ir=null,_a=!1,Do=Wr(r,a),Dm=!1,No=Sr=Nm=Is=Ea=Ut=0,Gn=ou=null,Om=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var f=31-ke(u),g=1<<f;a|=r[f],u&=~g}return zi=a,jc(),o}function v0(r,a){Ve=null,J.H=nh,a===Fl||a===$c?(a=kv(),pt=3):a===Ov?(a=kv(),pt=4):pt=a===V_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ir=a,qe===null&&(Ut=1,oh(r,_r(a,r.current)))}function _0(){var r=J.H;return J.H=nh,r===null?nh:r}function E0(){var r=J.A;return J.A=CR,r}function Lm(){Ut=4,_a||(Ze&4194048)!==Ze&&wr.current!==null||(Do=!0),(Ea&134217727)===0&&(Is&134217727)===0||St===null||wa(St,Ze,Sr,!1)}function Um(r,a,o){var u=mt;mt|=2;var f=_0(),g=E0();(St!==r||Ze!==a)&&(mh=null,Mo(r,a)),a=!1;var w=Ut;e:do try{if(pt!==0&&qe!==null){var S=qe,M=ir;switch(pt){case 8:jm(),w=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(a=!0);var K=pt;if(pt=0,ir=null,ko(r,S,M,K),o&&Do){w=0;break e}break;default:K=pt,pt=0,ir=null,ko(r,S,M,K)}}DR(),w=Ut;break}catch(ne){v0(r,ne)}while(!0);return a&&r.shellSuspendCounter++,Pi=Ts=null,mt=u,J.H=f,J.A=g,qe===null&&(St=null,Ze=0,jc()),w}function DR(){for(;qe!==null;)b0(qe)}function NR(r,a){var o=mt;mt|=2;var u=_0(),f=E0();St!==r||Ze!==a?(mh=null,dh=ct()+500,Mo(r,a)):Do=Wr(r,a);e:do try{if(pt!==0&&qe!==null){a=qe;var g=ir;t:switch(pt){case 1:pt=0,ir=null,ko(r,a,g,1);break;case 2:case 9:if(Pv(g)){pt=0,ir=null,T0(a);break}a=function(){pt!==2&&pt!==9||St!==r||(pt=7),hi(r)},g.then(a,a);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Pv(g)?(pt=0,ir=null,T0(a)):(pt=0,ir=null,ko(r,a,g,7));break;case 5:var w=null;switch(qe.tag){case 26:w=qe.memoizedState;case 5:case 27:var S=qe;if(!w||rE(w)){pt=0,ir=null;var M=S.sibling;if(M!==null)qe=M;else{var K=S.return;K!==null?(qe=K,gh(K)):qe=null}break t}}pt=0,ir=null,ko(r,a,g,5);break;case 6:pt=0,ir=null,ko(r,a,g,6);break;case 8:jm(),Ut=6;break e;default:throw Error(i(462))}}OR();break}catch(ne){v0(r,ne)}while(!0);return Pi=Ts=null,J.H=u,J.A=f,mt=o,qe!==null?0:(St=null,Ze=0,jc(),Ut)}function OR(){for(;qe!==null&&!ut();)b0(qe)}function b0(r){var a=K_(r.alternate,r,zi);r.memoizedProps=r.pendingProps,a===null?gh(r):qe=a}function T0(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=q_(o,a,a.pendingProps,a.type,void 0,Ze);break;case 11:a=q_(o,a,a.pendingProps,a.type.render,a.ref,Ze);break;case 5:em(a);default:W_(o,a),a=qe=wv(a,zi),a=K_(o,a,zi)}r.memoizedProps=r.pendingProps,a===null?gh(r):qe=a}function ko(r,a,o,u){Pi=Ts=null,em(a),Ro=null,Jl=0;var f=a.return;try{if(bR(r,f,a,o,Ze)){Ut=1,oh(r,_r(o,r.current)),qe=null;return}}catch(g){if(f!==null)throw qe=f,g;Ut=1,oh(r,_r(o,r.current)),qe=null;return}a.flags&32768?(ot||u===1?r=!0:Do||(Ze&536870912)!==0?r=!1:(_a=r=!0,(u===2||u===9||u===3||u===6)&&(u=wr.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(a,r)):gh(a)}function gh(r){var a=r;do{if((a.flags&32768)!==0){w0(a,_a);return}r=a.return;var o=wR(a.alternate,a,zi);if(o!==null){qe=o;return}if(a=a.sibling,a!==null){qe=a;return}qe=a=r}while(a!==null);Ut===0&&(Ut=5)}function w0(r,a){do{var o=SR(r.alternate,r);if(o!==null){o.flags&=32767,qe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){qe=r;return}qe=r=o}while(r!==null);Ut=6,qe=null}function S0(r,a,o,u,f,g,w,S,M){r.cancelPendingCommit=null;do yh();while(Tn!==0);if((mt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=xd,Gt(r,o,g,w,S,M),r===St&&(qe=St=null,Ze=0),Oo=a,Ta=r,Po=o,Mm=g,km=f,m0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,VR(et,function(){return x0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=ce.p,ce.p=2,w=mt,mt|=4;try{AR(r,a,o)}finally{mt=w,ce.p=f,J.T=u}}Tn=1,A0(),R0(),C0()}}function A0(){if(Tn===1){Tn=0;var r=Ta,a=Oo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=ce.p;ce.p=2;var f=mt;mt|=4;try{o0(a,r);var g=Xm,w=dv(r.containerInfo),S=g.focusedElem,M=g.selectionRange;if(w!==S&&S&&S.ownerDocument&&fv(S.ownerDocument.documentElement,S)){if(M!==null&&Sd(S)){var K=M.start,ne=M.end;if(ne===void 0&&(ne=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ne,S.value.length);else{var ae=S.ownerDocument||document,W=ae&&ae.defaultView||window;if(W.getSelection){var Z=W.getSelection(),Ce=S.textContent.length,we=Math.min(M.start,Ce),_t=M.end===void 0?we:Math.min(M.end,Ce);!Z.extend&&we>_t&&(w=_t,_t=we,we=w);var H=hv(S,we),U=hv(S,_t);if(H&&U&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var $=ae.createRange();$.setStart(H.node,H.offset),Z.removeAllRanges(),we>_t?(Z.addRange($),Z.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),Z.addRange($))}}}}for(ae=[],Z=S;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var ie=ae[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}xh=!!Wm,Xm=Wm=null}finally{mt=f,ce.p=u,J.T=o}}r.current=a,Tn=2}}function R0(){if(Tn===2){Tn=0;var r=Ta,a=Oo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=ce.p;ce.p=2;var f=mt;mt|=4;try{r0(r,a.alternate,a)}finally{mt=f,ce.p=u,J.T=o}}Tn=3}}function C0(){if(Tn===4||Tn===3){Tn=0,Qe();var r=Ta,a=Oo,o=Po,u=m0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Tn=5:(Tn=0,Oo=Ta=null,I0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ba=null),gn(o),a=a.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(de,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=J.T,f=ce.p,ce.p=2,J.T=null;try{for(var g=r.onRecoverableError,w=0;w<u.length;w++){var S=u[w];g(S.value,{componentStack:S.stack})}}finally{J.T=a,ce.p=f}}(Po&3)!==0&&yh(),hi(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Vm?lu++:(lu=0,Vm=r):lu=0,uu(0)}}function I0(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,ql(a)))}function yh(r){return A0(),R0(),C0(),x0()}function x0(){if(Tn!==5)return!1;var r=Ta,a=Mm;Mm=0;var o=gn(Po),u=J.T,f=ce.p;try{ce.p=32>o?32:o,J.T=null,o=km,km=null;var g=Ta,w=Po;if(Tn=0,Oo=Ta=null,Po=0,(mt&6)!==0)throw Error(i(331));var S=mt;if(mt|=4,f0(g.current),u0(g,g.current,w,o),mt=S,uu(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(de,g)}catch{}return!0}finally{ce.p=f,J.T=u,I0(r,a)}}function D0(r,a,o){a=_r(o,a),a=mm(r.stateNode,a,2),r=fa(r,a,2),r!==null&&(fr(r,2),hi(r))}function Tt(r,a,o){if(r.tag===3)D0(r,r,o);else for(;a!==null;){if(a.tag===3){D0(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ba===null||!ba.has(u))){r=_r(o,r),o=M_(2),u=fa(a,o,2),u!==null&&(k_(o,u,a,r),fr(u,2),hi(u));break}}a=a.return}}function Bm(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new IR;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(o)||(Dm=!0,f.add(o),r=PR.bind(null,r,a,o),a.then(r,r))}function PR(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,St===r&&(Ze&o)===o&&(Ut===4||Ut===3&&(Ze&62914560)===Ze&&300>ct()-Pm?(mt&2)===0&&Mo(r,0):Nm|=o,No===Ze&&(No=0)),hi(r)}function N0(r,a){a===0&&(a=ia()),r=go(r,a),r!==null&&(fr(r,a),hi(r))}function MR(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),N0(r,o)}function kR(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),N0(r,o)}function VR(r,a){return Pt(r,a)}var vh=null,Vo=null,zm=!1,_h=!1,qm=!1,xs=0;function hi(r){r!==Vo&&r.next===null&&(Vo===null?vh=Vo=r:Vo=Vo.next=r),_h=!0,zm||(zm=!0,LR())}function uu(r,a){if(!qm&&_h){qm=!0;do for(var o=!1,u=vh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var w=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-ke(42|r)+1)-1,g&=f&~(w&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,k0(u,g))}else g=Ze,g=_i(u,u===St?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Wr(u,g)||(o=!0,k0(u,g));u=u.next}while(o);qm=!1}}function jR(){O0()}function O0(){_h=zm=!1;var r=0;xs!==0&&($R()&&(r=xs),xs=0);for(var a=ct(),o=null,u=vh;u!==null;){var f=u.next,g=P0(u,a);g===0?(u.next=null,o===null?vh=f:o.next=f,f===null&&(Vo=o)):(o=u,(r!==0||(g&3)!==0)&&(_h=!0)),u=f}uu(r)}function P0(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var w=31-ke(g),S=1<<w,M=f[w];M===-1?((S&o)===0||(S&u)!==0)&&(f[w]=Ei(S,a)):M<=a&&(r.expiredLanes|=S),g&=~S}if(a=St,o=Ze,o=_i(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(pt===2||pt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Oe(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Wr(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Oe(u),gn(o)){case 2:case 8:o=At;break;case 32:o=et;break;case 268435456:o=st;break;default:o=et}return u=M0.bind(null,r),o=Pt(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Oe(u),r.callbackPriority=2,r.callbackNode=null,2}function M0(r,a){if(Tn!==0&&Tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(yh()&&r.callbackNode!==o)return null;var u=Ze;return u=_i(r,r===St?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(g0(r,u,a),P0(r,ct()),r.callbackNode!=null&&r.callbackNode===o?M0.bind(null,r):null)}function k0(r,a){if(yh())return null;g0(r,a,!0)}function LR(){KR(function(){(mt&6)!==0?Pt(wt,jR):O0()})}function Hm(){return xs===0&&(xs=es()),xs}function V0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:ro(""+r)}function j0(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function UR(r,a,o,u,f){if(a==="submit"&&o&&o.stateNode===f){var g=V0((f[xt]||null).action),w=u.submitter;w&&(a=(a=w[xt]||null)?V0(a.formAction):w.getAttribute("formAction"),a!==null&&(g=a,w=null));var S=new io("action","action",null,u,f);r.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(xs!==0){var M=w?j0(f,w):new FormData(f);um(o,{pending:!0,data:M,method:f.method,action:g},null,M)}}else typeof g=="function"&&(S.preventDefault(),M=w?j0(f,w):new FormData(f),um(o,{pending:!0,data:M,method:f.method,action:g},g,M))},currentTarget:f}]})}}for(var Fm=0;Fm<Id.length;Fm++){var Gm=Id[Fm],BR=Gm.toLowerCase(),zR=Gm[0].toUpperCase()+Gm.slice(1);Lr(BR,"on"+zR)}Lr(gv,"onAnimationEnd"),Lr(yv,"onAnimationIteration"),Lr(vv,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(iR,"onTransitionRun"),Lr(aR,"onTransitionStart"),Lr(sR,"onTransitionCancel"),Lr(_v,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cu));function L0(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var w=u.length-1;0<=w;w--){var S=u[w],M=S.instance,K=S.currentTarget;if(S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=K;try{g(f)}catch(ne){sh(ne)}f.currentTarget=null,g=M}else for(w=0;w<u.length;w++){if(S=u[w],M=S.instance,K=S.currentTarget,S=S.listener,M!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=K;try{g(f)}catch(ne){sh(ne)}f.currentTarget=null,g=M}}}}function He(r,a){var o=a[bi];o===void 0&&(o=a[bi]=new Set);var u=r+"__bubble";o.has(u)||(U0(a,r,2,!1),o.add(u))}function $m(r,a,o){var u=0;a&&(u|=4),U0(o,r,u,a)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Ym(r){if(!r[Eh]){r[Eh]=!0,vn.forEach(function(o){o!=="selectionchange"&&(qR.has(o)||$m(o,!1,r),$m(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Eh]||(a[Eh]=!0,$m("selectionchange",!1,a))}}function U0(r,a,o,u){switch(uE(a)){case 2:var f=pC;break;case 8:f=gC;break;default:f=op}o=f.bind(null,a,o,r),f=void 0,!yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(a,o,{capture:!0,passive:f}):r.addEventListener(a,o,!0):f!==void 0?r.addEventListener(a,o,{passive:f}):r.addEventListener(a,o,!1)}function Km(r,a,o,u,f){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var S=u.stateNode.containerInfo;if(S===f)break;if(w===4)for(w=u.return;w!==null;){var M=w.tag;if((M===3||M===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;S!==null;){if(w=kr(S),w===null)return;if(M=w.tag,M===5||M===6||M===26||M===27){u=g=w;continue e}S=S.parentNode}}u=u.return}Tc(function(){var K=g,ne=gr(o),ae=[];e:{var W=Ev.get(r);if(W!==void 0){var Z=io,Ce=r;switch(r){case"keypress":if(ni(o)===0)break e;case"keydown":case"keyup":Z=co;break;case"focusin":Ce="focus",Z=oo;break;case"focusout":Ce="blur",Z=oo;break;case"beforeblur":case"afterblur":Z=oo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Dc;break;case gv:case yv:case vv:Z=lo;break;case _v:Z=Oc;break;case"scroll":case"scrollend":Z=wc;break;case"wheel":Z=ho;break;case"copy":case"cut":case"paste":Z=uo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Ml;break;case"toggle":case"beforetoggle":Z=Mc}var we=(a&4)!==0,_t=!we&&(r==="scroll"||r==="scrollend"),H=we?W!==null?W+"Capture":null:W;we=[];for(var U=K,$;U!==null;){var ie=U;if($=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||$===null||H===null||(ie=ls(U,H),ie!=null&&we.push(hu(U,ie,$))),_t)break;U=U.return}0<we.length&&(W=new Z(W,Ce,null,o,ne),ae.push({event:W,listeners:we}))}}if((a&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",W&&o!==Si&&(Ce=o.relatedTarget||o.fromElement)&&(kr(Ce)||Ce[yn]))break e;if((Z||W)&&(W=ne.window===ne?ne:(W=ne.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(Ce=o.relatedTarget||o.toElement,Z=K,Ce=Ce?kr(Ce):null,Ce!==null&&(_t=l(Ce),we=Ce.tag,Ce!==_t||we!==5&&we!==27&&we!==6)&&(Ce=null)):(Z=null,Ce=K),Z!==Ce)){if(we=vr,ie="onMouseLeave",H="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(we=Ml,ie="onPointerLeave",H="onPointerEnter",U="pointer"),_t=Z==null?W:Ie(Z),$=Ce==null?W:Ie(Ce),W=new we(ie,U+"leave",Z,o,ne),W.target=_t,W.relatedTarget=$,ie=null,kr(ne)===K&&(we=new we(H,U+"enter",Ce,o,ne),we.target=$,we.relatedTarget=_t,ie=we),_t=ie,Z&&Ce)t:{for(we=Z,H=Ce,U=0,$=we;$;$=jo($))U++;for($=0,ie=H;ie;ie=jo(ie))$++;for(;0<U-$;)we=jo(we),U--;for(;0<$-U;)H=jo(H),$--;for(;U--;){if(we===H||H!==null&&we===H.alternate)break t;we=jo(we),H=jo(H)}we=null}else we=null;Z!==null&&B0(ae,W,Z,we,!1),Ce!==null&&_t!==null&&B0(ae,_t,Ce,we,!0)}}e:{if(W=K?Ie(K):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var ve=av;else if(tn(W))if(sv)ve=tR;else{ve=JA;var Ue=ZA}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?K&&Cl(K.elementType)&&(ve=av):ve=eR;if(ve&&(ve=ve(r,K))){xi(ae,ve,o,ne);break e}Ue&&Ue(r,W,K),r==="focusout"&&K&&W.type==="number"&&K.memoizedProps.value!=null&&oa(W,"number",W.value)}switch(Ue=K?Ie(K):window,r){case"focusin":(tn(Ue)||Ue.contentEditable==="true")&&(fo=Ue,Ad=K,jl=null);break;case"focusout":jl=Ad=fo=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,mv(ae,o,ne);break;case"selectionchange":if(rR)break;case"keydown":case"keyup":mv(ae,o,ne)}var Ee;if(ai)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else We?te(r,o)&&(Se="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(T&&o.locale!=="ko"&&(We||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&We&&(Ee=xl()):(ti=ne,la="value"in ti?ti.value:ti.textContent,We=!0)),Ue=bh(K,Se),0<Ue.length&&(Se=new Ol(Se,r,null,o,ne),ae.push({event:Se,listeners:Ue}),Ee?Se.data=Ee:(Ee=he(o),Ee!==null&&(Se.data=Ee)))),(Ee=v?en(r,o):Xe(r,o))&&(Se=bh(K,"onBeforeInput"),0<Se.length&&(Ue=new Ol("onBeforeInput","beforeinput",null,o,ne),ae.push({event:Ue,listeners:Se}),Ue.data=Ee)),UR(ae,r,K,o,ne)}L0(ae,a)})}function hu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function bh(r,a){for(var o=a+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=ls(r,o),f!=null&&u.unshift(hu(r,f,g)),f=ls(r,a),f!=null&&u.push(hu(r,f,g))),r.tag===3)return u;r=r.return}return[]}function jo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function B0(r,a,o,u,f){for(var g=a._reactName,w=[];o!==null&&o!==u;){var S=o,M=S.alternate,K=S.stateNode;if(S=S.tag,M!==null&&M===u)break;S!==5&&S!==26&&S!==27||K===null||(M=K,f?(K=ls(o,g),K!=null&&w.unshift(hu(o,K,M))):f||(K=ls(o,g),K!=null&&w.push(hu(o,K,M)))),o=o.return}w.length!==0&&r.push({event:a,listeners:w})}var HR=/\r\n?/g,FR=/\u0000|\uFFFD/g;function z0(r){return(typeof r=="string"?r:""+r).replace(HR,`
`).replace(FR,"")}function q0(r,a){return a=z0(a),z0(r)===a}function Th(){}function vt(r,a,o,u,f,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pr(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pr(r,""+u);break;case"className":Jr(r,"class",u);break;case"tabIndex":Jr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(r,o,u);break;case"style":Rl(r,u,g);break;case"data":if(a!=="object"){Jr(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ro(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&vt(r,a,"name",f.name,f,null),vt(r,a,"formEncType",f.formEncType,f,null),vt(r,a,"formMethod",f.formMethod,f,null),vt(r,a,"formTarget",f.formTarget,f,null)):(vt(r,a,"encType",f.encType,f,null),vt(r,a,"method",f.method,f,null),vt(r,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=ro(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=Th);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=ro(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":He("beforetoggle",r),He("toggle",r),sa(r,"popover",u);break;case"xlinkActuate":_n(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_n(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_n(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_n(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_n(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_n(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_n(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_n(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_n(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":sa(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vd.get(o)||o,sa(r,o,u))}}function Qm(r,a,o,u,f,g){switch(o){case"style":Rl(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?pr(r,u):(typeof u=="number"||typeof u=="bigint")&&pr(r,""+u);break;case"onScroll":u!=null&&He("scroll",r);break;case"onScrollEnd":u!=null&&He("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!un.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),g=r[xt]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(a,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):sa(r,o,u)}}}function wn(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",r),He("load",r);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var w=o[g];if(w!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:vt(r,a,g,w,o,null)}}f&&vt(r,a,"srcSet",o.srcSet,o,null),u&&vt(r,a,"src",o.src,o,null);return;case"input":He("invalid",r);var S=g=w=f=null,M=null,K=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":w=ne;break;case"checked":M=ne;break;case"defaultChecked":K=ne;break;case"value":g=ne;break;case"defaultValue":S=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,a));break;default:vt(r,a,u,ne,o,null)}}as(r,g,S,M,K,w,f,!1),no(r);return;case"select":He("invalid",r),u=w=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":w=S;break;case"multiple":u=S;default:vt(r,a,f,S,o,null)}a=g,o=w,r.multiple=!!u,a!=null?wi(r,!!u,a,!1):o!=null&&wi(r,!!u,o,!0);return;case"textarea":He("invalid",r),g=f=u=null;for(w in o)if(o.hasOwnProperty(w)&&(S=o[w],S!=null))switch(w){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:vt(r,a,w,S,o,null)}ss(r,u,f,g),no(r);return;case"option":for(M in o)if(o.hasOwnProperty(M)&&(u=o[M],u!=null))switch(M){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:vt(r,a,M,u,o,null)}return;case"dialog":He("beforetoggle",r),He("toggle",r),He("cancel",r),He("close",r);break;case"iframe":case"object":He("load",r);break;case"video":case"audio":for(u=0;u<cu.length;u++)He(cu[u],r);break;case"image":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"embed":case"source":case"link":He("error",r),He("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in o)if(o.hasOwnProperty(K)&&(u=o[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:vt(r,a,K,u,o,null)}return;default:if(Cl(a)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Qm(r,a,ne,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&vt(r,a,S,u,o,null))}function GR(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,w=null,S=null,M=null,K=null,ne=null;for(Z in o){var ae=o[Z];if(o.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":M=ae;default:u.hasOwnProperty(Z)||vt(r,a,Z,null,u,ae)}}for(var W in u){var Z=u[W];if(ae=o[W],u.hasOwnProperty(W)&&(Z!=null||ae!=null))switch(W){case"type":g=Z;break;case"name":f=Z;break;case"checked":K=Z;break;case"defaultChecked":ne=Z;break;case"value":w=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==ae&&vt(r,a,W,Z,u,ae)}}Jn(r,w,S,M,K,ne,g,f);return;case"select":Z=w=S=W=null;for(g in o)if(M=o[g],o.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":Z=M;default:u.hasOwnProperty(g)||vt(r,a,g,null,u,M)}for(f in u)if(g=u[f],M=o[f],u.hasOwnProperty(f)&&(g!=null||M!=null))switch(f){case"value":W=g;break;case"defaultValue":S=g;break;case"multiple":w=g;default:g!==M&&vt(r,a,f,g,u,M)}a=S,o=w,u=Z,W!=null?wi(r,!!o,W,!1):!!u!=!!o&&(a!=null?wi(r,!!o,a,!0):wi(r,!!o,o?[]:"",!1));return;case"textarea":Z=W=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:vt(r,a,S,null,u,f)}for(w in u)if(f=u[w],g=o[w],u.hasOwnProperty(w)&&(f!=null||g!=null))switch(w){case"value":W=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&vt(r,a,w,f,u,g)}gt(r,W,Z);return;case"option":for(var Ce in o)if(W=o[Ce],o.hasOwnProperty(Ce)&&W!=null&&!u.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:vt(r,a,Ce,null,u,W)}for(M in u)if(W=u[M],Z=o[M],u.hasOwnProperty(M)&&W!==Z&&(W!=null||Z!=null))switch(M){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:vt(r,a,M,W,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in o)W=o[we],o.hasOwnProperty(we)&&W!=null&&!u.hasOwnProperty(we)&&vt(r,a,we,null,u,W);for(K in u)if(W=u[K],Z=o[K],u.hasOwnProperty(K)&&W!==Z&&(W!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:vt(r,a,K,W,u,Z)}return;default:if(Cl(a)){for(var _t in o)W=o[_t],o.hasOwnProperty(_t)&&W!==void 0&&!u.hasOwnProperty(_t)&&Qm(r,a,_t,void 0,u,W);for(ne in u)W=u[ne],Z=o[ne],!u.hasOwnProperty(ne)||W===Z||W===void 0&&Z===void 0||Qm(r,a,ne,W,u,Z);return}}for(var H in o)W=o[H],o.hasOwnProperty(H)&&W!=null&&!u.hasOwnProperty(H)&&vt(r,a,H,null,u,W);for(ae in u)W=u[ae],Z=o[ae],!u.hasOwnProperty(ae)||W===Z||W==null&&Z==null||vt(r,a,ae,W,u,Z)}var Wm=null,Xm=null;function wh(r){return r.nodeType===9?r:r.ownerDocument}function H0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F0(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Zm(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jm=null;function $R(){var r=window.event;return r&&r.type==="popstate"?r===Jm?!1:(Jm=r,!0):(Jm=null,!1)}var G0=typeof setTimeout=="function"?setTimeout:void 0,YR=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,KR=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(r){return $0.resolve(null).then(r).catch(QR)}:G0;function QR(r){setTimeout(function(){throw r})}function Sa(r){return r==="head"}function Y0(r,a){var o=a,u=0,f=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var w=r.ownerDocument;if(o&1&&fu(w.documentElement),o&2&&fu(w.body),o&4)for(o=w.head,fu(o),w=o.firstChild;w;){var S=w.nextSibling,M=w.nodeName;w[Pr]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=S}}if(f===0){r.removeChild(g),Eu(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Eu(a)}function ep(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ep(o),Mr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function WR(r,a,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Pr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Br(r.nextSibling),r===null)break}return null}function XR(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Br(r.nextSibling),r===null))return null;return r}function tp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ZR(r,a){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Br(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var np=null;function K0(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}function Q0(r,a,o){switch(a=wh(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function fu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Mr(r)}var Ar=new Map,W0=new Set;function Sh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var qi=ce.d;ce.d={f:JR,r:eC,D:tC,C:nC,L:rC,m:iC,X:sC,S:aC,M:oC};function JR(){var r=qi.f(),a=ph();return r||a}function eC(r){var a=mr(r);a!==null&&a.tag===5&&a.type==="form"?g_(a):qi.r(r)}var Lo=typeof document>"u"?null:document;function X0(r,a,o){var u=Lo;if(u&&typeof a=="string"&&a){var f=$t(a);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),W0.has(f)||(W0.add(f),r={rel:r,crossOrigin:o,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),wn(a,"link",r),Ne(a),u.head.appendChild(a)))}}function tC(r){qi.D(r),X0("dns-prefetch",r,null)}function nC(r,a){qi.C(r,a),X0("preconnect",r,a)}function rC(r,a,o){qi.L(r,a,o);var u=Lo;if(u&&r&&a){var f='link[rel="preload"][as="'+$t(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+$t(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+$t(o.imageSizes)+'"]')):f+='[href="'+$t(r)+'"]';var g=f;switch(a){case"style":g=Uo(r);break;case"script":g=Bo(r)}Ar.has(g)||(r=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Ar.set(g,r),u.querySelector(f)!==null||a==="style"&&u.querySelector(du(g))||a==="script"&&u.querySelector(mu(g))||(a=u.createElement("link"),wn(a,"link",r),Ne(a),u.head.appendChild(a)))}}function iC(r,a){qi.m(r,a);var o=Lo;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+$t(u)+'"][href="'+$t(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Bo(r)}if(!Ar.has(g)&&(r=y({rel:"modulepreload",href:r},a),Ar.set(g,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(mu(g)))return}u=o.createElement("link"),wn(u,"link",r),Ne(u),o.head.appendChild(u)}}}function aC(r,a,o){qi.S(r,a,o);var u=Lo;if(u&&r){var f=Le(u).hoistableStyles,g=Uo(r);a=a||"default";var w=f.get(g);if(!w){var S={loading:0,preload:null};if(w=u.querySelector(du(g)))S.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Ar.get(g))&&rp(r,o);var M=w=u.createElement("link");Ne(M),wn(M,"link",r),M._p=new Promise(function(K,ne){M.onload=K,M.onerror=ne}),M.addEventListener("load",function(){S.loading|=1}),M.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ah(w,a,u)}w={type:"stylesheet",instance:w,count:1,state:S},f.set(g,w)}}}function sC(r,a){qi.X(r,a);var o=Lo;if(o&&r){var u=Le(o).hoistableScripts,f=Bo(r),g=u.get(f);g||(g=o.querySelector(mu(f)),g||(r=y({src:r,async:!0},a),(a=Ar.get(f))&&ip(r,a),g=o.createElement("script"),Ne(g),wn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function oC(r,a){qi.M(r,a);var o=Lo;if(o&&r){var u=Le(o).hoistableScripts,f=Bo(r),g=u.get(f);g||(g=o.querySelector(mu(f)),g||(r=y({src:r,async:!0,type:"module"},a),(a=Ar.get(f))&&ip(r,a),g=o.createElement("script"),Ne(g),wn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Z0(r,a,o,u){var f=(f=pe.current)?Sh(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Uo(o.href),o=Le(f).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Uo(o.href);var g=Le(f).hoistableStyles,w=g.get(r);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,w),(g=f.querySelector(du(r)))&&!g._p&&(w.instance=g,w.state.loading=5),Ar.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ar.set(r,o),g||lC(f,r,o,w.state))),a&&u===null)throw Error(i(528,""));return w}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bo(o),o=Le(f).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Uo(r){return'href="'+$t(r)+'"'}function du(r){return'link[rel="stylesheet"]['+r+"]"}function J0(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function lC(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),wn(a,"link",o),Ne(a),r.head.appendChild(a))}function Bo(r){return'[src="'+$t(r)+'"]'}function mu(r){return"script[async]"+r}function eE(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+$t(o.href)+'"]');if(u)return a.instance=u,Ne(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Ne(u),wn(u,"style",f),Ah(u,o.precedence,r),a.instance=u;case"stylesheet":f=Uo(o.href);var g=r.querySelector(du(f));if(g)return a.state.loading|=4,a.instance=g,Ne(g),g;u=J0(o),(f=Ar.get(f))&&rp(u,f),g=(r.ownerDocument||r).createElement("link"),Ne(g);var w=g;return w._p=new Promise(function(S,M){w.onload=S,w.onerror=M}),wn(g,"link",u),a.state.loading|=4,Ah(g,o.precedence,r),a.instance=g;case"script":return g=Bo(o.src),(f=r.querySelector(mu(g)))?(a.instance=f,Ne(f),f):(u=o,(f=Ar.get(g))&&(u=y({},o),ip(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),Ne(f),wn(f,"link",u),r.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Ah(u,o.precedence,r));return a.instance}function Ah(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,w=0;w<u.length;w++){var S=u[w];if(S.dataset.precedence===a)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function rp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function ip(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Rh=null;function tE(r,a,o){if(Rh===null){var u=new Map,f=Rh=new Map;f.set(o,u)}else f=Rh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var g=o[f];if(!(g[Pr]||g[jt]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var w=g.getAttribute(a)||"";w=r+w;var S=u.get(w);S?S.push(g):u.set(w,[g])}}return u}function nE(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function uC(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function rE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var pu=null;function cC(){}function hC(r,a,o){if(pu===null)throw Error(i(475));var u=pu;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Uo(o.href),g=r.querySelector(du(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Ch.bind(u),r.then(u,u)),a.state.loading|=4,a.instance=g,Ne(g);return}g=r.ownerDocument||r,o=J0(o),(f=Ar.get(f))&&rp(o,f),g=g.createElement("link"),Ne(g);var w=g;w._p=new Promise(function(S,M){w.onload=S,w.onerror=M}),wn(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Ch.bind(u),r.addEventListener("load",a),r.addEventListener("error",a))}}function fC(){if(pu===null)throw Error(i(475));var r=pu;return r.stylesheets&&r.count===0&&ap(r,r.stylesheets),0<r.count?function(a){var o=setTimeout(function(){if(r.stylesheets&&ap(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)ap(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ih=null;function ap(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ih=new Map,a.forEach(dC,r),Ih=null,Ch.call(r))}function dC(r,a){if(!(a.state.loading&4)){var o=Ih.get(r);if(o)var u=o.get(null);else{o=new Map,Ih.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var w=f[g];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),u=w)}u&&o.set(null,u)}f=a.instance,w=f.getAttribute("data-precedence"),g=o.get(w)||u,g===u&&o.set(null,f),o.set(w,f),this.count++,u=Ch.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),a.state.loading|=4}}var gu={$$typeof:F,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function mC(r,a,o,u,f,g,w,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function iE(r,a,o,u,f,g,w,S,M,K,ne,ae){return r=new mC(r,a,o,w,S,M,K,ae),a=1,g===!0&&(a|=24),g=tr(3,null,null,a),r.current=g,g.stateNode=r,a=Bd(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},Fd(g),r}function aE(r){return r?(r=yo,r):yo}function sE(r,a,o,u,f,g){f=aE(f),u.context===null?u.context=f:u.pendingContext=f,u=ha(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=fa(r,u,a),o!==null&&(sr(o,r,a),$l(o,r,a))}function oE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function sp(r,a){oE(r,a),(r=r.alternate)&&oE(r,a)}function lE(r){if(r.tag===13){var a=go(r,67108864);a!==null&&sr(a,r,67108864),sp(r,67108864)}}var xh=!0;function pC(r,a,o,u){var f=J.T;J.T=null;var g=ce.p;try{ce.p=2,op(r,a,o,u)}finally{ce.p=g,J.T=f}}function gC(r,a,o,u){var f=J.T;J.T=null;var g=ce.p;try{ce.p=8,op(r,a,o,u)}finally{ce.p=g,J.T=f}}function op(r,a,o,u){if(xh){var f=lp(u);if(f===null)Km(r,a,u,Dh,o),cE(r,u);else if(vC(f,r,a,o,u))u.stopPropagation();else if(cE(r,u),a&4&&-1<yC.indexOf(r)){for(;f!==null;){var g=mr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var w=Dn(g.pendingLanes);if(w!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;w;){var M=1<<31-ke(w);S.entanglements[1]|=M,w&=~M}hi(g),(mt&6)===0&&(dh=ct()+500,uu(0))}}break;case 13:S=go(g,2),S!==null&&sr(S,g,2),ph(),sp(g,2)}if(g=lp(u),g===null&&Km(r,a,u,Dh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Km(r,a,u,null,o)}}function lp(r){return r=gr(r),up(r)}var Dh=null;function up(r){if(Dh=null,r=kr(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Dh=r,null}function uE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ln()){case wt:return 2;case At:return 8;case et:case ze:return 32;case st:return 268435456;default:return 32}default:return 32}}var cp=!1,Aa=null,Ra=null,Ca=null,yu=new Map,vu=new Map,Ia=[],yC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cE(r,a){switch(r){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":yu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":vu.delete(a.pointerId)}}function _u(r,a,o,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},a!==null&&(a=mr(a),a!==null&&lE(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),r)}function vC(r,a,o,u,f){switch(a){case"focusin":return Aa=_u(Aa,r,a,o,u,f),!0;case"dragenter":return Ra=_u(Ra,r,a,o,u,f),!0;case"mouseover":return Ca=_u(Ca,r,a,o,u,f),!0;case"pointerover":var g=f.pointerId;return yu.set(g,_u(yu.get(g)||null,r,a,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,vu.set(g,_u(vu.get(g)||null,r,a,o,u,f)),!0}return!1}function hE(r){var a=kr(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,aa(r.priority,function(){if(o.tag===13){var u=ar();u=rt(u);var f=go(o,u);f!==null&&sr(f,o,u),sp(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Nh(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=lp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Si=u,o.target.dispatchEvent(u),Si=null}else return a=mr(o),a!==null&&lE(a),r.blockedOn=o,!1;a.shift()}return!0}function fE(r,a,o){Nh(r)&&o.delete(a)}function _C(){cp=!1,Aa!==null&&Nh(Aa)&&(Aa=null),Ra!==null&&Nh(Ra)&&(Ra=null),Ca!==null&&Nh(Ca)&&(Ca=null),yu.forEach(fE),vu.forEach(fE)}function Oh(r,a){r.blockedOn===a&&(r.blockedOn=null,cp||(cp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,_C)))}var Ph=null;function dE(r){Ph!==r&&(Ph=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ph===r&&(Ph=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],f=r[a+2];if(typeof u!="function"){if(up(u||o)===null)continue;break}var g=mr(o);g!==null&&(r.splice(a,3),a-=3,um(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Eu(r){function a(M){return Oh(M,r)}Aa!==null&&Oh(Aa,r),Ra!==null&&Oh(Ra,r),Ca!==null&&Oh(Ca,r),yu.forEach(a),vu.forEach(a);for(var o=0;o<Ia.length;o++){var u=Ia[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Ia.length&&(o=Ia[0],o.blockedOn===null);)hE(o),o.blockedOn===null&&Ia.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],w=f[xt]||null;if(typeof g=="function")w||dE(o);else if(w){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,w=g[xt]||null)S=w.formAction;else if(up(f)!==null)continue}else S=w.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),dE(o)}}}function hp(r){this._internalRoot=r}Mh.prototype.render=hp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=ar();sE(o,u,r,a,null,null)},Mh.prototype.unmount=hp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sE(r.current,2,null,r,null,null),ph(),a[yn]=null}};function Mh(r){this._internalRoot=r}Mh.prototype.unstable_scheduleHydration=function(r){if(r){var a=Zr();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Ia.length&&a!==0&&a<Ia[o].priority;o++);Ia.splice(o,0,r),o===0&&hE(r)}};var mE=e.version;if(mE!=="19.1.0")throw Error(i(527,mE,"19.1.0"));ce.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var EC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{de=kh.inject(EC),Fe=kh}catch{}}return Tu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",f=D_,g=N_,w=O_,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=iE(r,1,!1,null,null,o,u,f,g,w,S,null),r[yn]=a.current,Ym(r),new hp(a)},Tu.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,f="",g=D_,w=N_,S=O_,M=null,K=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(M=o.unstable_transitionCallbacks),o.formState!==void 0&&(K=o.formState)),a=iE(r,1,!0,a,o??null,u,f,g,w,S,M,K),a.context=aE(null),o=a.current,u=ar(),u=rt(u),f=ha(u),f.callback=null,fa(o,f,u),o=u,a.current.lanes=o,fr(a,o),hi(a),r[yn]=a.current,Ym(r),new Mh(a)},Tu.version="19.1.0",Tu}var SE;function DC(){if(SE)return mp.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mp.exports=xC(),mp.exports}var NC=DC(),wu={},AE;function OC(){if(AE)return wu;AE=1,Object.defineProperty(wu,"__esModule",{value:!0}),wu.parse=c,wu.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,A){const I=new l,O=b.length;if(O<2)return I;const D=(A==null?void 0:A.decode)||y;let q=0;do{const X=b.indexOf("=",q);if(X===-1)break;const F=b.indexOf(";",q),re=F===-1?O:F;if(X>re){q=b.lastIndexOf(";",X-1)+1;continue}const le=m(b,q,X),me=d(b,X,le),V=b.slice(le,me);if(I[V]===void 0){let x=m(b,X+1,re),N=d(b,re,x);const k=D(b.slice(x,N));I[V]=k}q=re+1}while(q<O);return I}function m(b,A,I){do{const O=b.charCodeAt(A);if(O!==32&&O!==9)return A}while(++A<I);return I}function d(b,A,I){for(;A>I;){const O=b.charCodeAt(--A);if(O!==32&&O!==9)return A+1}return I}function p(b,A,I){const O=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=O(A);if(!e.test(D))throw new TypeError(`argument val is invalid: ${A}`);let q=b+"="+D;if(!I)return q;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);q+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);q+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);q+="; Path="+I.path}if(I.expires){if(!E(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);q+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(q+="; HttpOnly"),I.secure&&(q+="; Secure"),I.partitioned&&(q+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return q}function y(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function E(b){return s.call(b)==="[object Date]"}return wu}OC();var RE="popstate";function PC(n={}){function e(i,s){let{pathname:l,search:c,hash:m}=i.location;return Fp("",{pathname:l,search:c,hash:m},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Uu(s)}return kC(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function xr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MC(){return Math.random().toString(36).substring(2,10)}function CE(n,e){return{usr:n.state,key:n.key,idx:e}}function Fp(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ul(e):e,state:t,key:e&&e.key||i||MC()}}function Uu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ul(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function kC(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,m="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function E(){m="POP";let D=y(),q=D==null?null:D-p;p=D,d&&d({action:m,location:O.location,delta:q})}function b(D,q){m="PUSH";let X=Fp(O.location,D,q);p=y()+1;let F=CE(X,p),re=O.createHref(X);try{c.pushState(F,"",re)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;s.location.assign(re)}l&&d&&d({action:m,location:O.location,delta:1})}function A(D,q){m="REPLACE";let X=Fp(O.location,D,q);p=y();let F=CE(X,p),re=O.createHref(X);c.replaceState(F,"",re),l&&d&&d({action:m,location:O.location,delta:0})}function I(D){return VC(D)}let O={get action(){return m},get location(){return n(s,c)},listen(D){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(RE,E),d=D,()=>{s.removeEventListener(RE,E),d=null}},createHref(D){return e(s,D)},createURL:I,encodeLocation(D){let q=I(D);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:b,replace:A,go(D){return c.go(D)}};return O}function VC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Uu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function FT(n,e,t="/"){return jC(n,e,t,!1)}function jC(n,e,t,i){let s=typeof e=="string"?ul(e):e,l=Xi(s.pathname||"/",t);if(l==null)return null;let c=GT(n);LC(c);let m=null;for(let d=0;m==null&&d<c.length;++d){let p=QC(l);m=YC(c[d],p,i)}return m}function GT(n,e=[],t=[],i=""){let s=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(Nt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let p=Ki([i,d.relativePath]),y=t.concat(d);l.children&&l.children.length>0&&(Nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),GT(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:GC(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))s(l,c);else for(let d of $T(l.path))s(l,c,d)}),e}function $T(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=$T(i.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),s&&m.push(...c),m.map(d=>n.startsWith("/")&&d===""?"/":d)}function LC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$C(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var UC=/^:[\w-]+$/,BC=3,zC=2,qC=1,HC=10,FC=-2,IE=n=>n==="*";function GC(n,e){let t=n.split("/"),i=t.length;return t.some(IE)&&(i+=FC),e&&(i+=zC),t.filter(s=>!IE(s)).reduce((s,l)=>s+(UC.test(l)?BC:l===""?qC:HC),i)}function $C(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function YC(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let m=0;m<i.length;++m){let d=i[m],p=m===i.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=sf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),b=d.route;if(!E&&p&&t&&!i[i.length-1].route.index&&(E=sf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:Ki([l,E.pathname]),pathnameBase:JC(Ki([l,E.pathnameBase])),route:b}),E.pathnameBase!=="/"&&(l=Ki([l,E.pathnameBase]))}return c}function sf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:E},b)=>{if(y==="*"){let I=m[b]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const A=m[b];return E&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function KC(n,e=!1,t=!0){xr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,d)=>(i.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function QC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Xi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function WC(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?ul(n):n;return{pathname:t?t.startsWith("/")?t:XC(t,e):e,search:eI(i),hash:tI(s)}}function XC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function vp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kg(n){let e=ZC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Vg(n,e,t,i=!1){let s;typeof n=="string"?s=ul(n):(s={...n},Nt(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,m;if(c==null)m=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),E-=1;s.pathname=b.join("/")}m=E>=0?e[E]:"/"}let d=WC(s,m),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var Ki=n=>n.join("/").replace(/\/\/+/g,"/"),JC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function nI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var YT=["POST","PUT","PATCH","DELETE"];new Set(YT);var rI=["GET",...YT];new Set(rI);var cl=j.createContext(null);cl.displayName="DataRouter";var Pf=j.createContext(null);Pf.displayName="DataRouterState";var KT=j.createContext({isTransitioning:!1});KT.displayName="ViewTransition";var iI=j.createContext(new Map);iI.displayName="Fetchers";var aI=j.createContext(null);aI.displayName="Await";var $r=j.createContext(null);$r.displayName="Navigation";var ec=j.createContext(null);ec.displayName="Location";var Yr=j.createContext({outlet:null,matches:[],isDataRoute:!1});Yr.displayName="Route";var jg=j.createContext(null);jg.displayName="RouteError";function sI(n,{relative:e}={}){Nt(hl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=j.useContext($r),{hash:s,pathname:l,search:c}=tc(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:Ki([t,l])),i.createHref({pathname:m,search:c,hash:s})}function hl(){return j.useContext(ec)!=null}function Kr(){return Nt(hl(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(ec).location}var QT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WT(n){j.useContext($r).static||j.useLayoutEffect(n)}function on(){let{isDataRoute:n}=j.useContext(Yr);return n?_I():oI()}function oI(){Nt(hl(),"useNavigate() may be used only in the context of a <Router> component.");let n=j.useContext(cl),{basename:e,navigator:t}=j.useContext($r),{matches:i}=j.useContext(Yr),{pathname:s}=Kr(),l=JSON.stringify(kg(i)),c=j.useRef(!1);return WT(()=>{c.current=!0}),j.useCallback((d,p={})=>{if(xr(c.current,QT),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=Vg(d,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ki([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,s,n])}j.createContext(null);function fl(){let{matches:n}=j.useContext(Yr),e=n[n.length-1];return e?e.params:{}}function tc(n,{relative:e}={}){let{matches:t}=j.useContext(Yr),{pathname:i}=Kr(),s=JSON.stringify(kg(t));return j.useMemo(()=>Vg(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function lI(n,e){return XT(n,e)}function XT(n,e,t,i){var q;Nt(hl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=j.useContext($r),{matches:l}=j.useContext(Yr),c=l[l.length-1],m=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let X=y&&y.path||"";ZT(d,!y||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let E=Kr(),b;if(e){let X=typeof e=="string"?ul(e):e;Nt(p==="/"||((q=X.pathname)==null?void 0:q.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${X.pathname}" was given in the \`location\` prop.`),b=X}else b=E;let A=b.pathname||"/",I=A;if(p!=="/"){let X=p.replace(/^\//,"").split("/");I="/"+A.replace(/^\//,"").split("/").slice(X.length).join("/")}let O=FT(n,{pathname:I});xr(y||O!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),xr(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=dI(O&&O.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:Ki([p,s.encodeLocation?s.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?p:Ki([p,s.encodeLocation?s.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),l,t,i);return e&&D?j.createElement(ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},D):D}function uI(){let n=vI(),e=nI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:l},"ErrorBoundary")," or"," ",j.createElement("code",{style:l},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),t?j.createElement("pre",{style:s},t):null,c)}var cI=j.createElement(uI,null),hI=class extends j.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?j.createElement(Yr.Provider,{value:this.props.routeContext},j.createElement(jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fI({routeContext:n,match:e,children:t}){let i=j.useContext(cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Yr.Provider,{value:n},t)}function dI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Nt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,m=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=d),p.route.id){let{loaderData:y,errors:E}=t,b=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||b){c=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((d,p,y)=>{let E,b=!1,A=null,I=null;t&&(E=l&&p.route.id?l[p.route.id]:void 0,A=p.route.errorElement||cI,c&&(m<0&&y===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):m===y&&(b=!0,I=p.route.hydrateFallbackElement||null)));let O=e.concat(s.slice(0,y+1)),D=()=>{let q;return E?q=A:b?q=I:p.route.Component?q=j.createElement(p.route.Component,null):p.route.element?q=p.route.element:q=d,j.createElement(fI,{match:p,routeContext:{outlet:d,matches:O,isDataRoute:t!=null},children:q})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?j.createElement(hI,{location:t.location,revalidation:t.revalidation,component:A,error:E,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function Lg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mI(n){let e=j.useContext(cl);return Nt(e,Lg(n)),e}function pI(n){let e=j.useContext(Pf);return Nt(e,Lg(n)),e}function gI(n){let e=j.useContext(Yr);return Nt(e,Lg(n)),e}function Ug(n){let e=gI(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function yI(){return Ug("useRouteId")}function vI(){var i;let n=j.useContext(jg),e=pI("useRouteError"),t=Ug("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function _I(){let{router:n}=mI("useNavigate"),e=Ug("useNavigate"),t=j.useRef(!1);return WT(()=>{t.current=!0}),j.useCallback(async(s,l={})=>{xr(t.current,QT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var xE={};function ZT(n,e,t){!e&&!xE[n]&&(xE[n]=!0,xr(!1,t))}j.memo(EI);function EI({routes:n,future:e,state:t}){return XT(n,void 0,t,e)}function JT({to:n,replace:e,state:t,relative:i}){Nt(hl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=j.useContext($r);xr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=j.useContext(Yr),{pathname:c}=Kr(),m=on(),d=Vg(n,kg(l),c,i==="path"),p=JSON.stringify(d);return j.useEffect(()=>{m(JSON.parse(p),{replace:e,state:t,relative:i})},[m,p,i,e,t]),null}function Qt(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){Nt(!hl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=ul(t));let{pathname:d="/",search:p="",hash:y="",state:E=null,key:b="default"}=t,A=j.useMemo(()=>{let I=Xi(d,c);return I==null?null:{location:{pathname:I,search:p,hash:y,state:E,key:b},navigationType:i}},[c,d,p,y,E,b,i]);return xr(A!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement($r.Provider,{value:m},j.createElement(ec.Provider,{children:e,value:A}))}function TI({children:n,location:e}){return lI(Gp(n),e)}function Gp(n,e=[]){let t=[];return j.Children.forEach(n,(i,s)=>{if(!j.isValidElement(i))return;let l=[...e,s];if(i.type===j.Fragment){t.push.apply(t,Gp(i.props.children,l));return}Nt(i.type===Qt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Gp(i.props.children,l)),t.push(c)}),t}var $h="get",Yh="application/x-www-form-urlencoded";function Mf(n){return n!=null&&typeof n.tagName=="string"}function wI(n){return Mf(n)&&n.tagName.toLowerCase()==="button"}function SI(n){return Mf(n)&&n.tagName.toLowerCase()==="form"}function AI(n){return Mf(n)&&n.tagName.toLowerCase()==="input"}function RI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CI(n,e){return n.button===0&&(!e||e==="_self")&&!RI(n)}function $p(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function II(n,e){let t=$p(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(l=>{t.append(s,l)})}),t}var Vh=null;function xI(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var DI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(n){return n!=null&&!DI.has(n)?(xr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yh}"`),null):n}function NI(n,e){let t,i,s,l,c;if(SI(n)){let m=n.getAttribute("action");i=m?Xi(m,e):null,t=n.getAttribute("method")||$h,s=_p(n.getAttribute("enctype"))||Yh,l=new FormData(n)}else if(wI(n)||AI(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||m.getAttribute("action");if(i=d?Xi(d,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||$h,s=_p(n.getAttribute("formenctype"))||_p(m.getAttribute("enctype"))||Yh,l=new FormData(m,n),!xI()){let{name:p,type:y,value:E}=n;if(y==="image"){let b=p?`${p}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else p&&l.append(p,E)}}else{if(Mf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$h,i=null,s=Yh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function Bg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function OI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function MI(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await OI(l,t);return c.links?c.links():[]}return[]}));return LI(i.flat(1).filter(PI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function DE(n,e,t,i,s,l){let c=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,m=(d,p)=>{var y;return t[p].pathname!==d.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>c(d,p)||m(d,p)):l==="data"?e.filter((d,p)=>{var E;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||m(d,p))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kI(n,e,{includeHydrateFallback:t}={}){return VI(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function VI(n){return[...new Set(n)]}function jI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function LI(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(jI(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UI=new Set([100,101,204,205]);function BI(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Xi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ew(){let n=j.useContext(cl);return Bg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zI(){let n=j.useContext(Pf);return Bg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zg=j.createContext(void 0);zg.displayName="FrameworkContext";function tw(){let n=j.useContext(zg);return Bg(n,"You must render this element inside a <HydratedRouter> element"),n}function qI(n,e){let t=j.useContext(zg),[i,s]=j.useState(!1),[l,c]=j.useState(!1),{onFocus:m,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:E}=e,b=j.useRef(null);j.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=q=>{q.forEach(X=>{c(X.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),j.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let A=()=>{s(!0)},I=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:Su(m,A),onBlur:Su(d,I),onMouseEnter:Su(p,A),onMouseLeave:Su(y,I),onTouchStart:Su(E,A)}]:[!1,b,{}]}function Su(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HI({page:n,...e}){let{router:t}=ew(),i=j.useMemo(()=>FT(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?j.createElement(GI,{page:n,matches:i,...e}):null}function FI(n){let{manifest:e,routeModules:t}=tw(),[i,s]=j.useState([]);return j.useEffect(()=>{let l=!1;return MI(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function GI({page:n,matches:e,...t}){let i=Kr(),{manifest:s,routeModules:l}=tw(),{basename:c}=ew(),{loaderData:m,matches:d}=zI(),p=j.useMemo(()=>DE(n,e,d,s,i,"data"),[n,e,d,s,i]),y=j.useMemo(()=>DE(n,e,d,s,i,"assets"),[n,e,d,s,i]),E=j.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,O=!1;if(e.forEach(q=>{var F;let X=s.routes[q.route.id];!X||!X.hasLoader||(!p.some(re=>re.route.id===q.route.id)&&q.route.id in m&&((F=l[q.route.id])!=null&&F.shouldRevalidate)||X.hasClientLoader?O=!0:I.add(q.route.id))}),I.size===0)return[];let D=BI(n,c);return O&&I.size>0&&D.searchParams.set("_routes",e.filter(q=>I.has(q.route.id)).map(q=>q.route.id).join(",")),[D.pathname+D.search]},[c,m,i,s,p,e,n,l]),b=j.useMemo(()=>kI(y,s),[y,s]),A=FI(y);return j.createElement(j.Fragment,null,E.map(I=>j.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),b.map(I=>j.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),A.map(({key:I,link:O})=>j.createElement("link",{key:I,...O})))}function $I(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nw&&(window.__reactRouterVersion="7.6.2")}catch{}function YI({basename:n,children:e,window:t}){let i=j.useRef();i.current==null&&(i.current=PC({window:t,v5Compat:!0}));let s=i.current,[l,c]=j.useState({action:s.action,location:s.location}),m=j.useCallback(d=>{j.startTransition(()=>c(d))},[c]);return j.useLayoutEffect(()=>s.listen(m),[s,m]),j.createElement(bI,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var rw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,In=j.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:m,target:d,to:p,preventScrollReset:y,viewTransition:E,...b},A){let{basename:I}=j.useContext($r),O=typeof p=="string"&&rw.test(p),D,q=!1;if(typeof p=="string"&&O&&(D=p,nw))try{let N=new URL(window.location.href),k=p.startsWith("//")?new URL(N.protocol+p):new URL(p),L=Xi(k.pathname,I);k.origin===N.origin&&L!=null?p=L+k.search+k.hash:q=!0}catch{xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=sI(p,{relative:s}),[F,re,le]=qI(i,b),me=XI(p,{replace:c,state:m,target:d,preventScrollReset:y,relative:s,viewTransition:E});function V(N){e&&e(N),N.defaultPrevented||me(N)}let x=j.createElement("a",{...b,...le,href:D||X,onClick:q||l?e:V,ref:$I(A,re),target:d,"data-discover":!O&&t==="render"?"true":void 0});return F&&!O?j.createElement(j.Fragment,null,x,j.createElement(HI,{page:X})):x});In.displayName="Link";var KI=j.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:m,children:d,...p},y){let E=tc(c,{relative:p.relative}),b=Kr(),A=j.useContext(Pf),{navigator:I,basename:O}=j.useContext($r),D=A!=null&&nx(E)&&m===!0,q=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,X=b.pathname,F=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(X=X.toLowerCase(),F=F?F.toLowerCase():null,q=q.toLowerCase()),F&&O&&(F=Xi(F,O)||F);const re=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let le=X===q||!s&&X.startsWith(q)&&X.charAt(re)==="/",me=F!=null&&(F===q||!s&&F.startsWith(q)&&F.charAt(q.length)==="/"),V={isActive:le,isPending:me,isTransitioning:D},x=le?e:void 0,N;typeof i=="function"?N=i(V):N=[i,le?"active":null,me?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(V):l;return j.createElement(In,{...p,"aria-current":x,className:N,ref:y,style:k,to:c,viewTransition:m},typeof d=="function"?d(V):d)});KI.displayName="NavLink";var QI=j.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=$h,action:m,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:E,...b},A)=>{let I=ex(),O=tx(m,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",q=typeof m=="string"&&rw.test(m),X=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let re=F.nativeEvent.submitter,le=(re==null?void 0:re.getAttribute("formmethod"))||c;I(re||F.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:s,state:l,relative:p,preventScrollReset:y,viewTransition:E})};return j.createElement("form",{ref:A,method:D,action:O,onSubmit:i?d:X,...b,"data-discover":!q&&n==="render"?"true":void 0})});QI.displayName="Form";function WI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iw(n){let e=j.useContext(cl);return Nt(e,WI(n)),e}function XI(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let m=on(),d=Kr(),p=tc(n,{relative:l});return j.useCallback(y=>{if(CI(y,e)){y.preventDefault();let E=t!==void 0?t:Uu(d)===Uu(p);m(n,{replace:E,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[d,m,p,t,i,e,n,s,l,c])}function qg(n){xr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef($p(n)),t=j.useRef(!1),i=Kr(),s=j.useMemo(()=>II(i.search,t.current?null:e.current),[i.search]),l=on(),c=j.useCallback((m,d)=>{const p=$p(typeof m=="function"?m(s):m);t.current=!0,l("?"+p,d)},[l,s]);return[s,c]}var ZI=0,JI=()=>`__${String(++ZI)}__`;function ex(){let{router:n}=iw("useSubmit"),{basename:e}=j.useContext($r),t=yI();return j.useCallback(async(i,s={})=>{let{action:l,method:c,encType:m,formData:d,body:p}=NI(i,e);if(s.navigate===!1){let y=s.fetcherKey||JI();await n.fetch(y,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function tx(n,{relative:e}={}){let{basename:t}=j.useContext($r),i=j.useContext(Yr);Nt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...tc(n||".",{relative:e})},c=Kr();if(n==null){l.search=c.search;let m=new URLSearchParams(l.search),d=m.getAll("index");if(d.some(y=>y==="")){m.delete("index"),d.filter(E=>E).forEach(E=>m.append("index",E));let y=m.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ki([t,l.pathname])),Uu(l)}function nx(n,e={}){let t=j.useContext(KT);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iw("useViewTransitionState"),s=tc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Xi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Xi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return sf(s.pathname,c)!=null||sf(s.pathname,l)!=null}[...UI];const rx=()=>{};var NE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},ix=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],m=n[t++],d=((s&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,m=c?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,y=l>>2,E=(l&3)<<4|m>>4;let b=(m&15)<<2|p>>6,A=p&63;d||(A=64,c||(b=64)),i.push(t[y],t[E],t[b],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ix(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||m==null||p==null||E==null)throw new ax;const b=l<<2|m>>4;if(i.push(b),p!==64){const A=m<<4&240|p>>2;if(i.push(A),E!==64){const I=p<<6&192|E;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sx=function(n){const e=aw(n);return sw.encodeByteArray(e,!0)},of=function(n){return sx(n).replace(/\./g,"")},ow=function(n){try{return sw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=()=>ox().__FIREBASE_DEFAULTS__,ux=()=>{if(typeof process>"u"||typeof NE>"u")return;const n=NE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},cx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ow(n[1]);return e&&JSON.parse(e)},kf=()=>{try{return rx()||lx()||ux()||cx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},lw=n=>{var e,t;return(t=(e=kf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hx=n=>{const e=lw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},uw=()=>{var n;return(n=kf())===null||n===void 0?void 0:n.config},cw=n=>{var e;return(e=kf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(n){return n.endsWith(".cloudworkstations.dev")}async function hw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[of(JSON.stringify(t)),of(JSON.stringify(c)),""].join(".")}const Ou={};function mx(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ou))Ou[e]?n.emulator.push(e):n.prod.push(e);return n}function px(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let OE=!1;function fw(n,e){if(typeof window>"u"||typeof document>"u"||!dl(window.location.host)||Ou[n]===e||Ou[n]||OE)return;Ou[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=mx().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function d(b,A){b.setAttribute("width","24"),b.setAttribute("id",A),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{OE=!0,c()},b}function y(b,A){b.setAttribute("id",A),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function E(){const b=px(i),A=t("text"),I=document.getElementById(A)||document.createElement("span"),O=t("learnmore"),D=document.getElementById(O)||document.createElement("a"),q=t("preprendIcon"),X=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const F=b.element;m(F),y(D,O);const re=p();d(X,q),F.append(X,I,D,re),document.body.appendChild(F)}l?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vn())}function yx(){var n;const e=(n=kf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dw(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ex(){const n=Vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bx(){return!yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mw(){try{return typeof indexedDB=="object"}catch{return!1}}function pw(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function Tx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="FirebaseError";class Qr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=wx,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?Sx(l,i):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new Qr(s,m,i)}}function Sx(n,e){return n.replace(Ax,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Ax=/\{\$([^}]+)}/g;function Rx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ba(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(PE(l)&&PE(c)){if(!Ba(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function PE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Au(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Ru(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Cx(n,e){const t=new Ix(n,e);return t.subscribe.bind(t)}class Ix{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");xx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Ep),s.error===void 0&&(s.error=Ep),s.complete===void 0&&(s.complete=Ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=1e3,Nx=2,Ox=4*60*60*1e3,Px=.5;function ME(n,e=Dx,t=Nx){const i=e*Math.pow(t,n),s=Math.round(Px*i*(Math.random()-.5)*2);return Math.min(Ox,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(n){return n&&n._delegate?n._delegate:n}class Hr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vx(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);i===m&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kx(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kx(n){return n===Ds?void 0:n}function Vx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Mx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ge||(Ge={}));const Lx={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Ux=Ge.INFO,Bx={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},zx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Bx[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=Ux,this._logHandler=zx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const qx=(n,e)=>e.some(t=>n instanceof t);let kE,VE;function Hx(){return kE||(kE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fx(){return VE||(VE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gw=new WeakMap,Yp=new WeakMap,yw=new WeakMap,bp=new WeakMap,Hg=new WeakMap;function Gx(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ma(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&gw.set(t,n)}).catch(()=>{}),Hg.set(e,n),e}function $x(n){if(Yp.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Yp.set(n,e)}let Kp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Yx(n){Kp=n(Kp)}function Kx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Tp(this),e,...t);return yw.set(i,e.sort?e.sort():[e]),Ma(i)}:Fx().includes(n)?function(...e){return n.apply(Tp(this),e),Ma(gw.get(this))}:function(...e){return Ma(n.apply(Tp(this),e))}}function Qx(n){return typeof n=="function"?Kx(n):(n instanceof IDBTransaction&&$x(n),qx(n,Hx())?new Proxy(n,Kp):n)}function Ma(n){if(n instanceof IDBRequest)return Gx(n);if(bp.has(n))return bp.get(n);const e=Qx(n);return e!==n&&(bp.set(n,e),Hg.set(e,n)),e}const Tp=n=>Hg.get(n);function vw(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),m=Ma(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Ma(c.result),d.oldVersion,d.newVersion,Ma(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const Wx=["get","getKey","getAll","getAllKeys","count"],Xx=["put","add","delete","clear"],wp=new Map;function jE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Xx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Wx.includes(t)))return;const l=async function(c,...m){const d=this.transaction(c,s?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),s&&d.done]))[0]};return wp.set(e,l),l}Yx(n=>({...n,get:(e,t,i)=>jE(e,t)||n.get(e,t,i),has:(e,t)=>!!jE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Jx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qp="@firebase/app",LE="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Vf("@firebase/app"),e2="@firebase/app-compat",t2="@firebase/analytics-compat",n2="@firebase/analytics",r2="@firebase/app-check-compat",i2="@firebase/app-check",a2="@firebase/auth",s2="@firebase/auth-compat",o2="@firebase/database",l2="@firebase/data-connect",u2="@firebase/database-compat",c2="@firebase/functions",h2="@firebase/functions-compat",f2="@firebase/installations",d2="@firebase/installations-compat",m2="@firebase/messaging",p2="@firebase/messaging-compat",g2="@firebase/performance",y2="@firebase/performance-compat",v2="@firebase/remote-config",_2="@firebase/remote-config-compat",E2="@firebase/storage",b2="@firebase/storage-compat",T2="@firebase/firestore",w2="@firebase/ai",S2="@firebase/firestore-compat",A2="firebase",R2="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",C2={[Qp]:"fire-core",[e2]:"fire-core-compat",[n2]:"fire-analytics",[t2]:"fire-analytics-compat",[i2]:"fire-app-check",[r2]:"fire-app-check-compat",[a2]:"fire-auth",[s2]:"fire-auth-compat",[o2]:"fire-rtdb",[l2]:"fire-data-connect",[u2]:"fire-rtdb-compat",[c2]:"fire-fn",[h2]:"fire-fn-compat",[f2]:"fire-iid",[d2]:"fire-iid-compat",[m2]:"fire-fcm",[p2]:"fire-fcm-compat",[g2]:"fire-perf",[y2]:"fire-perf-compat",[v2]:"fire-rc",[_2]:"fire-rc-compat",[E2]:"fire-gcs",[b2]:"fire-gcs-compat",[T2]:"fire-fst",[S2]:"fire-fst-compat",[w2]:"fire-vertex","fire-js":"fire-js",[A2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new Map,I2=new Map,Xp=new Map;function UE(n,e){try{n.container.addComponent(e)}catch(t){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function yi(n){const e=n.name;if(Xp.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,n);for(const t of lf.values())UE(t,n);for(const t of I2.values())UE(t,n);return!0}function Gs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ka=new Fs("app","Firebase",x2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=R2;function _w(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wp,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw ka.create("bad-app-name",{appName:String(s)});if(t||(t=uw()),!t)throw ka.create("no-options");const l=lf.get(s);if(l){if(Ba(t,l.options)&&Ba(i,l.config))return l;throw ka.create("duplicate-app",{appName:s})}const c=new jx(s);for(const d of Xp.values())c.addComponent(d);const m=new D2(t,i,c);return lf.set(s,m),m}function Fg(n=Wp){const e=lf.get(n);if(!e&&n===Wp&&uw())return _w();if(!e)throw ka.create("no-app",{appName:n});return e}function Rr(n,e,t){var i;let s=(i=C2[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${s}" with version "${e}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(m.join(" "));return}yi(new Hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="firebase-heartbeat-database",O2=1,Bu="firebase-heartbeat-store";let Sp=null;function Ew(){return Sp||(Sp=vw(N2,O2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ka.create("idb-open",{originalErrorMessage:n.message})})),Sp}async function P2(n){try{const t=(await Ew()).transaction(Bu),i=await t.objectStore(Bu).get(bw(n));return await t.done,i}catch(e){if(e instanceof Qr)Zi.warn(e.message);else{const t=ka.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(t.message)}}}async function BE(n,e){try{const i=(await Ew()).transaction(Bu,"readwrite");await i.objectStore(Bu).put(e,bw(n)),await i.done}catch(t){if(t instanceof Qr)Zi.warn(t.message);else{const i=ka.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zi.warn(i.message)}}}function bw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=1024,k2=30;class V2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new L2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=zE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>k2){const c=U2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Zi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zE(),{heartbeatsToSend:i,unsentEntries:s}=j2(this._heartbeatsCache.heartbeats),l=of(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function zE(){return new Date().toISOString().substring(0,10)}function j2(n,e=M2){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),qE(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),qE(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class L2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mw()?pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await P2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qE(n){return of(JSON.stringify({version:2,heartbeats:n})).length}function U2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(n){yi(new Hr("platform-logger",e=>new Zx(e),"PRIVATE")),yi(new Hr("heartbeat",e=>new V2(e),"PRIVATE")),Rr(Qp,LE,n),Rr(Qp,LE,"esm2017"),Rr("fire-js","")}B2("");function Gg(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function Tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z2=Tw,ww=new Fs("auth","Firebase",Tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new Vf("@firebase/auth");function q2(n,...e){uf.logLevel<=Ge.WARN&&uf.warn(`Auth (${ml}): ${n}`,...e)}function Kh(n,...e){uf.logLevel<=Ge.ERROR&&uf.error(`Auth (${ml}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(n,...e){throw Yg(n,...e)}function qr(n,...e){return Yg(n,...e)}function $g(n,e,t){const i=Object.assign(Object.assign({},z2()),{[e]:t});return new Fs("auth","Firebase",i).create(e,{appName:n.name})}function Qi(n){return $g(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H2(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Dr(n,"argument-error"),$g(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Yg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return ww.create(n,...e)}function Ae(n,e,...t){if(!n)throw Yg(e,...t)}function $i(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Kh(e),new Error(e)}function Ji(n,e){n||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function F2(){return HE()==="http:"||HE()==="https:"}function HE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F2()||dw()||"connection"in navigator)?navigator.onLine:!0}function $2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ji(t>e,"Short delay should be less than long delay!"),this.isMobile=gx()||_x()}get(){return G2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(n,e){Ji(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new rc(3e4,6e4);function Ya(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ka(n,e,t,i,s={}){return Aw(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const m=nc(Object.assign({key:n.config.apiKey},c)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},l);return vx()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&dl(n.emulatorConfig.host)&&(p.credentials="include"),Sw.fetch()(await Rw(n,n.config.apiHost,t,m),p)})}async function Aw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Y2),e);try{const s=new X2(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw jh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,p]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw jh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw jh(n,"user-disabled",c);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw $g(n,y,p);Dr(n,y)}}catch(s){if(s instanceof Qr)throw s;Dr(n,"network-request-failed",{message:String(s)})}}async function ic(n,e,t,i,s={}){const l=await Ka(n,e,t,i,s);return"mfaPendingCredential"in l&&Dr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Rw(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?Kg(n.config,s):`${n.config.apiScheme}://${s}`;return K2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function W2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(qr(this.auth,"network-request-failed")),Q2.get())})}}function jh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=qr(n,e,i);return s.customData._tokenResponse=t,s}function FE(n){return n!==void 0&&n.enterprise!==void 0}class Z2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return W2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function J2(n,e){return Ka(n,"GET","/v2/recaptchaConfig",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(n,e){return Ka(n,"POST","/v1/accounts:delete",e)}async function cf(n,e){return Ka(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tD(n,e=!1){const t=Jt(n),i=await t.getIdToken(e),s=Qg(i);Ae(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:Pu(Ap(s.auth_time)),issuedAtTime:Pu(Ap(s.iat)),expirationTime:Pu(Ap(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ap(n){return Number(n)*1e3}function Qg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const s=ow(t);return s?JSON.parse(s):(Kh("Failed to decode base64 JWT payload"),null)}catch(s){return Kh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function GE(n){const e=Qg(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Qr&&nD(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function nD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pu(this.lastLoginAt),this.creationTime=Pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){var e;const t=n.auth,i=await n.getIdToken(),s=await zu(n,cf(t,{idToken:i}));Ae(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?Cw(l.providerUserInfo):[],m=aD(n.providerData,c),d=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Jp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function iD(n){const e=Jt(n);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aD(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function Cw(n){return n.map(e=>{var{providerId:t}=e,i=Gg(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(n,e){const t=await Aw(n,{},async()=>{const i=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await Rw(n,s,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:m,body:i};return n.emulatorConfig&&dl(n.emulatorConfig.host)&&(d.credentials="include"),Sw.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oD(n,e){return Ka(n,"POST","/v2/accounts:revokeToken",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):GE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=GE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await sD(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Zo;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ae(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ae(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zo,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=Gg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await zu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tD(this,e)}reload(){return iD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await hf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await zu(this,eD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,m,d,p,y;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,O=(m=t.tenantId)!==null&&m!==void 0?m:void 0,D=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,q=(p=t.createdAt)!==null&&p!==void 0?p:void 0,X=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:re,isAnonymous:le,providerData:me,stsTokenManager:V}=t;Ae(F&&V,e,"internal-error");const x=Zo.fromJSON(this.name,V);Ae(typeof F=="string",e,"internal-error"),Da(E,e.name),Da(b,e.name),Ae(typeof re=="boolean",e,"internal-error"),Ae(typeof le=="boolean",e,"internal-error"),Da(A,e.name),Da(I,e.name),Da(O,e.name),Da(D,e.name),Da(q,e.name),Da(X,e.name);const N=new zr({uid:F,auth:e,email:b,emailVerified:re,displayName:E,isAnonymous:le,photoURL:I,phoneNumber:A,tenantId:O,stsTokenManager:x,createdAt:q,lastLoginAt:X});return me&&Array.isArray(me)&&(N.providerData=me.map(k=>Object.assign({},k))),D&&(N._redirectEventId=D),N}static async _fromIdTokenResponse(e,t,i=!1){const s=new Zo;s.updateFromServerResponse(t);const l=new zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await hf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ae(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?Cw(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),m=new Zo;m.updateFromIdToken(i);const d=new zr({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Jp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;function Yi(n){Ji(n instanceof Function,"Expected a class definition");let e=$E.get(n);return e?(Ji(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,$E.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Iw.type="NONE";const YE=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,l),this.fullPersistenceKey=Qh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cf(this.auth,{idToken:e}).catch(()=>{});return t?zr._fromGetAccountInfoResponse(this.auth,t,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jo(Yi(YE),e,i);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||Yi(YE);const c=Qh(i,e.config.apiKey,e.name);let m=null;for(const p of t)try{const y=await p._get(c);if(y){let E;if(typeof y=="string"){const b=await cf(e,{idToken:y}).catch(()=>{});if(!b)break;E=await zr._fromGetAccountInfoResponse(e,b,y)}else E=zr._fromJSON(e,y);p!==l&&(m=E),l=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Jo(l,e,i):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Jo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mw(e))return"Blackberry";if(kw(e))return"Webos";if(Dw(e))return"Safari";if((e.includes("chrome/")||Nw(e))&&!e.includes("edge/"))return"Chrome";if(Pw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function xw(n=Vn()){return/firefox\//i.test(n)}function Dw(n=Vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nw(n=Vn()){return/crios\//i.test(n)}function Ow(n=Vn()){return/iemobile/i.test(n)}function Pw(n=Vn()){return/android/i.test(n)}function Mw(n=Vn()){return/blackberry/i.test(n)}function kw(n=Vn()){return/webos/i.test(n)}function Wg(n=Vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lD(n=Vn()){var e;return Wg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uD(){return Ex()&&document.documentMode===10}function Vw(n=Vn()){return Wg(n)||Pw(n)||kw(n)||Mw(n)||/windows phone/i.test(n)||Ow(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(n,e=[]){let t;switch(n){case"Browser":t=KE(Vn());break;case"Worker":t=`${KE(Vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ml}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,m)=>{try{const d=e(l);c(d)}catch(d){m(d)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,e={}){return Ka(n,"GET","/v2/passwordPolicy",Ya(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=6;class dD{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:fD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new cD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ww,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(async()=>{var i,s,l;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cf(this,{idToken:e}),i=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===m)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(Qi(this));const t=e?Jt(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hD(this),t=new dD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await oD(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yi(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[Yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&q2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Qa(n){return Jt(n)}class QE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Cx(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pD(n){jf=n}function Lw(n){return jf.loadJS(n)}function gD(){return jf.recaptchaEnterpriseScript}function yD(){return jf.gapiScript}function vD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _D{constructor(){this.enterprise=new ED}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ED{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const bD="recaptcha-enterprise",Uw="NO_RECAPTCHA";class TD{constructor(e){this.type=bD,this.auth=Qa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,m)=>{J2(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new Z2(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,c(p.siteKey)}}).catch(d=>{m(d)})})}function s(l,c,m){const d=window.grecaptcha;FE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{c(p)}).catch(()=>{c(Uw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _D().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(m=>{if(!t&&FE(window.grecaptcha))s(m,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=gD();d.length!==0&&(d+=m),Lw(d).then(()=>{s(m,l,c)}).catch(p=>{c(p)})}}).catch(m=>{c(m)})})}}async function WE(n,e,t,i=!1,s=!1){const l=new TD(n);let c;if(s)c=Uw;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const d=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const d=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return i?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function eg(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await WE(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await WE(n,e,t,t==="getOobCode");return i(n,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n,e){const t=Gs(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Ba(l,e??{}))return s;Dr(s,"already-initialized")}return t.initialize({options:e})}function SD(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Yi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AD(n,e,t){const i=Qa(n);Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=Bw(e),{host:c,port:m}=RD(e),d=m===null?"":`:${m}`,p={url:`${l}//${c}${d}/`},y=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ae(Ba(p,i.config.emulator)&&Ba(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,dl(c)?(hw(`${l}//${c}${d}`),fw("Auth",!0)):CD()}function Bw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RD(n){const e=Bw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:XE(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:XE(c)}}}function XE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function CD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,t){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function ID(n,e){return Ka(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){return ic(n,"POST","/v1/accounts:signInWithPassword",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,e){return ic(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}async function ND(n,e){return ic(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends Xg{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new qu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new qu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,t,"signInWithPassword",xD);case"emailLink":return DD(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eg(e,i,"signUpPassword",ID);case"emailLink":return ND(e,{idToken:t,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(n,e){return ic(n,"POST","/v1/accounts:signInWithIdp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="http://localhost";class js extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=Gg(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new js(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,el(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:OD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MD(n){const e=Au(Ru(n)).link,t=e?Au(Ru(e)).deep_link_id:null,i=Au(Ru(n)).deep_link_id;return(i?Au(Ru(i)).link:null)||i||t||e||n}class Zg{constructor(e){var t,i,s,l,c,m;const d=Au(Ru(e)),p=(t=d.apiKey)!==null&&t!==void 0?t:null,y=(i=d.oobCode)!==null&&i!==void 0?i:null,E=PD((s=d.mode)!==null&&s!==void 0?s:null);Ae(p&&y&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=y,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=d.lang)!==null&&c!==void 0?c:null,this.tenantId=(m=d.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=MD(e);try{return new Zg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,t){return qu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Zg.parseLink(t);return Ae(i,"argument-error"),qu._fromEmailAndCode(e,i.code,i.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Jg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends ac{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends ac{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return js._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends ac{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends ac{constructor(){super("twitter.com")}static credential(e,t){return js._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Oa.credential(t,i)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(n,e){return ic(n,"POST","/v1/accounts:signUp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await zr._fromIdTokenResponse(e,i,s),c=ZE(i);return new Ls({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=ZE(i);return new Ls({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function ZE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Qr{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,ff.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new ff(e,t,i,s)}}function zw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ff._fromErrorAndOperation(n,l,e,i):l})}async function VD(n,e,t=!1){const i=await zu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ls._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(n,e,t=!1){const{auth:i}=n;if(lr(i.app))return Promise.reject(Qi(i));const s="reauthenticate";try{const l=await zu(n,zw(i,s,e,n),t);Ae(l.idToken,i,"internal-error");const c=Qg(l.idToken);Ae(c,i,"internal-error");const{sub:m}=c;return Ae(n.uid===m,i,"user-mismatch"),Ls._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(n,e,t=!1){if(lr(n.app))return Promise.reject(Qi(n));const i="signIn",s=await zw(n,i,e),l=await Ls._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function LD(n,e){return qw(Qa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hw(n){const e=Qa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function UD(n,e,t){if(lr(n.app))return Promise.reject(Qi(n));const i=Qa(n),c=await eg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Hw(n),d}),m=await Ls._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(m.user),m}function BD(n,e,t){return lr(n.app)?Promise.reject(Qi(n)):LD(Jt(n),pl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Hw(n),i})}function zD(n,e,t,i){return Jt(n).onIdTokenChanged(e,t,i)}function qD(n,e,t){return Jt(n).beforeAuthStateChanged(e,t)}function HD(n,e,t,i){return Jt(n).onAuthStateChanged(e,t,i)}function Lf(n){return Jt(n).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=1e3,GD=10;class Gw extends Fw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);uD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,GD):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},FD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gw.type="LOCAL";const $D=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w extends Fw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}$w.type="SESSION";const Yw=$w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Uf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const m=Array.from(c).map(async p=>p(t.origin,l)),d=await YD(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const p=ey("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(E){const b=E;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(b.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function QD(n){mi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function WD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function ZD(){return Kw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebaseLocalStorageDb",JD=1,mf="firebaseLocalStorage",Ww="fbase_key";class sc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bf(n,e){return n.transaction([mf],e?"readwrite":"readonly").objectStore(mf)}function eN(){const n=indexedDB.deleteDatabase(Qw);return new sc(n).toPromise()}function tg(){const n=indexedDB.open(Qw,JD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(mf,{keyPath:Ww})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(mf)?e(i):(i.close(),await eN(),e(await tg()))})})}async function JE(n,e,t){const i=Bf(n,!0).put({[Ww]:e,value:t});return new sc(i).toPromise()}async function tN(n,e){const t=Bf(n,!1).get(e),i=await new sc(t).toPromise();return i===void 0?null:i.value}function eb(n,e){const t=Bf(n,!0).delete(e);return new sc(t).toPromise()}const nN=800,rN=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>rN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Kw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(ZD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WD(),!this.activeServiceWorker)return;this.sender=new KD(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tg();return await JE(e,df,"1"),await eb(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>JE(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>tN(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Bf(s,!1).getAll();return new sc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const iN=Xw;new rc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n,e){return e?Yi(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aN(n){return qw(n.auth,new ty(n),n.bypassAuthState)}function sN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),jD(t,new ty(n),n.bypassAuthState)}async function oN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),VD(t,new ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aN;case"linkViaPopup":case"linkViaRedirect":return oN;case"reauthViaPopup":case"reauthViaRedirect":return sN;default:Dr(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new rc(2e3,1e4);async function uN(n,e,t){if(lr(n.app))return Promise.reject(qr(n,"operation-not-supported-in-this-environment"));const i=Qa(n);H2(n,e,Jg);const s=Zw(i,t);return new Ns(i,"signInViaPopup",e,s).executeNotNull()}class Ns extends Jw{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lN.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="pendingRedirect",Wh=new Map;class hN extends Jw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const i=await fN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fN(n,e){const t=pN(e),i=mN(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function dN(n,e){Wh.set(n._key(),e)}function mN(n){return Yi(n._redirectPersistence)}function pN(n){return Qh(cN,n.config.apiKey,n.name)}async function gN(n,e,t=!1){if(lr(n.app))return Promise.reject(Qi(n));const i=Qa(n),s=Zw(i,e),c=await new hN(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=10*60*1e3;class vN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_N(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!eS(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(qr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yN&&this.cachedEventUids.clear(),this.cachedEventUids.has(tb(e))}saveEventToCache(e){this.cachedEventUids.add(tb(e)),this.lastProcessedEventTime=Date.now()}}function tb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function eS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _N(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(n,e={}){return Ka(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TN=/^https?/;async function wN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EN(n);for(const t of e)try{if(SN(t))return}catch{}Dr(n,"unauthorized-domain")}function SN(n){const e=Zp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!TN.test(t))return!1;if(bN.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new rc(3e4,6e4);function nb(){const n=mi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RN(n){return new Promise((e,t)=>{var i,s,l;function c(){nb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nb(),t(qr(n,"network-request-failed"))},timeout:AN.get()})}if(!((s=(i=mi().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=mi().gapi)===null||l===void 0)&&l.load)c();else{const m=vD("iframefcb");return mi()[m]=()=>{gapi.load?c():t(qr(n,"network-request-failed"))},Lw(`${yD()}?onload=${m}`).catch(d=>t(d))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function CN(n){return Xh=Xh||RN(n),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new rc(5e3,15e3),xN="__/auth/iframe",DN="emulator/auth/iframe",NN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PN(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Kg(e,DN):`https://${n.config.authDomain}/${xN}`,i={apiKey:e.apiKey,appName:n.name,v:ml},s=ON.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${nc(i).slice(1)}`}async function MN(n){const e=await CN(n),t=mi().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:PN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NN,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=qr(n,"network-request-failed"),m=mi().setTimeout(()=>{l(c)},IN.get());function d(){mi().clearTimeout(m),s(i)}i.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VN=500,jN=600,LN="_blank",UN="http://localhost";class rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BN(n,e,t,i=VN,s=jN){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const d=Object.assign(Object.assign({},kN),{width:i.toString(),height:s.toString(),top:l,left:c}),p=Vn().toLowerCase();t&&(m=Nw(p)?LN:t),xw(p)&&(e=e||UN,d.scrollbars="yes");const y=Object.entries(d).reduce((b,[A,I])=>`${b}${A}=${I},`,"");if(lD(p)&&m!=="_self")return zN(e||"",m),new rb(null);const E=window.open(e||"",m,y);Ae(E,n,"popup-blocked");try{E.focus()}catch{}return new rb(E)}function zN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="__/auth/handler",HN="emulator/auth/handler",FN=encodeURIComponent("fac");async function ib(n,e,t,i,s,l){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ml,eventId:s};if(e instanceof Jg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Rx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(e instanceof ac){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await n._getAppCheckToken(),p=d?`#${FN}=${encodeURIComponent(d)}`:"";return`${GN(n)}?${nc(m).slice(1)}${p}`}function GN({config:n}){return n.emulator?Kg(n,HN):`https://${n.authDomain}/${qN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class $N{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=gN,this._overrideRedirectResult=dN}async _openPopup(e,t,i,s){var l;Ji((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await ib(e,t,i,Zp(),s);return BN(e,c,ey())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await ib(e,t,i,Zp(),s);return QD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ji(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await MN(e),i=new vN(e);return t.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Rp,{type:Rp},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[Rp];c!==void 0&&t(!!c),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=wN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Vw()||Dw()||Wg()}}const YN=$N;var ab="@firebase/auth",sb="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WN(n){yi(new Hr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jw(n)},p=new mD(i,s,l,d);return SD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),yi(new Hr("auth-internal",e=>{const t=Qa(e.getProvider("auth").getImmediate());return(i=>new KN(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(ab,sb,QN(n)),Rr(ab,sb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=5*60,ZN=cw("authIdTokenMaxAge")||XN;let ob=null;const JN=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ZN)return;const s=t==null?void 0:t.token;ob!==s&&(ob=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function eO(n=Fg()){const e=Gs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wD(n,{popupRedirectResolver:YN,persistence:[iN,$D,Yw]}),i=cw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=JN(l.toString());qD(t,c,()=>c(t.currentUser)),zD(t,m=>c(m))}}const s=lw("auth");return s&&AD(t,`http://${s}`),t}function tO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=qr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",tO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WN("Browser");var nO="firebase",rO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(nO,rO,"app");var lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,tS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,x){function N(){}N.prototype=x.prototype,V.D=x.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(k,L,B){for(var P=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)P[Ke-2]=arguments[Ke];return x.prototype[L].apply(k,P)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(V,x,N){N||(N=0);var k=Array(16);if(typeof x=="string")for(var L=0;16>L;++L)k[L]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(L=0;16>L;++L)k[L]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=V.g[0],N=V.g[1],L=V.g[2];var B=V.g[3],P=x+(B^N&(L^B))+k[0]+3614090360&4294967295;x=N+(P<<7&4294967295|P>>>25),P=B+(L^x&(N^L))+k[1]+3905402710&4294967295,B=x+(P<<12&4294967295|P>>>20),P=L+(N^B&(x^N))+k[2]+606105819&4294967295,L=B+(P<<17&4294967295|P>>>15),P=N+(x^L&(B^x))+k[3]+3250441966&4294967295,N=L+(P<<22&4294967295|P>>>10),P=x+(B^N&(L^B))+k[4]+4118548399&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(L^x&(N^L))+k[5]+1200080426&4294967295,B=x+(P<<12&4294967295|P>>>20),P=L+(N^B&(x^N))+k[6]+2821735955&4294967295,L=B+(P<<17&4294967295|P>>>15),P=N+(x^L&(B^x))+k[7]+4249261313&4294967295,N=L+(P<<22&4294967295|P>>>10),P=x+(B^N&(L^B))+k[8]+1770035416&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(L^x&(N^L))+k[9]+2336552879&4294967295,B=x+(P<<12&4294967295|P>>>20),P=L+(N^B&(x^N))+k[10]+4294925233&4294967295,L=B+(P<<17&4294967295|P>>>15),P=N+(x^L&(B^x))+k[11]+2304563134&4294967295,N=L+(P<<22&4294967295|P>>>10),P=x+(B^N&(L^B))+k[12]+1804603682&4294967295,x=N+(P<<7&4294967295|P>>>25),P=B+(L^x&(N^L))+k[13]+4254626195&4294967295,B=x+(P<<12&4294967295|P>>>20),P=L+(N^B&(x^N))+k[14]+2792965006&4294967295,L=B+(P<<17&4294967295|P>>>15),P=N+(x^L&(B^x))+k[15]+1236535329&4294967295,N=L+(P<<22&4294967295|P>>>10),P=x+(L^B&(N^L))+k[1]+4129170786&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^L&(x^N))+k[6]+3225465664&4294967295,B=x+(P<<9&4294967295|P>>>23),P=L+(x^N&(B^x))+k[11]+643717713&4294967295,L=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(L^B))+k[0]+3921069994&4294967295,N=L+(P<<20&4294967295|P>>>12),P=x+(L^B&(N^L))+k[5]+3593408605&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^L&(x^N))+k[10]+38016083&4294967295,B=x+(P<<9&4294967295|P>>>23),P=L+(x^N&(B^x))+k[15]+3634488961&4294967295,L=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(L^B))+k[4]+3889429448&4294967295,N=L+(P<<20&4294967295|P>>>12),P=x+(L^B&(N^L))+k[9]+568446438&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^L&(x^N))+k[14]+3275163606&4294967295,B=x+(P<<9&4294967295|P>>>23),P=L+(x^N&(B^x))+k[3]+4107603335&4294967295,L=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(L^B))+k[8]+1163531501&4294967295,N=L+(P<<20&4294967295|P>>>12),P=x+(L^B&(N^L))+k[13]+2850285829&4294967295,x=N+(P<<5&4294967295|P>>>27),P=B+(N^L&(x^N))+k[2]+4243563512&4294967295,B=x+(P<<9&4294967295|P>>>23),P=L+(x^N&(B^x))+k[7]+1735328473&4294967295,L=B+(P<<14&4294967295|P>>>18),P=N+(B^x&(L^B))+k[12]+2368359562&4294967295,N=L+(P<<20&4294967295|P>>>12),P=x+(N^L^B)+k[5]+4294588738&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^L)+k[8]+2272392833&4294967295,B=x+(P<<11&4294967295|P>>>21),P=L+(B^x^N)+k[11]+1839030562&4294967295,L=B+(P<<16&4294967295|P>>>16),P=N+(L^B^x)+k[14]+4259657740&4294967295,N=L+(P<<23&4294967295|P>>>9),P=x+(N^L^B)+k[1]+2763975236&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^L)+k[4]+1272893353&4294967295,B=x+(P<<11&4294967295|P>>>21),P=L+(B^x^N)+k[7]+4139469664&4294967295,L=B+(P<<16&4294967295|P>>>16),P=N+(L^B^x)+k[10]+3200236656&4294967295,N=L+(P<<23&4294967295|P>>>9),P=x+(N^L^B)+k[13]+681279174&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^L)+k[0]+3936430074&4294967295,B=x+(P<<11&4294967295|P>>>21),P=L+(B^x^N)+k[3]+3572445317&4294967295,L=B+(P<<16&4294967295|P>>>16),P=N+(L^B^x)+k[6]+76029189&4294967295,N=L+(P<<23&4294967295|P>>>9),P=x+(N^L^B)+k[9]+3654602809&4294967295,x=N+(P<<4&4294967295|P>>>28),P=B+(x^N^L)+k[12]+3873151461&4294967295,B=x+(P<<11&4294967295|P>>>21),P=L+(B^x^N)+k[15]+530742520&4294967295,L=B+(P<<16&4294967295|P>>>16),P=N+(L^B^x)+k[2]+3299628645&4294967295,N=L+(P<<23&4294967295|P>>>9),P=x+(L^(N|~B))+k[0]+4096336452&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~L))+k[7]+1126891415&4294967295,B=x+(P<<10&4294967295|P>>>22),P=L+(x^(B|~N))+k[14]+2878612391&4294967295,L=B+(P<<15&4294967295|P>>>17),P=N+(B^(L|~x))+k[5]+4237533241&4294967295,N=L+(P<<21&4294967295|P>>>11),P=x+(L^(N|~B))+k[12]+1700485571&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~L))+k[3]+2399980690&4294967295,B=x+(P<<10&4294967295|P>>>22),P=L+(x^(B|~N))+k[10]+4293915773&4294967295,L=B+(P<<15&4294967295|P>>>17),P=N+(B^(L|~x))+k[1]+2240044497&4294967295,N=L+(P<<21&4294967295|P>>>11),P=x+(L^(N|~B))+k[8]+1873313359&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~L))+k[15]+4264355552&4294967295,B=x+(P<<10&4294967295|P>>>22),P=L+(x^(B|~N))+k[6]+2734768916&4294967295,L=B+(P<<15&4294967295|P>>>17),P=N+(B^(L|~x))+k[13]+1309151649&4294967295,N=L+(P<<21&4294967295|P>>>11),P=x+(L^(N|~B))+k[4]+4149444226&4294967295,x=N+(P<<6&4294967295|P>>>26),P=B+(N^(x|~L))+k[11]+3174756917&4294967295,B=x+(P<<10&4294967295|P>>>22),P=L+(x^(B|~N))+k[2]+718787259&4294967295,L=B+(P<<15&4294967295|P>>>17),P=N+(B^(L|~x))+k[9]+3951481745&4294967295,V.g[0]=V.g[0]+x&4294967295,V.g[1]=V.g[1]+(L+(P<<21&4294967295|P>>>11))&4294967295,V.g[2]=V.g[2]+L&4294967295,V.g[3]=V.g[3]+B&4294967295}i.prototype.u=function(V,x){x===void 0&&(x=V.length);for(var N=x-this.blockSize,k=this.B,L=this.h,B=0;B<x;){if(L==0)for(;B<=N;)s(this,V,B),B+=this.blockSize;if(typeof V=="string"){for(;B<x;)if(k[L++]=V.charCodeAt(B++),L==this.blockSize){s(this,k),L=0;break}}else for(;B<x;)if(k[L++]=V[B++],L==this.blockSize){s(this,k),L=0;break}}this.h=L,this.o+=x},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var x=1;x<V.length-8;++x)V[x]=0;var N=8*this.o;for(x=V.length-8;x<V.length;++x)V[x]=N&255,N/=256;for(this.u(V),V=Array(16),x=N=0;4>x;++x)for(var k=0;32>k;k+=8)V[N++]=this.g[x]>>>k&255;return V};function l(V,x){var N=m;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=x(V)}function c(V,x){this.h=x;for(var N=[],k=!0,L=V.length-1;0<=L;L--){var B=V[L]|0;k&&B==x||(N[L]=B,k=!1)}this.g=N}var m={};function d(V){return-128<=V&&128>V?l(V,function(x){return new c([x|0],0>x?-1:0)}):new c([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return E;if(0>V)return D(p(-V));for(var x=[],N=1,k=0;V>=N;k++)x[k]=V/N|0,N*=4294967296;return new c(x,0)}function y(V,x){if(V.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V.charAt(0)=="-")return D(y(V.substring(1),x));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(x,8)),k=E,L=0;L<V.length;L+=8){var B=Math.min(8,V.length-L),P=parseInt(V.substring(L,L+B),x);8>B?(B=p(Math.pow(x,B)),k=k.j(B).add(p(P))):(k=k.j(N),k=k.add(p(P)))}return k}var E=d(0),b=d(1),A=d(16777216);n=c.prototype,n.m=function(){if(O(this))return-D(this).m();for(var V=0,x=1,N=0;N<this.g.length;N++){var k=this.i(N);V+=(0<=k?k:4294967296+k)*x,x*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(I(this))return"0";if(O(this))return"-"+D(this).toString(V);for(var x=p(Math.pow(V,6)),N=this,k="";;){var L=re(N,x).g;N=q(N,L.j(x));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=L,I(N))return B+k;for(;6>B.length;)B="0"+B;k=B+k}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function I(V){if(V.h!=0)return!1;for(var x=0;x<V.g.length;x++)if(V.g[x]!=0)return!1;return!0}function O(V){return V.h==-1}n.l=function(V){return V=q(this,V),O(V)?-1:I(V)?0:1};function D(V){for(var x=V.g.length,N=[],k=0;k<x;k++)N[k]=~V.g[k];return new c(N,~V.h).add(b)}n.abs=function(){return O(this)?D(this):this},n.add=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],k=0,L=0;L<=x;L++){var B=k+(this.i(L)&65535)+(V.i(L)&65535),P=(B>>>16)+(this.i(L)>>>16)+(V.i(L)>>>16);k=P>>>16,B&=65535,P&=65535,N[L]=P<<16|B}return new c(N,N[N.length-1]&-2147483648?-1:0)};function q(V,x){return V.add(D(x))}n.j=function(V){if(I(this)||I(V))return E;if(O(this))return O(V)?D(this).j(D(V)):D(D(this).j(V));if(O(V))return D(this.j(D(V)));if(0>this.l(A)&&0>V.l(A))return p(this.m()*V.m());for(var x=this.g.length+V.g.length,N=[],k=0;k<2*x;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(var L=0;L<V.g.length;L++){var B=this.i(k)>>>16,P=this.i(k)&65535,Ke=V.i(L)>>>16,at=V.i(L)&65535;N[2*k+2*L]+=P*at,X(N,2*k+2*L),N[2*k+2*L+1]+=B*at,X(N,2*k+2*L+1),N[2*k+2*L+1]+=P*Ke,X(N,2*k+2*L+1),N[2*k+2*L+2]+=B*Ke,X(N,2*k+2*L+2)}for(k=0;k<x;k++)N[k]=N[2*k+1]<<16|N[2*k];for(k=x;k<2*x;k++)N[k]=0;return new c(N,0)};function X(V,x){for(;(V[x]&65535)!=V[x];)V[x+1]+=V[x]>>>16,V[x]&=65535,x++}function F(V,x){this.g=V,this.h=x}function re(V,x){if(I(x))throw Error("division by zero");if(I(V))return new F(E,E);if(O(V))return x=re(D(V),x),new F(D(x.g),D(x.h));if(O(x))return x=re(V,D(x)),new F(D(x.g),x.h);if(30<V.g.length){if(O(V)||O(x))throw Error("slowDivide_ only works with positive integers.");for(var N=b,k=x;0>=k.l(V);)N=le(N),k=le(k);var L=me(N,1),B=me(k,1);for(k=me(k,2),N=me(N,2);!I(k);){var P=B.add(k);0>=P.l(V)&&(L=L.add(N),B=P),k=me(k,1),N=me(N,1)}return x=q(V,L.j(x)),new F(L,x)}for(L=E;0<=V.l(x);){for(N=Math.max(1,Math.floor(V.m()/x.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),B=p(N),P=B.j(x);O(P)||0<P.l(V);)N-=k,B=p(N),P=B.j(x);I(B)&&(B=b),L=L.add(B),V=q(V,P)}return new F(L,V)}n.A=function(V){return re(this,V).h},n.and=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],k=0;k<x;k++)N[k]=this.i(k)&V.i(k);return new c(N,this.h&V.h)},n.or=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],k=0;k<x;k++)N[k]=this.i(k)|V.i(k);return new c(N,this.h|V.h)},n.xor=function(V){for(var x=Math.max(this.g.length,V.g.length),N=[],k=0;k<x;k++)N[k]=this.i(k)^V.i(k);return new c(N,this.h^V.h)};function le(V){for(var x=V.g.length+1,N=[],k=0;k<x;k++)N[k]=V.i(k)<<1|V.i(k-1)>>>31;return new c(N,V.h)}function me(V,x){var N=x>>5;x%=32;for(var k=V.g.length-N,L=[],B=0;B<k;B++)L[B]=0<x?V.i(B+N)>>>x|V.i(B+N+1)<<32-x:V.i(B+N);return new c(L,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,Va=c}).apply(typeof lb<"u"?lb:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,Cu,rS,Zh,ng,iS,aS,sS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,T){return h==Array.prototype||h==Object.prototype||(h[v]=T.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var v=0;v<h.length;++v){var T=h[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(h,v){if(v)e:{var T=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var G=h[C];if(!(G in T))break e;T=T[G]}h=h[h.length-1],C=T[h],v=v(C),v!=C&&v!=null&&e(T,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var T=0,C=!1,G={next:function(){if(!C&&T<h.length){var te=T++;return{value:v(te,h[te]),done:!1}}return C=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(h){return h||function(){return l(this,function(v,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,T){return h.call.apply(h.bind,arguments)}function E(h,v,T){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,C),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function b(h,v,T){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,b.apply(null,arguments)}function A(h,v){var T=Array.prototype.slice.call(arguments,1);return function(){var C=T.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function I(h,v){function T(){}T.prototype=v.prototype,h.aa=v.prototype,h.prototype=new T,h.prototype.constructor=h,h.Qb=function(C,G,te){for(var he=Array(arguments.length-2),We=2;We<arguments.length;We++)he[We-2]=arguments[We];return v.prototype[G].apply(C,he)}}function O(h){const v=h.length;if(0<v){const T=Array(v);for(let C=0;C<v;C++)T[C]=h[C];return T}return[]}function D(h,v){for(let T=1;T<arguments.length;T++){const C=arguments[T];if(d(C)){const G=h.length||0,te=C.length||0;h.length=G+te;for(let he=0;he<te;he++)h[G+he]=C[he]}else h.push(C)}}class q{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function X(h){return/^[\s\xa0]*$/.test(h)}function F(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function re(h){return re[" "](h),h}re[" "]=function(){};var le=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function me(h,v,T){for(const C in h)v.call(T,h[C],C,h)}function V(h,v){for(const T in h)v.call(void 0,h[T],T,h)}function x(h){const v={};for(const T in h)v[T]=h[T];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,v){let T,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(T in C)h[T]=C[T];for(let te=0;te<N.length;te++)T=N[te],Object.prototype.hasOwnProperty.call(C,T)&&(h[T]=C[T])}}function L(h){var v=1;h=h.split(":");const T=[];for(;0<v&&h.length;)T.push(h.shift()),v--;return h.length&&T.push(h.join(":")),T}function B(h){m.setTimeout(()=>{throw h},0)}function P(){var h=Q;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ke{constructor(){this.h=this.g=null}add(v,T){const C=at.get();C.set(v,T),this.h?this.h.next=C:this.g=C,this.h=C}}var at=new q(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,_e=!1,Q=new Ke,R=()=>{const h=m.Promise.resolve(void 0);ce=()=>{h.then(z)}};var z=()=>{for(var h;h=P();){try{h.h.call(h.g)}catch(T){B(T)}var v=at;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}_e=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};m.addEventListener("test",T,v),m.removeEventListener("test",T,v)}catch{}return h}();function fe(h,v){if(Y.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var T=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(le){e:{try{re(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else T=="mouseover"?v=h.fromElement:T=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:pe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&fe.aa.h.call(this)}}I(fe,Y);var pe={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(1e6*Math.random()|0),Te=0;function nt(h,v,T,C,G){this.listener=h,this.proxy=null,this.src=v,this.type=T,this.capture=!!C,this.ha=G,this.key=++Te,this.da=this.fa=!1}function Vt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ye(h){this.src=h,this.g={},this.h=0}Ye.prototype.add=function(h,v,T,C,G){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var he=Pt(h,v,C,G);return-1<he?(v=h[he],T||(v.fa=!1)):(v=new nt(v,this.src,te,!!C,G),v.fa=T,h.push(v)),v};function lt(h,v){var T=v.type;if(T in h.g){var C=h.g[T],G=Array.prototype.indexOf.call(C,v,void 0),te;(te=0<=G)&&Array.prototype.splice.call(C,G,1),te&&(Vt(v),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Pt(h,v,T,C){for(var G=0;G<h.length;++G){var te=h[G];if(!te.da&&te.listener==v&&te.capture==!!T&&te.ha==C)return G}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),ut={};function Qe(h,v,T,C,G){if(Array.isArray(v)){for(var te=0;te<v.length;te++)Qe(h,v[te],T,C,G);return null}return T=Rt(T),h&&h[Be]?h.K(v,T,p(C)?!!C.capture:!1,G):ct(h,v,T,!1,C,G)}function ct(h,v,T,C,G,te){if(!v)throw Error("Invalid event type");var he=p(G)?!!G.capture:!!G,We=st(h);if(We||(h[Oe]=We=new Ye(h)),T=We.add(v,T,C,he,te),T.proxy)return T;if(C=ln(),T.proxy=C,C.src=h,C.listener=T,h.addEventListener)ue||(G=he),G===void 0&&(G=!1),h.addEventListener(v.toString(),C,G);else if(h.attachEvent)h.attachEvent(et(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ln(){function h(T){return v.call(h.src,h.listener,T)}const v=ze;return h}function wt(h,v,T,C,G){if(Array.isArray(v))for(var te=0;te<v.length;te++)wt(h,v[te],T,C,G);else C=p(C)?!!C.capture:!!C,T=Rt(T),h&&h[Be]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],T=Pt(te,T,C,G),-1<T&&(Vt(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=st(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Pt(v,T,C,G)),(T=-1<h?v[h]:null)&&At(T))}function At(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Be])lt(v.i,h);else{var T=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(T,C,h.capture):v.detachEvent?v.detachEvent(et(T),C):v.addListener&&v.removeListener&&v.removeListener(C),(T=st(v))?(lt(T,h),T.h==0&&(T.src=null,v[Oe]=null)):Vt(h)}}}function et(h){return h in ut?ut[h]:ut[h]="on"+h}function ze(h,v){if(h.da)h=!0;else{v=new fe(v,this);var T=h.listener,C=h.ha||h.src;h.fa&&At(h),h=T.call(C,v)}return h}function st(h){return h=h[Oe],h instanceof Ye?h:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rt(h){return typeof h=="function"?h:(h[Et]||(h[Et]=function(v){return h.handleEvent(v)}),h[Et])}function de(){ee.call(this),this.i=new Ye(this),this.M=this,this.F=null}I(de,ee),de.prototype[Be]=!0,de.prototype.removeEventListener=function(h,v,T,C){wt(this,h,v,T,C)};function Fe(h,v){var T,C=h.F;if(C)for(T=[];C;C=C.F)T.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new Y(v,h);else if(v instanceof Y)v.target=v.target||h;else{var G=v;v=new Y(C,h),k(v,G)}if(G=!0,T)for(var te=T.length-1;0<=te;te--){var he=v.g=T[te];G=Me(he,C,!0,v)&&G}if(he=v.g=h,G=Me(he,C,!0,v)&&G,G=Me(he,C,!1,v)&&G,T)for(te=0;te<T.length;te++)he=v.g=T[te],G=Me(he,C,!1,v)&&G}de.prototype.N=function(){if(de.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var T=h.g[v],C=0;C<T.length;C++)Vt(T[C]);delete h.g[v],h.h--}}this.F=null},de.prototype.K=function(h,v,T,C){return this.i.add(String(h),v,!1,T,C)},de.prototype.L=function(h,v,T,C){return this.i.add(String(h),v,!0,T,C)};function Me(h,v,T,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,te=0;te<v.length;++te){var he=v[te];if(he&&!he.da&&he.capture==T){var We=he.listener,en=he.ha||he.src;he.fa&&lt(h.i,he),G=We.call(en,C)!==!1&&G}}return G&&!C.defaultPrevented}function ke(h,v,T){if(typeof h=="function")T&&(h=b(h,T));else if(h&&typeof h.handleEvent=="function")h=b(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function Bt(h){h.g=ke(()=>{h.g=null,h.i&&(h.i=!1,Bt(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Xn extends ee{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(h){ee.call(this),this.h=h,this.g={}}I(Nr,ee);var qn=[];function Zn(h){me(h.g,function(v,T){this.g.hasOwnProperty(T)&&At(v)},h),h.g={}}Nr.prototype.N=function(){Nr.aa.N.call(this),Zn(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=m.JSON.stringify,_i=m.JSON.parse,Wr=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function Ei(){}Ei.prototype.h=null;function es(h){return h.h||(h.h=h.i())}function ia(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){Y.call(this,"d")}I(fr,Y);function Gt(){Y.call(this,"c")}I(Gt,Y);var Ct={},Xr=null;function rt(){return Xr=Xr||new de}Ct.La="serverreachability";function gn(h){Y.call(this,Ct.La,h)}I(gn,Y);function Zr(h){const v=rt();Fe(v,new gn(v))}Ct.STAT_EVENT="statevent";function aa(h,v){Y.call(this,Ct.STAT_EVENT,h),this.stat=v}I(aa,Y);function bt(h){const v=rt();Fe(v,new aa(v,h))}Ct.Ma="timingevent";function jt(h,v){Y.call(this,Ct.Ma,h),this.size=v}I(jt,Y);function xt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function yn(){this.g=!0}yn.prototype.xa=function(){this.g=!1};function bi(h,v,T,C,G,te){h.info(function(){if(h.g)if(te)for(var he="",We=te.split("&"),en=0;en<We.length;en++){var Xe=We[en].split("=");if(1<Xe.length){var hn=Xe[0];Xe=Xe[1];var tn=hn.split("_");he=2<=tn.length&&tn[1]=="type"?he+(hn+"="+Xe+"&"):he+(hn+"=redacted&")}}else he=null;else he=te;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+v+`
`+T+`
`+he})}function ts(h,v,T,C,G,te,he){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+v+`
`+T+`
`+te+" "+he})}function dr(h,v,T,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Pr(h,T)+(C?" "+C:"")})}function Xs(h,v){h.info(function(){return"TIMEOUT: "+v})}yn.prototype.info=function(){};function Pr(h,v){if(!h.g)return v;if(!v)return null;try{var T=JSON.parse(v);if(T){for(h=0;h<T.length;h++)if(Array.isArray(T[h])){var C=T[h];if(!(2>C.length)){var G=C[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var he=1;he<G.length;he++)G[he]=""}}}}return Dn(T)}catch{return v}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function Ie(){}I(Ie,Ei),Ie.prototype.g=function(){return new XMLHttpRequest},Ie.prototype.i=function(){return{}},mr=new Ie;function Le(h,v,T,C){this.j=h,this.i=v,this.l=T,this.R=C||1,this.U=new Nr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var vn={},un={};function jn(h,v,T){h.L=1,h.v=ss(Jn(v)),h.m=T,h.P=!0,Vr(h,null)}function Vr(h,v){h.F=Date.now(),ns(h),h.A=Jn(h.v);var T=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Il(T.i,"t",C),h.C=0,T=h.j.J,h.h=new Ne,h.g=Oc(h.j,T?v:null,!h.m),0<h.O&&(h.M=new Xn(b(h.Y,h,h.g),h.O)),v=h.U,T=h.g,C=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(qn[0]=G.toString()),G=qn);for(var te=0;te<G.length;te++){var he=Qe(T,G[te],C||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Zr(),bi(h.i,h.u,h.A,h.l,h.R,h.m)}Le.prototype.ca=function(h){h=h.target;const v=this.M;v&&vr(h)==3?v.j():this.Y(h)},Le.prototype.Y=function(h){try{if(h==this.g)e:{const tn=vr(this.g);var v=this.g.Ba();const xi=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Sc(this.g)))){this.J||tn!=4||v==7||(v==8||0>=xi?Zr(3):Zr(2)),sa(this);var T=this.g.Z();this.X=T;t:if(Zs(this)){var C=Sc(this.g);h="";var G=C.length,te=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Jr(this);var he="";break t}this.h.i=new m.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(te&&v==G-1)});C.length=0,this.h.g+=h,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=T==200,ts(this.i,this.u,this.A,this.l,this.R,tn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var We,en=this.g;if((We=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(We)){var Xe=We;break t}}Xe=null}if(T=Xe)dr(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,T);else{this.o=!1,this.s=3,bt(12),_n(this),Jr(this);break e}}if(this.P){T=!0;let En;for(;!this.J&&this.C<he.length;)if(En=vc(this,he),En==un){tn==4&&(this.s=4,bt(14),T=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(En==vn){this.s=4,bt(15),dr(this.i,this.l,he,"[Invalid Chunk]"),T=!1;break}else dr(this.i,this.l,En,null),rs(this,En);if(Zs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||he.length!=0||this.h.h||(this.s=1,bt(16),T=!1),this.o=this.o&&T,!T)dr(this.i,this.l,he,"[Invalid Chunked Response]"),_n(this),Jr(this);else if(0<he.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),ms(hn),hn.M=!0,bt(11))}}else dr(this.i,this.l,he,null),rs(this,he);tn==4&&_n(this),this.o&&!this.J&&(tn==4?xc(this.j,this):(this.o=!1,ns(this)))}else Ed(this.g),T==400&&0<he.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),_n(this),Jr(this)}}}catch{}finally{}};function Zs(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function vc(h,v){var T=h.C,C=v.indexOf(`
`,T);return C==-1?un:(T=Number(v.substring(T,C)),isNaN(T)?vn:(C+=1,C+T>v.length?un:(v=v.slice(C,C+T),h.C=C+T,v)))}Le.prototype.cancel=function(){this.J=!0,_n(this)};function ns(h){h.S=Date.now()+h.I,_c(h,h.I)}function _c(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=xt(b(h.ba,h),v)}function sa(h){h.B&&(m.clearTimeout(h.B),h.B=null)}Le.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Xs(this.i,this.A),this.L!=2&&(Zr(),bt(17)),_n(this),this.s=2,Jr(this)):_c(this,this.S-h)};function Jr(h){h.j.G==0||h.J||xc(h.j,h)}function _n(h){sa(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Zn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function rs(h,v){try{var T=h.j;if(T.G!=0&&(T.g==h||wl(T.h,h))){if(!h.K&&wl(T.h,h)&&T.G==3){try{var C=T.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<h.F)co(T),lo(T);else break e;Pl(T),bt(18)}}else T.za=G[1],0<T.za-T.T&&37500>G[2]&&T.F&&T.v==0&&!T.C&&(T.C=xt(b(T.Za,T),6e3));if(1>=eo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else Ii(T,11)}else if((h.K||T.g==h)&&co(T),!X(v))for(G=T.Da.g.parse(v),v=0;v<G.length;v++){let Xe=G[v];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const hn=Xe[3];hn!=null&&(T.la=hn,T.j.info("VER="+T.la));const tn=Xe[4];tn!=null&&(T.Aa=tn,T.j.info("SVER="+T.Aa));const xi=Xe[5];xi!=null&&typeof xi=="number"&&0<xi&&(C=1.5*xi,T.L=C,T.j.info("backChannelRequestTimeoutMs_="+C)),C=T;const En=h.g;if(En){const si=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var te=C.h;te.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(to(te,te.h),te.h=null))}if(C.D){const kl=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(C.ya=kl,gt(C.I,C.D,kl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-h.F,T.j.info("Handshake RTT: "+T.R+"ms")),C=T;var he=h;if(C.qa=Nc(C,C.J?C.ia:null,C.W),he.K){Ln(C.h,he);var We=he,en=C.L;en&&(We.I=en),We.B&&(sa(We),ns(We)),C.g=he}else Cc(C);0<T.i.length&&uo(T)}else Xe[0]!="stop"&&Xe[0]!="close"||Ii(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Ii(T,7):Nl(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}Zr(4)}catch{}}var Ec=class{constructor(h,v){this.g=h,this.map=v}};function Ti(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function eo(h){return h.h?1:h.g?h.g.size:0}function wl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function to(h,v){h.g?h.g.add(v):h.h=v}function Ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ti.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Sl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const T of h.g.values())v=v.concat(T.D);return v}return O(h.i)}function gd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],T=h.length,C=0;C<T;C++)v.push(h[C]);return v}v=[],T=0;for(C in h)v[T++]=h[C];return v}function no(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var T=0;T<h;T++)v.push(T);return v}v=[],T=0;for(const C in h)v[T++]=C;return v}}}function Al(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var T=no(h),C=gd(h),G=C.length,te=0;te<G;te++)v.call(void 0,C[te],T&&T[te],h)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yd(h,v){if(h){h=h.split("&");for(var T=0;T<h.length;T++){var C=h[T].indexOf("="),G=null;if(0<=C){var te=h[T].substring(0,C);G=h[T].substring(C+1)}else te=h[T];v(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function $t(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof $t){this.h=h.h,as(this,h.j),this.o=h.o,this.g=h.g,oa(this,h.s),this.l=h.l;var v=h.i,T=new Si;T.i=v.i,v.g&&(T.g=new Map(v.g),T.h=v.h),wi(this,T),this.m=h.m}else h&&(v=String(h).match(is))?(this.h=!1,as(this,v[1]||"",!0),this.o=pr(v[2]||""),this.g=pr(v[3]||"",!0),oa(this,v[4]),this.l=pr(v[5]||"",!0),wi(this,v[6]||"",!0),this.m=pr(v[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}$t.prototype.toString=function(){var h=[],v=this.j;v&&h.push(os(v,Rl,!0),":");var T=this.g;return(T||v=="file")&&(h.push("//"),(v=this.o)&&h.push(os(v,Rl,!0),"@"),h.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&h.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(os(T,T.charAt(0)=="/"?vd:Cl,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",os(T,ro)),h.join("")};function Jn(h){return new $t(h)}function as(h,v,T){h.j=T?pr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function oa(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function wi(h,v,T){v instanceof Si?(h.i=v,Tc(h.i,h.h)):(T||(v=os(v,_d)),h.i=new Si(v,h.h))}function gt(h,v,T){h.i.set(v,T)}function ss(h){return gt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function pr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function os(h,v,T){return typeof h=="string"?(h=encodeURI(h).replace(v,bc),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Rl=/[#\/\?@]/g,Cl=/[#\?:]/g,vd=/[#\?]/g,_d=/[#\?@]/g,ro=/#/g;function Si(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function gr(h){h.g||(h.g=new Map,h.h=0,h.i&&yd(h.i,function(v,T){h.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=Si.prototype,n.add=function(h,v){gr(this),this.i=null,h=ei(this,h);var T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(v),this.h+=1,this};function Ai(h,v){gr(h),v=ei(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ri(h,v){return gr(h),v=ei(h,v),h.g.has(v)}n.forEach=function(h,v){gr(this),this.g.forEach(function(T,C){T.forEach(function(G){h.call(v,G,C,this)},this)},this)},n.na=function(){gr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),T=[];for(let C=0;C<v.length;C++){const G=h[C];for(let te=0;te<G.length;te++)T.push(v[C])}return T},n.V=function(h){gr(this);let v=[];if(typeof h=="string")Ri(this,h)&&(v=v.concat(this.g.get(ei(this,h))));else{h=Array.from(this.g.values());for(let T=0;T<h.length;T++)v=v.concat(h[T])}return v},n.set=function(h,v){return gr(this),this.i=null,h=ei(this,h),Ri(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Il(h,v,T){Ai(h,v),0<T.length&&(h.i=null,h.g.set(ei(h,v),O(T)),h.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var T=0;T<v.length;T++){var C=v[T];const te=encodeURIComponent(String(C)),he=this.V(C);for(C=0;C<he.length;C++){var G=te;he[C]!==""&&(G+="="+encodeURIComponent(String(he[C]))),h.push(G)}}return this.i=h.join("&")};function ei(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Tc(h,v){v&&!h.j&&(gr(h),h.i=null,h.g.forEach(function(T,C){var G=C.toLowerCase();C!=G&&(Ai(this,C),Il(this,G,T))},h)),h.j=v}function ls(h,v){const T=new yn;if(m.Image){const C=new Image;C.onload=A(yr,T,"TestLoadImage: loaded",!0,v,C),C.onerror=A(yr,T,"TestLoadImage: error",!1,v,C),C.onabort=A(yr,T,"TestLoadImage: abort",!1,v,C),C.ontimeout=A(yr,T,"TestLoadImage: timeout",!1,v,C),m.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function jr(h,v){const T=new yn,C=new AbortController,G=setTimeout(()=>{C.abort(),yr(T,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(te=>{clearTimeout(G),te.ok?yr(T,"TestPingServer: ok",!0,v):yr(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),yr(T,"TestPingServer: error",!1,v)})}function yr(h,v,T,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(T)}catch{}}function us(){this.g=new Wr}function ti(h,v,T){const C=T||"";try{Al(h,function(G,te){let he=G;p(G)&&(he=Dn(G)),v.push(C+te+"="+encodeURIComponent(he))})}catch(G){throw v.push(C+"type="+encodeURIComponent("_badmap")),G}}function la(h){this.l=h.Ub||null,this.j=h.eb||!1}I(la,Ei),la.prototype.g=function(){return new Ci(this.l,this.j)},la.prototype.i=function(h){return function(){return h}}({});function Ci(h,v){de.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ci,de),n=Ci.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ri(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ni(this):ri(this),this.readyState==3&&xl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,ni(this))},n.Qa=function(h){this.g&&(this.response=h,ni(this))},n.ga=function(){this.g&&ni(this)};function ni(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ri(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=v.next();return h.join(`\r
`)};function ri(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Dl(h){let v="";return me(h,function(T,C){v+=C,v+=":",v+=T,v+=`\r
`}),v}function cn(h,v,T){e:{for(C in T){var C=!1;break e}C=!0}C||(T=Dl(T),typeof h=="string"?T!=null&&encodeURIComponent(String(T)):gt(h,v,T))}function ht(h){de.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ht,de);var io=/^https?$/i,cs=["POST","PUT"];n=ht.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,T,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?es(this.o):es(mr),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){wc(this,te);return}if(h=T||"",T=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)T.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const te of C.keys())T.set(te,C.get(te));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),G=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cs,v,void 0))||C||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,he]of T)this.g.setRequestHeader(te,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){wc(this,te)}};function wc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ao(h),ii(h)}function ao(h){h.A||(h.A=!0,Fe(h,"complete"),Fe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Fe(this,"complete"),Fe(this,"abort"),ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?so(this):this.bb())},n.bb=function(){so(this)};function so(h){if(h.h&&typeof c<"u"&&(!h.v[1]||vr(h)!=4||h.Z()!=2)){if(h.u&&vr(h)==4)ke(h.Ea,0,h);else if(Fe(h,"readystatechange"),vr(h)==4){h.h=!1;try{const he=h.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var T;if(!(T=v)){var C;if(C=he===0){var G=String(h.D).match(is)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),C=!io.test(G?G.toLowerCase():"")}T=C}if(T)Fe(h,"complete"),Fe(h,"success");else{h.m=6;try{var te=2<vr(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",ao(h)}}finally{ii(h)}}}}function ii(h,v){if(h.g){hs(h);const T=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Fe(h,"ready");try{T.onreadystatechange=C}catch{}}}function hs(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function vr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),_i(v)}};function Sc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ed(h){const v={};h=(h.g&&2<=vr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(X(h[C]))continue;var T=L(h[C]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=v[G]||[];v[G]=te,te.push(T)}V(v,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(h,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||v}function oo(h){this.Aa=0,this.i=[],this.j=new yn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,h),this.cb=fs("retryDelaySeedMs",1e4,h),this.Wa=fs("forwardChannelMaxRetries",2,h),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(h&&h.concurrentRequestLimit),this.Da=new us,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oo.prototype,n.la=8,n.G=1,n.connect=function(h,v,T,C){bt(0),this.W=h,this.H=v||{},T&&C!==void 0&&(this.H.OSID=T,this.H.OAID=C),this.F=this.X,this.I=Nc(this,null,this.W),uo(this)};function Nl(h){if(Ac(h),h.G==3){var v=h.U++,T=Jn(h.I);if(gt(T,"SID",h.K),gt(T,"RID",v),gt(T,"TYPE","terminate"),ds(h,T),v=new Le(h,h.j,v),v.L=2,v.v=ss(Jn(T)),T=!1,m.navigator&&m.navigator.sendBeacon)try{T=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!T&&m.Image&&(new Image().src=v.v,T=!0),T||(v.g=Oc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ns(v)}Dc(h)}function lo(h){h.g&&(ms(h),h.g.cancel(),h.g=null)}function Ac(h){lo(h),h.u&&(m.clearTimeout(h.u),h.u=null),co(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function uo(h){if(!Js(h.h)&&!h.s){h.s=!0;var v=h.Ga;ce||R(),_e||(ce(),_e=!0),Q.add(v,h),h.B=0}}function bd(h,v){return eo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=xt(b(h.Ga,h,v),Ml(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new Le(this,this.j,h);let te=this.o;if(this.S&&(te?(te=x(te),k(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var v=0,T=0;T<this.i.length;T++){t:{var C=this.i[T];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=T;break e}if(v===4096||T===this.i.length-1){v=T+1;break e}}v=1e3}else v=1e3;v=Rc(this,G,v),T=Jn(this.I),gt(T,"RID",h),gt(T,"CVER",22),this.D&&gt(T,"X-HTTP-Session-Id",this.D),ds(this,T),te&&(this.O?v="headers="+encodeURIComponent(String(Dl(te)))+"&"+v:this.m&&cn(T,this.m,te)),to(this.h,G),this.Ua&&gt(T,"TYPE","init"),this.P?(gt(T,"$req",v),gt(T,"SID","null"),G.T=!0,jn(G,T,null)):jn(G,T,v),this.G=2}}else this.G==3&&(h?Ol(this,h):this.i.length==0||Js(this.h)||Ol(this))};function Ol(h,v){var T;v?T=v.l:T=h.U++;const C=Jn(h.I);gt(C,"SID",h.K),gt(C,"RID",T),gt(C,"AID",h.T),ds(h,C),h.m&&h.o&&cn(C,h.m,h.o),T=new Le(h,h.j,T,h.B+1),h.m===null&&(T.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Rc(h,T,1e3),T.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),to(h.h,T),jn(T,C,v)}function ds(h,v){h.H&&me(h.H,function(T,C){gt(v,C,T)}),h.l&&Al({},function(T,C){gt(v,C,T)})}function Rc(h,v,T){T=Math.min(h.i.length,T);var C=h.l?b(h.l.Na,h.l,h):null;e:{var G=h.i;let te=-1;for(;;){const he=["count="+T];te==-1?0<T?(te=G[0].g,he.push("ofs="+te)):te=0:he.push("ofs="+te);let We=!0;for(let en=0;en<T;en++){let Xe=G[en].g;const hn=G[en].map;if(Xe-=te,0>Xe)te=Math.max(0,G[en].g-100),We=!1;else try{ti(hn,he,"req"+Xe+"_")}catch{C&&C(hn)}}if(We){C=he.join("&");break e}}}return h=h.i.splice(0,T),v.D=h,C}function Cc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ce||R(),_e||(ce(),_e=!0),Q.add(v,h),h.v=0}}function Pl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=xt(b(h.Fa,h),Ml(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=xt(b(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),lo(this),Ic(this))};function ms(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Ic(h){h.g=new Le(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Jn(h.qa);gt(v,"RID","rpc"),gt(v,"SID",h.K),gt(v,"AID",h.T),gt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&gt(v,"TO",h.ja),gt(v,"TYPE","xmlhttp"),ds(h,v),h.m&&h.o&&cn(v,h.m,h.o),h.L&&(h.g.I=h.L);var T=h.g;h=h.ia,T.L=1,T.v=ss(Jn(v)),T.m=null,T.P=!0,Vr(T,h)}n.Za=function(){this.C!=null&&(this.C=null,lo(this),Pl(this),bt(19))};function co(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function xc(h,v){var T=null;if(h.g==v){co(h),ms(h),h.g=null;var C=2}else if(wl(h.h,v))T=v.D,Ln(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){T=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;C=rt(),Fe(C,new jt(C,T)),uo(h)}else Cc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(C==1&&bd(h,v)||C==2&&Pl(h)))switch(T&&0<T.length&&(v=h.h,v.i=v.i.concat(T)),G){case 1:Ii(h,5);break;case 4:Ii(h,10);break;case 3:Ii(h,6);break;default:Ii(h,2)}}}function Ml(h,v){let T=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(T*=2),T*v}function Ii(h,v){if(h.j.info("Error code "+v),v==2){var T=b(h.fb,h),C=h.Xa;const G=!C;C=new $t(C||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||as(C,"https"),ss(C),G?ls(C.toString(),T):jr(C.toString(),T)}else bt(2);h.G=0,h.l&&h.l.sa(v),Dc(h),Ac(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function Dc(h){if(h.G=0,h.ka=[],h.l){const v=Sl(h.h);(v.length!=0||h.i.length!=0)&&(D(h.ka,v),D(h.ka,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.ra()}}function Nc(h,v,T){var C=T instanceof $t?Jn(T):new $t(T);if(C.g!="")v&&(C.g=v+"."+C.g),oa(C,C.s);else{var G=m.location;C=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var te=new $t(null);C&&as(te,C),v&&(te.g=v),G&&oa(te,G),T&&(te.l=T),C=te}return T=h.D,v=h.ya,T&&v&&gt(C,T,v),gt(C,"VER",h.la),ds(h,C),C}function Oc(h,v,T){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ht(new la({eb:T})):new ht(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pc(){}n=Pc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(h,v){return new Un(h,v)};function Un(h,v){de.call(this),this.g=new oo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!X(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!X(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ai(this)}I(Un,de),Un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Un.prototype.close=function(){Nl(this.g)},Un.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.u&&(T={},T.__data__=Dn(h),h=T);v.i.push(new Ec(v.Ya++,h)),v.G==3&&uo(v)},Un.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,Un.aa.N.call(this)};function Mc(h){fr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const T in v){h=T;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}I(Mc,fr);function kc(){Gt.call(this),this.status=1}I(kc,Gt);function ai(h){this.g=h}I(ai,Pc),ai.prototype.ua=function(){Fe(this.g,"a")},ai.prototype.ta=function(h){Fe(this.g,new Mc(h))},ai.prototype.sa=function(h){Fe(this.g,new kc)},ai.prototype.ra=function(){Fe(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Un.prototype.send=Un.prototype.o,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,sS=function(){return new ho},aS=function(){return rt()},iS=Ct,ng={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Zh=Mr,kr.COMPLETE="complete",rS=kr,ia.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",de.prototype.listen=de.prototype.K,Cu=ia,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,nS=ht}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const ub="@firebase/firestore",cb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Vf("@firebase/firestore");function Go(){return Us.logLevel}function ge(n,...e){if(Us.logLevel<=Ge.DEBUG){const t=e.map(ny);Us.debug(`Firestore (${gl}): ${n}`,...t)}}function ea(n,...e){if(Us.logLevel<=Ge.ERROR){const t=e.map(ny);Us.error(`Firestore (${gl}): ${n}`,...t)}}function nl(n,...e){if(Us.logLevel<=Ge.WARN){const t=e.map(ny);Us.warn(`Firestore (${gl}): ${n}`,...t)}}function ny(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,oS(n,i,t)}function oS(n,e,t){let i=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ea(i),new Error(i)}function dt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||oS(e,s,i)}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mn.UNAUTHENTICATED))}shutdown(){}}class aO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sO{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let l=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Wi,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},m=d=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Wi)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new lS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Mn(e)}}class oO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new oO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const i=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=cO(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function rg(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return je(i,s);{const l=uS(),c=hO(l.encode(fb(n,t)),l.encode(fb(e,t)));return c!==0?c:je(i,s)}}t+=i>65535?2:1}return je(n.length,e.length)}function fb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function hO(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return je(n[t],e[t]);return je(n.length,e.length)}function rl(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=-62135596800,mb=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*mb);return new an(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<db)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mb}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-db;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new an(0,0))}static max(){return new xe(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__name__";class di{constructor(e,t,i){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Re(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=di.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const i=di.isNumericId(e),s=di.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?di.extractNumericId(e).compare(di.extractNumericId(t)):rg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class It extends di{construct(e,t,i){return new It(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new It(t)}static emptyPath(){return new It([])}}const fO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends di{construct(e,t,i){return new Rn(e,t,i)}static isValidIdentifier(e){return fO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pb}static keyField(){return new Rn([pb])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(i+=m,s++):(l(),s++)}if(l(),c)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(t)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(It.fromString(e))}static fromName(e){return new be(It.fromString(e).popFirst(5))}static empty(){return new be(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=-1;function dO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=xe.fromTimestamp(i===1e9?new an(t+1,0):new an(t,i));return new za(s,be.empty(),e)}function mO(n){return new za(n.readTime,n.key,Hu)}class za{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new za(xe.min(),be.empty(),Hu)}static max(){return new za(xe.max(),be.empty(),Hu)}}function pO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==gO)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,i)=>{t(e)})}static reject(e){return new se((t,i)=>{i(e)})}static waitFor(e){return new se((t,i)=>{let s=0,l=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++l,c&&l===s&&t()},d=>i(d))}),c=!0,l===s&&t()})}static or(e){let t=se.resolve(!1);for(const i of e)t=t.next(s=>s?se.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new se((i,s)=>{const l=e.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const p=d;t(e[p]).next(y=>{c[p]=y,++m,m===l&&i(c)},y=>s(y))}})}static doWhile(e,t){return new se((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function vO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-1;function qf(n){return n==null}function pf(n){return n===0&&1/n==-1/0}function _O(n){return typeof n=="number"&&Number.isInteger(n)&&!pf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="";function EO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=gb(e)),e=bO(n.get(t),e);return gb(e)}function bO(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case hS:t+="";break;default:t+=l}}return t}function gb(n){return n+hS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||An.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uh(this.root,e,this.comparator,!0)}}class Uh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??An.RED,this.left=s??An.EMPTY,this.right=l??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new An(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return An.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new An(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vb(this.data.getIterator())}getIteratorFrom(e){return new vb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class vb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new ur([])}unionWith(e){let t=new sn(Rn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new dS("Invalid base64 string: "+l):l}}(e);return new xn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const TO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(n){if(dt(!!n,39018),typeof n=="string"){let e=0;const t=TO.exec(n);if(dt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ha(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="server_timestamp",pS="__type__",gS="__previous_value__",yS="__local_write_time__";function iy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[pS])===null||t===void 0?void 0:t.stringValue)===mS}function Hf(n){const e=n.mapValue.fields[gS];return iy(e)?Hf(e):e}function Fu(n){const e=qa(n.mapValue.fields[yS].timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,i,s,l,c,m,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const gf="(default)";class Gu{constructor(e,t){this.projectId=e,this.database=t||gf}static empty(){return new Gu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(e){return e instanceof Gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",SO="__max__",Bh={mapValue:{}},_S="__vector__",yf="value";function Fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?iy(n)?4:RO(n)?9007199254740991:AO(n)?10:11:Re(28295,{value:n})}function vi(n,e){if(n===e)return!0;const t=Fa(n);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Fu(n).isEqual(Fu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=qa(s.timestampValue),m=qa(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Ha(s.bytesValue).isEqual(Ha(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Ht(s.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Ht(s.integerValue)===Ht(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Ht(s.doubleValue),m=Ht(l.doubleValue);return c===m?pf(c)===pf(m):isNaN(c)&&isNaN(m)}return!1}(n,e);case 9:return rl(n.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},m=l.mapValue.fields||{};if(yb(c)!==yb(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!vi(c[d],m[d])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function $u(n,e){return(n.values||[]).find(t=>vi(t,e))!==void 0}function il(n,e){if(n===e)return 0;const t=Fa(n),i=Fa(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(l,c){const m=Ht(l.integerValue||l.doubleValue),d=Ht(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(n,e);case 3:return _b(n.timestampValue,e.timestampValue);case 4:return _b(Fu(n),Fu(e));case 5:return rg(n.stringValue,e.stringValue);case 6:return function(l,c){const m=Ha(l),d=Ha(c);return m.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let p=0;p<m.length&&p<d.length;p++){const y=je(m[p],d[p]);if(y!==0)return y}return je(m.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const m=je(Ht(l.latitude),Ht(c.latitude));return m!==0?m:je(Ht(l.longitude),Ht(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Eb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var m,d,p,y;const E=l.fields||{},b=c.fields||{},A=(m=E[yf])===null||m===void 0?void 0:m.arrayValue,I=(d=b[yf])===null||d===void 0?void 0:d.arrayValue,O=je(((p=A==null?void 0:A.values)===null||p===void 0?void 0:p.length)||0,((y=I==null?void 0:I.values)===null||y===void 0?void 0:y.length)||0);return O!==0?O:Eb(A,I)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Bh.mapValue&&c===Bh.mapValue)return 0;if(l===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let E=0;E<d.length&&E<y.length;++E){const b=rg(d[E],y[E]);if(b!==0)return b;const A=il(m[d[E]],p[y[E]]);if(A!==0)return A}return je(d.length,y.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{Pe:t})}}function _b(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=qa(n),i=qa(e),s=je(t.seconds,i.seconds);return s!==0?s:je(t.nanos,i.nanos)}function Eb(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=il(t[s],i[s]);if(l)return l}return je(t.length,i.length)}function al(n){return ig(n)}function ig(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=qa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ha(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=ig(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${ig(t.fields[c])}`;return s+"}"}(n.mapValue):Re(61005,{value:n})}function Jh(n){switch(Fa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hf(n);return e?16+Jh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ha(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+Jh(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Wa(i.fields,(l,c)=>{s+=l.length+Jh(c)}),s}(n.mapValue);default:throw Re(13486,{value:n})}}function bb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ag(n){return!!n&&"integerValue"in n}function ay(n){return!!n&&"arrayValue"in n}function Tb(n){return!!n&&"nullValue"in n}function wb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ef(n){return!!n&&"mapValue"in n}function AO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vS])===null||t===void 0?void 0:t.stringValue)===_S}function Mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wa(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Mu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Mu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mu(t)}setAll(e){let t=Rn.emptyPath(),i={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const d=this.getFieldsMap(t);this.applyChanges(d,i,s),i={},s=[],t=m.popLast()}c?i[m.lastSegment()]=Mu(c):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];ef(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Wa(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new Kn(Mu(this.value))}}function ES(n){const e=[];return Wa(n.fields,(t,i)=>{const s=new Rn([t]);if(ef(i)){const l=ES(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,t,i,s,l,c,m){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new kn(e,0,xe.min(),xe.min(),xe.min(),Kn.empty(),0)}static newFoundDocument(e,t,i,s){return new kn(e,1,t,xe.min(),i,s,0)}static newNoDocument(e,t){return new kn(e,2,t,xe.min(),xe.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new kn(e,3,t,xe.min(),xe.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.position=e,this.inclusive=t}}function Sb(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=il(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ab(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t="asc"){this.field=e,this.dir=t}}function CO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{}class Zt extends bS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new xO(e,t,i):t==="array-contains"?new OO(e,i):t==="in"?new PO(e,i):t==="not-in"?new MO(e,i):t==="array-contains-any"?new kO(e,i):new Zt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new DO(e,i):new NO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&Fa(this.value)===Fa(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends bS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Fr(e,t)}matches(e){return TS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function TS(n){return n.op==="and"}function wS(n){return IO(n)&&TS(n)}function IO(n){for(const e of n.filters)if(e instanceof Fr)return!1;return!0}function sg(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+al(n.value);if(wS(n))return n.filters.map(e=>sg(e)).join(",");{const e=n.filters.map(t=>sg(t)).join(",");return`${n.op}(${e})`}}function SS(n,e){return n instanceof Zt?function(i,s){return s instanceof Zt&&i.op===s.op&&i.field.isEqual(s.field)&&vi(i.value,s.value)}(n,e):n instanceof Fr?function(i,s){return s instanceof Fr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,m)=>l&&SS(c,s.filters[m]),!0):!1}(n,e):void Re(19439)}function AS(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${al(t.value)}`}(n):n instanceof Fr?function(t){return t.op.toString()+" {"+t.getFilters().map(AS).join(" ,")+"}"}(n):"Filter"}class xO extends Zt{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class DO extends Zt{constructor(e,t){super(e,"in",t),this.keys=RS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NO extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=RS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class OO extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ay(t)&&$u(t.arrayValue,this.value)}}class PO extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}}class MO extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}}class kO extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$u(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t=null,i=[],s=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=m,this.Ie=null}}function Rb(n,e=null,t=[],i=[],s=null,l=null,c=null){return new VO(n,e,t,i,s,l,c)}function sy(n){const e=De(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>sg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),qf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>al(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>al(i)).join(",")),e.Ie=t}return e.Ie}function oy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!CO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!SS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ab(n.startAt,e.startAt)&&Ab(n.endAt,e.endAt)}function og(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t=null,i=[],s=[],l=null,c="F",m=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function jO(n,e,t,i,s,l,c,m){return new oc(n,e,t,i,s,l,c,m)}function ly(n){return new oc(n)}function Cb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CS(n){return n.collectionGroup!==null}function ku(n){const e=De(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new sn(Rn.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new _f(l,i))}),t.has(Rn.keyField().canonicalString())||e.Ee.push(new _f(Rn.keyField(),i))}return e.Ee}function pi(n){const e=De(n);return e.de||(e.de=LO(e,ku(n))),e.de}function LO(n,e){if(n.limitType==="F")return Rb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new _f(s.field,l)});const t=n.endAt?new vf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new vf(n.startAt.position,n.startAt.inclusive):null;return Rb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function lg(n,e){const t=n.filters.concat([e]);return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function ug(n,e,t){return new oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ff(n,e){return oy(pi(n),pi(e))&&n.limitType===e.limitType}function IS(n){return`${sy(pi(n))}|lt:${n.limitType}`}function $o(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>AS(s)).join(", ")}]`),qf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>al(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>al(s)).join(",")),`Target(${i})`}(pi(n))}; limitType=${n.limitType})`}function Gf(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of ku(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,m,d){const p=Sb(c,m,d);return c.inclusive?p<=0:p<0}(i.startAt,ku(i),s)||i.endAt&&!function(c,m,d){const p=Sb(c,m,d);return c.inclusive?p>=0:p>0}(i.endAt,ku(i),s))}(n,e)}function UO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xS(n){return(e,t)=>{let i=!1;for(const s of ku(n)){const l=BO(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function BO(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,m){const d=c.data.field(l),p=m.data.field(l);return d!==null&&p!==null?il(d,p):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Wa(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new kt(be.comparator);function ta(){return zO}const DS=new kt(be.comparator);function Iu(...n){let e=DS;for(const t of n)e=e.insert(t.key,t);return e}function NS(n){let e=DS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Os(){return Vu()}function OS(){return Vu()}function Vu(){return new $s(n=>n.toString(),(n,e)=>n.isEqual(e))}const qO=new kt(be.comparator),HO=new sn(be.comparator);function $e(...n){let e=HO;for(const t of n)e=e.add(t);return e}const FO=new sn(je);function GO(){return FO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function PS(n){return{integerValue:""+n}}function $O(n,e){return _O(e)?PS(e):uy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function YO(n,e,t){return n instanceof Yu?function(s,l){const c={fields:{[pS]:{stringValue:mS},[yS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&iy(l)&&(l=Hf(l)),l&&(c.fields[gS]=l),{mapValue:c}}(t,e):n instanceof Ku?kS(n,e):n instanceof Qu?VS(n,e):function(s,l){const c=MS(s,l),m=Ib(c)+Ib(s.Re);return ag(c)&&ag(s.Re)?PS(m):uy(s.serializer,m)}(n,e)}function KO(n,e,t){return n instanceof Ku?kS(n,e):n instanceof Qu?VS(n,e):t}function MS(n,e){return n instanceof Ef?function(i){return ag(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Yu extends $f{}class Ku extends $f{constructor(e){super(),this.elements=e}}function kS(n,e){const t=jS(e);for(const i of n.elements)t.some(s=>vi(s,i))||t.push(i);return{arrayValue:{values:t}}}class Qu extends $f{constructor(e){super(),this.elements=e}}function VS(n,e){let t=jS(e);for(const i of n.elements)t=t.filter(s=>!vi(s,i));return{arrayValue:{values:t}}}class Ef extends $f{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ib(n){return Ht(n.integerValue||n.doubleValue)}function jS(n){return ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e,t){this.field=e,this.transform=t}}function WO(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Ku&&s instanceof Ku||i instanceof Qu&&s instanceof Qu?rl(i.elements,s.elements,vi):i instanceof Ef&&s instanceof Ef?vi(i.Re,s.Re):i instanceof Yu&&s instanceof Yu}(n.transform,e.transform)}class XO{constructor(e,t){this.version=e,this.transformResults=t}}class Cr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yf{}function LS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new cy(n.key,Cr.none()):new lc(n.key,n.data,Cr.none());{const t=n.data,i=Kn.empty();let s=new sn(Rn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Xa(n.key,i,new ur(s.toArray()),Cr.none())}}function ZO(n,e,t){n instanceof lc?function(s,l,c){const m=s.value.clone(),d=Db(s.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Xa?function(s,l,c){if(!tf(s.precondition,l))return void l.convertToUnknownDocument(c.version);const m=Db(s.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(US(s)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function ju(n,e,t,i){return n instanceof lc?function(l,c,m,d){if(!tf(l.precondition,c))return m;const p=l.value.clone(),y=Nb(l.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xa?function(l,c,m,d){if(!tf(l.precondition,c))return m;const p=Nb(l.fieldTransforms,d,c),y=c.data;return y.setAll(US(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(l,c,m){return tf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(n,e,t)}function JO(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=MS(i.transform,s||null);l!=null&&(t===null&&(t=Kn.empty()),t.set(i.field,l))}return t||null}function xb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&rl(i,s,(l,c)=>WO(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lc extends Yf{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xa extends Yf{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function US(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Db(n,e,t){const i=new Map;dt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,m=e.data.field(l.field);i.set(l.field,KO(c,m,t[s]))}return i}function Nb(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,YO(l,c,e))}return i}class cy extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eP extends Yf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&ZO(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=ju(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=ju(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=OS();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(s.key)?null:m;const d=LS(c,m);d!==null&&i.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(xe.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(t,i)=>xb(t,i))&&rl(this.baseMutations,e.baseMutations,(t,i)=>xb(t,i))}}class hy{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){dt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return qO}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new hy(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,Je;function iP(n){switch(n){case oe.OK:return Re(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function BS(n){if(n===void 0)return ea("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Wt.OK:return oe.OK;case Wt.CANCELLED:return oe.CANCELLED;case Wt.UNKNOWN:return oe.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return oe.INTERNAL;case Wt.UNAVAILABLE:return oe.UNAVAILABLE;case Wt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Wt.NOT_FOUND:return oe.NOT_FOUND;case Wt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Wt.ABORTED:return oe.ABORTED;case Wt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Wt.DATA_LOSS:return oe.DATA_LOSS;default:return Re(39323,{code:n})}}(Je=Wt||(Wt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Va([4294967295,4294967295],0);function Ob(n){const e=uS().encode(n),t=new tS;return t.update(e),new Uint8Array(t.digest())}function Pb(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Va([t,i],0),new Va([s,l],0)]}class fy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new xu(`Invalid padding: ${t}`);if(i<0)throw new xu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new xu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new xu(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Va.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(Va.fromNumber(i)));return s.compare(aP)===1&&(s=new Va([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Ob(e),[i,s]=Pb(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);if(!this.be(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new fy(l,s,t);return i.forEach(m=>c.insert(m)),c}insert(e){if(this.pe===0)return;const t=Ob(e),[i,s]=Pb(t);for(let l=0;l<this.hashCount;l++){const c=this.we(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,uc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Kf(xe.min(),s,new kt(je),ta(),$e())}}class uc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new uc(i,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class zS{constructor(e,t){this.targetId=e,this.Ce=t}}class qS{constructor(e,t,i=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Mb{constructor(){this.Fe=0,this.Me=kb(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=$e(),t=$e(),i=$e();return this.Me.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Re(38017,{changeType:l})}}),new uc(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=kb()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class sP{constructor(e){this.ze=e,this.je=new Map,this.He=ta(),this.Je=zh(),this.Ye=zh(),this.Ze=new kt(je)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const l=s.target;if(og(l))if(i===0){const c=new be(l.path);this.tt(t,c,kn.newNoDocument(c,xe.min()))}else dt(i===1,20013,{expectedCount:i});else{const c=this.ut(t);if(c!==i){const m=this.ct(e),d=m?this.lt(m,e,c):1;if(d!==0){this.st(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,m;try{c=Ha(i).toUint8Array()}catch(d){if(d instanceof dS)return nl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new fy(c,s,l)}catch(d){return nl(d instanceof xu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.pe===0?null:m}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.ze.Pt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.tt(t,l,null),s++)}),s}It(e){const t=new Map;this.je.forEach((l,c)=>{const m=this._t(c);if(m){if(l.current&&og(m.target)){const d=new be(m.target.path);this.Et(d).has(c)||this.dt(c,d)||this.tt(c,d,kn.newNoDocument(d,e))}l.Le&&(t.set(c,l.qe()),l.Qe())}});let i=$e();this.Ye.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(l))}),this.He.forEach((l,c)=>c.setReadTime(e));const s=new Kf(e,t,this.Ze,this.He,i);return this.He=ta(),this.Je=zh(),this.Ye=zh(),this.Ze=new kt(je),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Mb,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sn(je),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sn(je),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Mb),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function zh(){return new kt(be.comparator)}function kb(){return new kt(be.comparator)}const oP={asc:"ASCENDING",desc:"DESCENDING"},lP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uP={and:"AND",or:"OR"};class cP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function cg(n,e){return n.useProto3Json||qf(e)?e:{value:e}}function bf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hP(n,e){return bf(n,e.toTimestamp())}function gi(n){return dt(!!n,49232),xe.fromTimestamp(function(t){const i=qa(t);return new an(i.seconds,i.nanos)}(n))}function dy(n,e){return hg(n,e).canonicalString()}function hg(n,e){const t=function(s){return new It(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function FS(n){const e=It.fromString(n);return dt(QS(e),10190,{key:e.toString()}),e}function fg(n,e){return dy(n.databaseId,e.path)}function Cp(n,e){const t=FS(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be($S(t))}function GS(n,e){return dy(n.databaseId,e)}function fP(n){const e=FS(n);return e.length===4?It.emptyPath():$S(e)}function dg(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $S(n){return dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Vb(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function dP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(dt(y===void 0||typeof y=="string",58123),xn.fromBase64String(y||"")):(dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),xn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(p){const y=p.code===void 0?oe.UNKNOWN:BS(p.code);return new ye(y,p.message||"")}(c);t=new qS(i,s,l,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Cp(n,i.document.name),l=gi(i.document.updateTime),c=i.document.createTime?gi(i.document.createTime):xe.min(),m=new Kn({mapValue:{fields:i.document.fields}}),d=kn.newFoundDocument(s,l,c,m),p=i.targetIds||[],y=i.removedTargetIds||[];t=new nf(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Cp(n,i.document),l=i.readTime?gi(i.readTime):xe.min(),c=kn.newNoDocument(s,l),m=i.removedTargetIds||[];t=new nf([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Cp(n,i.document),l=i.removedTargetIds||[];t=new nf([],l,s,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new rP(s,l),m=i.targetId;t=new zS(m,c)}}return t}function mP(n,e){let t;if(e instanceof lc)t={update:Vb(n,e.key,e.value)};else if(e instanceof cy)t={delete:fg(n,e.key)};else if(e instanceof Xa)t={update:Vb(n,e.key,e.data),updateMask:wP(e.fieldMask)};else{if(!(e instanceof eP))return Re(16599,{ft:e.type});t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const m=c.transform;if(m instanceof Yu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ku)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Qu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ef)return{fieldPath:c.field.canonicalString(),increment:m.Re};throw Re(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:hP(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Re(27497)}(n,e.precondition)),t}function pP(n,e){return n&&n.length>0?(dt(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?gi(s.updateTime):gi(l);return c.isEqual(xe.min())&&(c=gi(l)),new XO(c,s.transformResults||[])}(t,e))):[]}function gP(n,e){return{documents:[GS(n,e.path)]}}function yP(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=GS(n,s);const l=function(p){if(p.length!==0)return KS(Fr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(b){return{field:Yo(b.field),direction:EP(b.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=cg(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:s}}function vP(n){let e=fP(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){dt(i===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const b=YS(E);return b instanceof Fr&&wS(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(b=>function(I){return new _f(Ko(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(t.orderBy));let m=null;t.limit&&(m=function(E){let b;return b=typeof E=="object"?E.value:E,qf(b)?null:b}(t.limit));let d=null;t.startAt&&(d=function(E){const b=!!E.before,A=E.values||[];return new vf(A,b)}(t.startAt));let p=null;return t.endAt&&(p=function(E){const b=!E.before,A=E.values||[];return new vf(A,b)}(t.endAt)),jO(e,s,c,l,m,"F",d,p)}function _P(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function YS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ko(t.unaryFilter.field);return Zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ko(t.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ko(t.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ko(t.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(Ko(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fr.create(t.compositeFilter.filters.map(i=>YS(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function EP(n){return oP[n]}function bP(n){return lP[n]}function TP(n){return uP[n]}function Yo(n){return{fieldPath:n.canonicalString()}}function Ko(n){return Rn.fromServerFormat(n.fieldPath)}function KS(n){return n instanceof Zt?function(t){if(t.op==="=="){if(wb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NAN"}};if(Tb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(wb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NAN"}};if(Tb(t.value))return{unaryFilter:{field:Yo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(t.field),op:bP(t.op),value:t.value}}}(n):n instanceof Fr?function(t){const i=t.getFilters().map(s=>KS(s));return i.length===1?i[0]:{compositeFilter:{op:TP(t.op),filters:i}}}(n):Re(54877,{filter:n})}function wP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function QS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t,i,s,l=xe.min(),c=xe.min(),m=xn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.wt=e}}function AP(n){const e=vP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.Cn=new CP}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(za.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(za.min())}updateCollectionGroup(e,t,i){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class CP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new sn(It.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new sn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WS=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(WS,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new sl(0)}static lr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="LruGarbageCollector",IP=1048576;function Ub([n,e],[t,i]){const s=je(n,t);return s===0?je(e,i):s}class xP{constructor(e){this.Er=e,this.buffer=new sn(Ub),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ub(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(Lb,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?ge(Lb,"Ignoring IndexedDB error during garbage collection: ",t):await yl(t)}await this.mr(3e5)})}}class NP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return se.resolve(zf.le);const i=new xP(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(jb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jb):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,l,c,m,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(i=E,m=Date.now(),this.removeTargets(e,i,t))).next(E=>(l=E,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(p=Date.now(),Go()<=Ge.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(m-c)+`ms
	Removed ${l} targets in `+(d-m)+`ms
	Removed ${E} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function OP(n,e){return new NP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(){this.changes=new $s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?se.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&ju(i.mutation,s,ur.empty(),an.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,$e()).next(()=>i))}getLocalViewOfDocuments(e,t,i=$e()){const s=Os();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=Iu();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,$e()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,i,s){let l=ta();const c=Vu(),m=function(){return Vu()}();return t.forEach((d,p)=>{const y=i.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Xa)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),ju(y.mutation,p,y.mutation.getFieldMask(),an.now())):c.set(p.key,ur.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var E;return m.set(p,new MP(y,(E=c.get(p))!==null&&E!==void 0?E:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Vu();let s=new kt((c,m)=>c-m),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let y=i.get(d)||ur.empty();y=m.applyToLocalView(p,y),i.set(d,y);const E=(s.get(m.batchId)||$e()).add(d);s=s.insert(m.batchId,E)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),p=d.key,y=d.value,E=OS();y.forEach(b=>{if(!l.has(b)){const A=LS(t.get(b),i.get(b));A!==null&&E.set(b,A),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return se.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):se.resolve(Os());let m=Hu,d=l;return c.next(p=>se.forEach(p,(y,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(b=>{d=d.insert(y,b)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,$e())).next(y=>({batchId:m,changes:NS(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let s=Iu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Iu();return this.indexManager.getCollectionParents(e,l).next(m=>se.forEach(m,d=>{const p=function(E,b){return new oc(b,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,s).next(y=>{y.forEach((E,b)=>{c=c.insert(E,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,kn.newInvalidDocument(y)))});let m=Iu();return c.forEach((d,p)=>{const y=l.get(d);y!==void 0&&ju(y.mutation,p,ur.empty(),an.now()),Gf(t,p)&&(m=m.insert(d,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return se.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:gi(s.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:AP(s.bundledQuery),readTime:gi(s.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.overlays=new kt(be.comparator),this.Qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Os();return se.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.St(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),se.resolve()}getOverlaysForCollection(e,t,i){const s=Os(),l=t.length+1,c=new be(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>i&&s.set(d.getKey(),d)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new kt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Os(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const m=Os(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>m.set(p,y)),!(m.size()>=s)););return se.resolve(m)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nP(t,i));let l=this.Qr.get(t);l===void 0&&(l=$e(),this.Qr.set(t,l)),this.Qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.$r=new sn(pn.Ur),this.Kr=new sn(pn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new pn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new pn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new be(new It([])),i=new pn(t,e),s=new pn(t,e+1),l=[];return this.Kr.forEachInRange([i,s],c=>{this.zr(c),l.push(c.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new be(new It([])),i=new pn(t,e),s=new pn(t,e+1);let l=$e();return this.Kr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new pn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class pn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return be.comparator(e.key,t.key)||je(e.Zr,t.Zr)}static Wr(e,t){return je(e.Zr,t.Zr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new sn(pn.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tP(l,t,i,s);this.mutationQueue.push(c);for(const m of s)this.Xr=this.Xr.add(new pn(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),l=s<0?0:s;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ry:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new pn(t,0),s=new pn(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,s],c=>{const m=this.ei(c.Zr);l.push(m)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(je);return t.forEach(s=>{const l=new pn(s,0),c=new pn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,c],m=>{i=i.add(m.Zr)})}),se.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new pn(new be(l),0);let m=new sn(je);return this.Xr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===s&&(m=m.add(d.Zr)),!0)},c),se.resolve(this.ni(m))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return se.forEach(t.mutations,s=>{const l=new pn(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new pn(t,0),s=this.Xr.firstAfterOrEqual(i);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.ii=e,this.docs=function(){return new kt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return se.resolve(i?i.document.mutableCopy():kn.newInvalidDocument(t))}getEntries(e,t){let i=ta();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():kn.newInvalidDocument(s))}),se.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=ta();const c=t.path,m=new be(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||pO(mO(y),i)<=0||(s.has(y.key)||Gf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Re(9500)}si(e,t){return se.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new zP(this)}getSize(e){return se.resolve(this.size)}}class zP extends PP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),se.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.persistence=e,this.oi=new $s(t=>sy(t),oy),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this._i=0,this.ai=new my,this.targetCount=0,this.ui=sl.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),se.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new sl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Tr(t),se.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.oi.forEach((c,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.oi.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),se.waitFor(l).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return se.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),se.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return se.resolve(i)}containsKey(e,t){return se.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.ci={},this.overlays={},this.li=new zf(0),this.hi=!1,this.hi=!0,this.Pi=new LP,this.referenceDelegate=e(this),this.Ti=new qP(this),this.indexManager=new RP,this.remoteDocumentCache=function(s){return new BP(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new SP(t),this.Ei=new VP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new UP(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){ge("MemoryPersistence","Starting transaction:",e);const s=new HP(this.li.next());return this.referenceDelegate.di(),i(s).next(l=>this.referenceDelegate.Ai(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ri(e,t){return se.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class HP extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class py{constructor(e){this.persistence=e,this.Vi=new my,this.mi=null}static fi(e){return new py(e)}get gi(){if(this.mi)return this.mi;throw Re(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),se.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,i=>{const s=be.fromPath(i);return this.pi(e,s).next(l=>{l||t.removeEntry(s,xe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return se.or([()=>se.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Tf{constructor(e,t){this.persistence=e,this.yi=new $s(i=>EO(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=OP(this,t)}static fi(e,t){return new Tf(e,t)}di(){}Ai(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}br(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return se.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(l=>l?se.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.si(e,c=>this.Dr(e,c,t).next(m=>{m||(i++,l.removeEntry(c,xe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),se.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),se.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jh(e.data.value)),t}Dr(e,t,i){return se.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return se.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=$e(),s=$e();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new gy(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return bx()?8:vO(Vn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ws(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.bs(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new FP;return this.Ss(e,t,c).next(m=>{if(l.result=m,this.fs)return this.Ds(e,t,c,m.size)})}).next(()=>l.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(Go()<=Ge.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(Go()<=Ge.DEBUG&&ge("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Go()<=Ge.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(t))):se.resolve())}ws(e,t){if(Cb(t))return se.resolve(null);let i=pi(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=ug(t,null,"F"),i=pi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=$e(...l);return this.ys.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.vs(t,m);return this.Cs(t,p,c,d.readTime)?this.ws(e,ug(t,null,"F")):this.Fs(e,p,t,d)}))})))}bs(e,t,i,s){return Cb(t)||s.isEqual(xe.min())?se.resolve(null):this.ys.getDocuments(e,i).next(l=>{const c=this.vs(t,l);return this.Cs(t,c,i,s)?se.resolve(null):(Go()<=Ge.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$o(t)),this.Fs(e,c,t,dO(s,Hu)).next(m=>m))})}vs(e,t){let i=new sn(xS(e));return t.forEach((s,l)=>{Gf(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,i){return Go()<=Ge.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",$o(t)),this.ys.getDocumentsMatchingQuery(e,t,za.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",$P=3e8;class YP{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new kt(je),this.Os=new $s(l=>sy(l),oy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function KP(n,e,t,i){return new YP(n,e,t,i)}async function ZS(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],m=[];let d=$e();for(const p of s){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){m.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next(p=>({ks:p,removedBatchIds:c,addedBatchIds:m}))})})}function QP(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(m,d,p,y){const E=p.batch,b=E.keys();let A=se.resolve();return b.forEach(I=>{A=A.next(()=>y.getEntry(d,I)).next(O=>{const D=p.docVersions.get(I);dt(D!==null,48541),O.version.compareTo(D)<0&&(E.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),y.addEntry(O)))})}),A.next(()=>m.mutationQueue.removeMutationBatch(d,E))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let d=$e();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(d=d.add(m.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function JS(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function WP(n,e){const t=De(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const m=[];e.targetChanges.forEach((y,E)=>{const b=s.get(E);if(!b)return;m.push(t.Ti.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.Ti.addMatchingKeys(l,y.addedDocuments,E)));let A=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(xn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),s=s.insert(E,A),function(O,D,q){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=$P?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(b,A,y)&&m.push(t.Ti.updateTargetData(l,A))});let d=ta(),p=$e();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(XP(l,c,e.documentUpdates).next(y=>{d=y.qs,p=y.Qs})),!i.isEqual(xe.min())){const y=t.Ti.getLastRemoteSnapshotVersion(l).next(E=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));m.push(y)}return se.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(t.xs=s,l))}function XP(n,e,t){let i=$e(),s=$e();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=ta();return t.forEach((m,d)=>{const p=l.get(m);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(m)),d.isNoDocument()&&d.version.isEqual(xe.min())?(e.removeEntry(m,d.readTime),c=c.insert(m,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(m,d)):ge(yy,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",d.version)}),{qs:c,Qs:s}})}function ZP(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ry),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function JP(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(l=>l?(s=l,se.resolve(s)):t.Ti.allocateTargetId(i).next(c=>(s=new Pa(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function mg(n,e,t){const i=De(n),s=i.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!vl(c))throw c;ge(yy,`Failed to update sequence numbers for target ${e}: ${c}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function Bb(n,e,t){const i=De(n);let s=xe.min(),l=$e();return i.persistence.runTransaction("Execute query","readwrite",c=>function(d,p,y){const E=De(d),b=E.Os.get(y);return b!==void 0?se.resolve(E.xs.get(b)):E.Ti.getTargetData(p,y)}(i,c,pi(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(c,e,t?s:xe.min(),t?l:$e())).next(m=>(eM(i,UO(e),m),{documents:m,$s:l})))}function eM(n,e,t){let i=n.Ns.get(e)||xe.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Ns.set(e,i)}class zb{constructor(){this.activeTargetIds=GO()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tM{constructor(){this.xo=new zb,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new zb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="ConnectivityMonitor";class Hb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(qb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(qb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function pg(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="RestConnection",rM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iM{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===gf?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,l){const c=pg(),m=this.jo(e,t.toUriEncodedString());ge(Ip,`Sending RPC '${e}' ${c}:`,m,i);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,l);const{host:p}=new URL(m),y=dl(p);return this.Jo(e,m,d,i,y).then(E=>(ge(Ip,`Received RPC '${e}' ${c}: `,E),E),E=>{throw nl(Ip,`RPC '${e}' ${c} failed with error: `,E,"url: ",m,"request:",i),E})}Yo(e,t,i,s,l,c){return this.zo(e,t,i,s,l)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}jo(e,t){const i=rM[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class sM extends iM{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,l){const c=pg();return new Promise((m,d)=>{const p=new nS;p.setWithCredentials(!0),p.listenOnce(rS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zh.NO_ERROR:const E=p.getResponseJson();ge(Pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),m(E);break;case Zh.TIMEOUT:ge(Pn,`RPC '${e}' ${c} timed out`),d(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const b=p.getStatus();if(ge(Pn,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const I=A==null?void 0:A.error;if(I&&I.status&&I.message){const O=function(q){const X=q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(X)>=0?X:oe.UNKNOWN}(I.status);d(new ye(O,I.message))}else d(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{h_:e,streamId:c,P_:p.getLastErrorCode(),T_:p.getLastError()})}}finally{ge(Pn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(s);ge(Pn,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",y,i,15)})}I_(e,t,i){const s=pg(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sS(),m=aS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const y=l.join("");ge(Pn,`Creating RPC '${e}' stream ${s}: ${y}`,d);const E=c.createWebChannel(y,d);this.E_(E);let b=!1,A=!1;const I=new aM({Zo:D=>{A?ge(Pn,`Not sending because RPC '${e}' stream ${s} is closed:`,D):(b||(ge(Pn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),b=!0),ge(Pn,`RPC '${e}' stream ${s} sending:`,D),E.send(D))},Xo:()=>E.close()}),O=(D,q,X)=>{D.listen(q,F=>{try{X(F)}catch(re){setTimeout(()=>{throw re},0)}})};return O(E,Cu.EventType.OPEN,()=>{A||(ge(Pn,`RPC '${e}' stream ${s} transport opened.`),I.__())}),O(E,Cu.EventType.CLOSE,()=>{A||(A=!0,ge(Pn,`RPC '${e}' stream ${s} transport closed`),I.u_(),this.d_(E))}),O(E,Cu.EventType.ERROR,D=>{A||(A=!0,nl(Pn,`RPC '${e}' stream ${s} transport errored. Name:`,D.name,"Message:",D.message),I.u_(new ye(oe.UNAVAILABLE,"The operation could not be completed")))}),O(E,Cu.EventType.MESSAGE,D=>{var q;if(!A){const X=D.data[0];dt(!!X,16349);const F=X,re=(F==null?void 0:F.error)||((q=F[0])===null||q===void 0?void 0:q.error);if(re){ge(Pn,`RPC '${e}' stream ${s} received error:`,re);const le=re.status;let me=function(N){const k=Wt[N];if(k!==void 0)return BS(k)}(le),V=re.message;me===void 0&&(me=oe.INTERNAL,V="Unknown error status: "+le+" with message "+re.message),A=!0,I.u_(new ye(me,V)),E.close()}else ge(Pn,`RPC '${e}' stream ${s} received:`,X),I.c_(X)}}),O(m,iS.STAT_EVENT,D=>{D.stat===ng.PROXY?ge(Pn,`RPC '${e}' stream ${s} detected buffering proxy`):D.stat===ng.NOPROXY&&ge(Pn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(n){return new cP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t,i=1e3,s=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=i,this.R_=s,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-i);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="PersistentStream";class t1{constructor(e,t,i,s,l,c,m,d){this.xi=e,this.S_=i,this.D_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new e1(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(ea(t.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.v_===t&&this.z_(i,s)},i=>{e(()=>{const s=new ye(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(s)})})}z_(e,t){const i=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.j_(s))}),this.stream.onMessage(s=>{i(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ge(Fb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ge(Fb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oM extends t1{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=dP(this.serializer,e),i=function(l){if(!("targetChange"in l))return xe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?xe.min():c.readTime?gi(c.readTime):xe.min()}(e);return this.listener.Y_(t,i)}Z_(e){const t={};t.database=dg(this.serializer),t.addTarget=function(l,c){let m;const d=c.target;if(m=og(d)?{documents:gP(l,d)}:{query:yP(l,d).gt},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=HS(l,c.resumeToken);const p=cg(l,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(xe.min())>0){m.readTime=bf(l,c.snapshotVersion.toTimestamp());const p=cg(l,c.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const i=_P(this.serializer,e);i&&(t.labels=i),this.Q_(t)}X_(e){const t={};t.database=dg(this.serializer),t.removeTarget=e,this.Q_(t)}}class lM extends t1{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=pP(e.writeResults,e.commitTime),i=gi(e.commitTime);return this.listener.ra(i,t)}ia(){const e={};e.database=dg(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>mP(this.serializer,i))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{}class cM extends uM{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.zo(e,hg(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ye(oe.UNKNOWN,l.toString())})}Yo(e,t,i,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Yo(e,hg(t,i),s,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ye(oe.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class hM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ea(t),this.ua=!1):ge("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class fM{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(c=>{i.enqueueAndForget(async()=>{Ys(this)&&(ge(Bs,"Restarting streams for network reachability change."),await async function(d){const p=De(d);p.da.add(4),await cc(p),p.Va.set("Unknown"),p.da.delete(4),await Wf(p)}(this))})}),this.Va=new hM(i,s)}}async function Wf(n){if(Ys(n))for(const e of n.Aa)await e(!0)}async function cc(n){for(const e of n.Aa)await e(!1)}function n1(n,e){const t=De(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),by(t)?Ey(t):_l(t).N_()&&_y(t,e))}function vy(n,e){const t=De(n),i=_l(t);t.Ea.delete(e),i.N_()&&r1(t,e),t.Ea.size===0&&(i.N_()?i.k_():Ys(t)&&t.Va.set("Unknown"))}function _y(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_l(n).Z_(e)}function r1(n,e){n.ma.Ke(e),_l(n).X_(e)}function Ey(n){n.ma=new sP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),_l(n).start(),n.Va.ca()}function by(n){return Ys(n)&&!_l(n).O_()&&n.Ea.size>0}function Ys(n){return De(n).da.size===0}function i1(n){n.ma=void 0}async function dM(n){n.Va.set("Online")}async function mM(n){n.Ea.forEach((e,t)=>{_y(n,e)})}async function pM(n,e){i1(n),by(n)?(n.Va.Pa(e),Ey(n)):n.Va.set("Unknown")}async function gM(n,e,t){if(n.Va.set("Online"),e instanceof qS&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const m of l.targetIds)s.Ea.has(m)&&(await s.remoteSyncer.rejectListen(m,c),s.Ea.delete(m),s.ma.removeTarget(m))}(n,e)}catch(i){ge(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wf(n,i)}else if(e instanceof nf?n.ma.Xe(e):e instanceof zS?n.ma.ot(e):n.ma.nt(e),!t.isEqual(xe.min()))try{const i=await JS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const m=l.ma.It(c);return m.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ea.get(p);y&&l.Ea.set(p,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,p)=>{const y=l.Ea.get(d);if(!y)return;l.Ea.set(d,y.withResumeToken(xn.EMPTY_BYTE_STRING,y.snapshotVersion)),r1(l,d);const E=new Pa(y.target,d,p,y.sequenceNumber);_y(l,E)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){ge(Bs,"Failed to raise snapshot:",i),await wf(n,i)}}async function wf(n,e,t){if(!vl(e))throw e;n.da.add(1),await cc(n),n.Va.set("Offline"),t||(t=()=>JS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Bs,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Wf(n)})}function a1(n,e){return e().catch(t=>wf(n,t,e))}async function Xf(n){const e=De(n),t=Ga(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ry;for(;yM(e);)try{const s=await ZP(e.localStore,i);if(s===null){e.Ia.length===0&&t.k_();break}i=s.batchId,vM(e,s)}catch(s){await wf(e,s)}s1(e)&&o1(e)}function yM(n){return Ys(n)&&n.Ia.length<10}function vM(n,e){n.Ia.push(e);const t=Ga(n);t.N_()&&t.ea&&t.ta(e.mutations)}function s1(n){return Ys(n)&&!Ga(n).O_()&&n.Ia.length>0}function o1(n){Ga(n).start()}async function _M(n){Ga(n).ia()}async function EM(n){const e=Ga(n);for(const t of n.Ia)e.ta(t.mutations)}async function bM(n,e,t){const i=n.Ia.shift(),s=hy.from(i,e,t);await a1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Xf(n)}async function TM(n,e){e&&Ga(n).ea&&await async function(i,s){if(function(c){return iP(c)&&c!==oe.ABORTED}(s.code)){const l=i.Ia.shift();Ga(i).L_(),await a1(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Xf(i)}}(n,e),s1(n)&&o1(n)}async function Gb(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),ge(Bs,"RemoteStore received new credentials");const i=Ys(t);t.da.add(3),await cc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Wf(t)}async function wM(n,e){const t=De(n);e?(t.da.delete(2),await Wf(t)):e||(t.da.add(2),await cc(t),t.Va.set("Unknown"))}function _l(n){return n.fa||(n.fa=function(t,i,s){const l=De(t);return l.oa(),new oM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{e_:dM.bind(null,n),n_:mM.bind(null,n),i_:pM.bind(null,n),Y_:gM.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),by(n)?Ey(n):n.Va.set("Unknown")):(await n.fa.stop(),i1(n))})),n.fa}function Ga(n){return n.ga||(n.ga=function(t,i,s){const l=De(t);return l.oa(),new lM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:_M.bind(null,n),i_:TM.bind(null,n),na:EM.bind(null,n),ra:bM.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Xf(n)):(await n.ga.stop(),n.Ia.length>0&&(ge(Bs,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,m=new Ty(e,t,c,s,l);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(n,e){if(ea("AsyncQueue",`${e}: ${n}`),vl(n))return new ye(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{static emptySet(e){return new tl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=Iu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new tl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.pa=new kt(be.comparator)}track(e){const t=e.doc.key,i=this.pa.get(t);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(t,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(t):e.type===1&&i.type===2?this.pa=this.pa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,i)=>{e.push(i)}),e}}class ol{constructor(e,t,i,s,l,c,m,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new ol(e,t,tl.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class AM{constructor(){this.queries=Yb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=De(t),l=s.queries;s.queries=Yb(),l.forEach((c,m)=>{for(const d of m.Sa)d.onError(i)})})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function Yb(){return new $s(n=>IS(n),Ff)}async function l1(n,e){const t=De(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Da()&&e.va()&&(i=2):(l=new SM,i=e.va()?0:1);try{switch(i){case 0:l.ba=await t.onListen(s,!0);break;case 1:l.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const m=wy(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Sy(t)}async function u1(n,e){const t=De(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.va()?0:1:!l.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function RM(n,e){const t=De(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const m of c.Sa)m.Ma(s)&&(i=!0);c.ba=s}}i&&Sy(t)}function CM(n,e,t){const i=De(n),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);i.queries.delete(e)}function Sy(n){n.Ca.forEach(e=>{e.next()})}var gg,Kb;(Kb=gg||(gg={})).xa="default",Kb.Cache="cache";class c1{constructor(e,t,i){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ol(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const i=t!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.key=e}}class f1{constructor(e){this.key=e}}class IM{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=$e(),this.mutatedKeys=$e(),this.Za=xS(e),this.Xa=new tl(this.Za)}get eu(){return this.Ha}tu(e,t){const i=t?t.nu:new $b,s=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,E)=>{const b=s.get(y),A=Gf(this.query,E)?E:null,I=!!b&&this.mutatedKeys.has(b.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let D=!1;b&&A?b.data.isEqual(A.data)?I!==O&&(i.track({type:3,doc:A}),D=!0):this.ru(b,A)||(i.track({type:2,doc:A}),D=!0,(d&&this.Za(A,d)>0||p&&this.Za(A,p)<0)&&(m=!0)):!b&&A?(i.track({type:0,doc:A}),D=!0):b&&!A&&(i.track({type:1,doc:b}),D=!0,(d||p)&&(m=!0)),D&&(A?(c=c.add(A),l=O?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{Xa:c,nu:i,Cs:m,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const c=e.nu.wa();c.sort((y,E)=>function(A,I){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:D})}};return O(A)-O(I)}(y.type,E.type)||this.Za(y.doc,E.doc)),this.iu(i),s=s!=null&&s;const m=t&&!s?this.su():[],d=this.Ya.size===0&&this.current&&!s?1:0,p=d!==this.Ja;return this.Ja=d,c.length!==0||p?{snapshot:new ol(this.query,e.Xa,l,c,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $b,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=$e(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const t=[];return e.forEach(i=>{this.Ya.has(i)||t.push(new f1(i))}),this.Ya.forEach(i=>{e.has(i)||t.push(new h1(i))}),t}au(e){this.Ha=e.$s,this.Ya=$e();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return ol.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ay="SyncEngine";class xM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class DM{constructor(e){this.key=e,this.cu=!1}}class NM{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new $s(m=>IS(m),Ff),this.Pu=new Map,this.Tu=new Set,this.Iu=new kt(be.comparator),this.Eu=new Map,this.du=new my,this.Au={},this.Ru=new Map,this.Vu=sl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function OM(n,e,t=!0){const i=v1(n);let s;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.uu()):s=await d1(i,e,t,!0),s}async function PM(n,e){const t=v1(n);await d1(t,e,!0,!1)}async function d1(n,e,t,i){const s=await JP(n.localStore,pi(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let m;return i&&(m=await MM(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&n1(n.remoteStore,s),m}async function MM(n,e,t,i,s){n.fu=(E,b,A)=>async function(O,D,q,X){let F=D.view.tu(q);F.Cs&&(F=await Bb(O.localStore,D.query,!1).then(({documents:V})=>D.view.tu(V,F)));const re=X&&X.targetChanges.get(D.targetId),le=X&&X.targetMismatches.get(D.targetId)!=null,me=D.view.applyChanges(F,O.isPrimaryClient,re,le);return Wb(O,D.targetId,me.ou),me.snapshot}(n,E,b,A);const l=await Bb(n.localStore,e,!0),c=new IM(e,l.$s),m=c.tu(l.documents),d=uc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),p=c.applyChanges(m,n.isPrimaryClient,d);Wb(n,t,p.ou);const y=new xM(e,t,c);return n.hu.set(e,y),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),p.snapshot}async function kM(n,e,t){const i=De(n),s=i.hu.get(e),l=i.Pu.get(s.targetId);if(l.length>1)return i.Pu.set(s.targetId,l.filter(c=>!Ff(c,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await mg(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&vy(i.remoteStore,s.targetId),yg(i,s.targetId)}).catch(yl)):(yg(i,s.targetId),await mg(i.localStore,s.targetId,!0))}async function VM(n,e){const t=De(n),i=t.hu.get(e),s=t.Pu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),vy(t.remoteStore,i.targetId))}async function jM(n,e,t){const i=FM(n);try{const s=await function(c,m){const d=De(c),p=an.now(),y=m.reduce((A,I)=>A.add(I.key),$e());let E,b;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let I=ta(),O=$e();return d.Bs.getEntries(A,y).next(D=>{I=D,I.forEach((q,X)=>{X.isValidDocument()||(O=O.add(q))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,I)).next(D=>{E=D;const q=[];for(const X of m){const F=JO(X,E.get(X.key).overlayedDocument);F!=null&&q.push(new Xa(X.key,F,ES(F.value.mapValue),Cr.exists(!0)))}return d.mutationQueue.addMutationBatch(A,p,q,m)}).next(D=>{b=D;const q=D.applyToLocalDocumentSet(E,O);return d.documentOverlayCache.saveOverlays(A,D.batchId,q)})}).then(()=>({batchId:b.batchId,changes:NS(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,m,d){let p=c.Au[c.currentUser.toKey()];p||(p=new kt(je)),p=p.insert(m,d),c.Au[c.currentUser.toKey()]=p}(i,s.batchId,t),await hc(i,s.changes),await Xf(i.remoteStore)}catch(s){const l=wy(s,"Failed to persist write");t.reject(l)}}async function m1(n,e){const t=De(n);try{const i=await WP(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.cu=!0:s.modifiedDocuments.size>0?dt(c.cu,14607):s.removedDocuments.size>0&&(dt(c.cu,42227),c.cu=!1))}),await hc(t,i,e)}catch(i){await yl(i)}}function Qb(n,e,t){const i=De(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.hu.forEach((l,c)=>{const m=c.view.Fa(e);m.snapshot&&s.push(m.snapshot)}),function(c,m){const d=De(c);d.onlineState=m;let p=!1;d.queries.forEach((y,E)=>{for(const b of E.Sa)b.Fa(m)&&(p=!0)}),p&&Sy(d)}(i.eventManager,e),s.length&&i.lu.Y_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function LM(n,e,t){const i=De(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Eu.get(e),l=s&&s.key;if(l){let c=new kt(be.comparator);c=c.insert(l,kn.newNoDocument(l,xe.min()));const m=$e().add(l),d=new Kf(xe.min(),new Map,new kt(je),c,m);await m1(i,d),i.Iu=i.Iu.remove(l),i.Eu.delete(e),Ry(i)}else await mg(i.localStore,e,!1).then(()=>yg(i,e,t)).catch(yl)}async function UM(n,e){const t=De(n),i=e.batch.batchId;try{const s=await QP(t.localStore,e);g1(t,i,null),p1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await hc(t,s)}catch(s){await yl(s)}}async function BM(n,e,t){const i=De(n);try{const s=await function(c,m){const d=De(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,m).next(E=>(dt(E!==null,37113),y=E.keys(),d.mutationQueue.removeMutationBatch(p,E))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(i.localStore,e);g1(i,e,t),p1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await hc(i,s)}catch(s){await yl(s)}}function p1(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function g1(n,e,t){const i=De(n);let s=i.Au[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Au[i.currentUser.toKey()]=s}}function yg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Pu.get(e))n.hu.delete(i),t&&n.lu.gu(i,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(i=>{n.du.containsKey(i)||y1(n,i)})}function y1(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(vy(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),Ry(n))}function Wb(n,e,t){for(const i of t)i instanceof h1?(n.du.addReference(i.key,e),zM(n,i)):i instanceof f1?(ge(Ay,"Document no longer in limbo: "+i.key),n.du.removeReference(i.key,e),n.du.containsKey(i.key)||y1(n,i.key)):Re(19791,{pu:i})}function zM(n,e){const t=e.key,i=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(i)||(ge(Ay,"New document in limbo: "+t),n.Tu.add(i),Ry(n))}function Ry(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new be(It.fromString(e)),i=n.Vu.next();n.Eu.set(i,new DM(t)),n.Iu=n.Iu.insert(t,i),n1(n.remoteStore,new Pa(pi(ly(t.path)),i,"TargetPurposeLimboResolution",zf.le))}}async function hc(n,e,t){const i=De(n),s=[],l=[],c=[];i.hu.isEmpty()||(i.hu.forEach((m,d)=>{c.push(i.fu(d,e,t).then(p=>{var y;if((p||t)&&i.isPrimaryClient){const E=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(p){s.push(p);const E=gy.Rs(d.targetId,p);l.push(E)}}))}),await Promise.all(c),i.lu.Y_(s),await async function(d,p){const y=De(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>se.forEach(p,b=>se.forEach(b.ds,A=>y.persistence.referenceDelegate.addReference(E,b.targetId,A)).next(()=>se.forEach(b.As,A=>y.persistence.referenceDelegate.removeReference(E,b.targetId,A)))))}catch(E){if(!vl(E))throw E;ge(yy,"Failed to update sequence numbers: "+E)}for(const E of p){const b=E.targetId;if(!E.fromCache){const A=y.xs.get(b),I=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(I);y.xs=y.xs.insert(b,O)}}}(i.localStore,l))}async function qM(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){ge(Ay,"User change. New user:",e.toKey());const i=await ZS(t.localStore,e);t.currentUser=e,function(l,c){l.Ru.forEach(m=>{m.forEach(d=>{d.reject(new ye(oe.CANCELLED,c))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await hc(t,i.ks)}}function HM(n,e){const t=De(n),i=t.Eu.get(e);if(i&&i.cu)return $e().add(i.key);{let s=$e();const l=t.Pu.get(e);if(!l)return s;for(const c of l){const m=t.hu.get(c);s=s.unionWith(m.view.eu)}return s}}function v1(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LM.bind(null,e),e.lu.Y_=RM.bind(null,e.eventManager),e.lu.gu=CM.bind(null,e.eventManager),e}function FM(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,e),e}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return KP(this.persistence,new GP,e.initialUser,this.serializer)}Su(e){return new XS(py.fi,this.serializer)}bu(e){return new tM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class GM extends Sf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){dt(this.persistence.referenceDelegate instanceof Tf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DP(i,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new XS(i=>Tf.fi(i,t),this.serializer)}}class vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Qb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=qM.bind(null,this.syncEngine),await wM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AM}()}createDatastore(e){const t=Qf(e.databaseInfo.databaseId),i=function(l){return new sM(l)}(e.databaseInfo);return function(l,c,m,d){return new cM(l,c,m,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,m){return new fM(i,s,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Qb(this.syncEngine,t,0),function(){return Hb.C()?new Hb:new nM}())}createSyncEngine(e,t){return function(s,l,c,m,d,p,y){const E=new NM(s,l,c,m,d,p);return y&&(E.mu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=De(s);ge(Bs,"RemoteStore shutting down."),l.da.add(5),await cc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a="FirestoreClient";class $M{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Mn.UNAUTHENTICATED,this.clientId=cS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ge($a,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ge($a,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=wy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Dp(n,e){n.asyncQueue.verifyOperationInProgress(),ge($a,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await ZS(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Xb(n,e){n.asyncQueue.verifyOperationInProgress();const t=await YM(n);ge($a,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Gb(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Gb(e.remoteStore,s)),n._onlineComponents=e}async function YM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge($a,"Using user provided OfflineComponentProvider");try{await Dp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await Dp(n,new Sf)}}else ge($a,"Using default OfflineComponentProvider"),await Dp(n,new GM(void 0));return n._offlineComponents}async function E1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge($a,"Using user provided OnlineComponentProvider"),await Xb(n,n._uninitializedComponentsProvider._online)):(ge($a,"Using default OnlineComponentProvider"),await Xb(n,new vg))),n._onlineComponents}function KM(n){return E1(n).then(e=>e.syncEngine)}async function b1(n){const e=await E1(n),t=e.eventManager;return t.onListen=OM.bind(null,e.syncEngine),t.onUnlisten=kM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=PM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VM.bind(null,e.syncEngine),t}function QM(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,p){const y=new _1({next:b=>{y.xu(),c.enqueueAndForget(()=>u1(l,E));const A=b.docs.has(m);!A&&b.fromCache?p.reject(new ye(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&b.fromCache&&d&&d.source==="server"?p.reject(new ye(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new c1(ly(m.path),y,{includeMetadataChanges:!0,Qa:!0});return l1(l,E)}(await b1(n),n.asyncQueue,e,t,i)),i.promise}function WM(n,e,t={}){const i=new Wi;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,p){const y=new _1({next:b=>{y.xu(),c.enqueueAndForget(()=>u1(l,E)),b.fromCache&&d.source==="server"?p.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),E=new c1(m,y,{includeMetadataChanges:!0,Qa:!0});return l1(l,E)}(await b1(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XM(n,e,t,i){if(e===!0&&i===!0)throw new ye(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Jb(n){if(!be.isDocumentKey(n))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function eT(n){if(be.isDocumentKey(n))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Zf(n);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firestore.googleapis.com",tT=!0;class nT{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=tT}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:tT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IP)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new iO;switch(i.type){case"firstParty":return new lO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Zb.get(t);i&&(ge("ComponentProvider","Removing Datastore"),Zb.delete(t),i.terminate())}(this),Promise.resolve()}}function ZM(n,e,t,i={}){var s;n=Gr(n,Jf);const l=dl(e),c=n._getSettings(),m=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l&&(hw(`https://${d}`),fw("Firestore",!0)),c.host!==S1&&c.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:d,ssl:l,emulatorOptions:i});if(!Ba(p,m)&&(n._setSettings(p),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=Mn.MOCK_USER;else{y=dx(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Mn(b)}n._authCredentials=new aO(new lS(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new El(this.firestore,e,this._query)}}class zn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class ja extends El{constructor(e,t,i){super(e,t,ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new be(e))}withConverter(e){return new ja(this.firestore,e,this._path)}}function cr(n,e,...t){if(n=Jt(n),w1("collection","path",e),n instanceof Jf){const i=It.fromString(e,...t);return eT(i),new ja(n,null,i)}{if(!(n instanceof zn||n instanceof ja))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(It.fromString(e,...t));return eT(i),new ja(n.firestore,null,i)}}function Ft(n,e,...t){if(n=Jt(n),arguments.length===1&&(e=cS.newId()),w1("doc","path",e),n instanceof Jf){const i=It.fromString(e,...t);return Jb(i),new zn(n,null,new be(i))}{if(!(n instanceof zn||n instanceof ja))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(It.fromString(e,...t));return Jb(i),new zn(n.firestore,n instanceof ja?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class iT{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new e1(this,"async_queue_retry"),this.rc=()=>{const i=xp();i&&ge(rT,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const t=xp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=xp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Wi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vl(e))throw e;ge(rT,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,ea("INTERNAL UNHANDLED ERROR: ",aT(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=t,t}enqueueAfterDelay(e,t,i){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=Ty.createAndSchedule(this,e,t,i,l=>this.uc(l));return this.Zu.push(s),s}oc(){this.Xu&&Re(47125,{cc:aT(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function aT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Ks extends Jf{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new iT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iT(e),this._firestoreClient=void 0,await e}}}function JM(n,e){const t=typeof n=="object"?n:Fg(),i=typeof n=="string"?n:gf,s=Gs(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=hx("firestore");l&&ZM(s,...l)}return s}function Cy(n){if(n._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ek(n),n._firestoreClient}function ek(n){var e,t,i;const s=n._freezeSettings(),l=function(m,d,p,y){return new wO(m,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,T1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new $M(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const d=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(xn.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ll(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/^__.*__$/;class nk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class A1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function R1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ic:n})}}class Dy{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Vc(e),s}mc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:i,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Af(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(R1(this.Ic)&&tk.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class rk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qf(e)}bc(e,t,i,s=!1){return new Dy({Ic:e,methodName:t,wc:i,path:Rn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nd(n){const e=n._freezeSettings(),t=Qf(n._databaseId);return new rk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function C1(n,e,t,i,s,l={}){const c=n.bc(l.merge||l.mergeFields?2:0,e,t,s);Oy("Data must be an object, but it was:",c,i);const m=I1(i,c);let d,p;if(l.merge)d=new ur(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const b=_g(e,E,t);if(!c.contains(b))throw new ye(oe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);D1(y,b)||y.push(b)}d=new ur(y),p=c.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,p=c.fieldTransforms;return new nk(new Kn(m),d,p)}class rd extends td{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}class Ny extends td{_toFieldTransform(e){return new QO(e.path,new Yu)}isEqual(e){return e instanceof Ny}}function ik(n,e,t,i){const s=n.bc(1,e,t);Oy("Data must be an object, but it was:",s,i);const l=[],c=Kn.empty();Wa(i,(d,p)=>{const y=Py(e,d,t);p=Jt(p);const E=s.mc(y);if(p instanceof rd)l.push(y);else{const b=fc(p,E);b!=null&&(l.push(y),c.set(y,b))}});const m=new ur(l);return new A1(c,m,s.fieldTransforms)}function ak(n,e,t,i,s,l){const c=n.bc(1,e,t),m=[_g(e,i,t)],d=[s];if(l.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)m.push(_g(e,l[b])),d.push(l[b+1]);const p=[],y=Kn.empty();for(let b=m.length-1;b>=0;--b)if(!D1(p,m[b])){const A=m[b];let I=d[b];I=Jt(I);const O=c.mc(A);if(I instanceof rd)p.push(A);else{const D=fc(I,O);D!=null&&(p.push(A),y.set(A,D))}}const E=new ur(p);return new A1(y,E,c.fieldTransforms)}function sk(n,e,t,i=!1){return fc(t,n.bc(i?4:3,e))}function fc(n,e){if(x1(n=Jt(n)))return Oy("Unsupported field value:",e,n),I1(n,e);if(n instanceof td)return function(i,s){if(!R1(s.Ic))throw s.gc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const m of i){let d=fc(m,s.fc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=Jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $O(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=an.fromDate(i);return{timestampValue:bf(s.serializer,l)}}if(i instanceof an){const l=new an(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bf(s.serializer,l)}}if(i instanceof Iy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ll)return{bytesValue:HS(s.serializer,i._byteString)};if(i instanceof zn){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dy(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof xy)return function(c,m){return{mapValue:{fields:{[vS]:{stringValue:_S},[yf]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw m.gc("VectorValues must only contain numeric values.");return uy(m.serializer,p)})}}}}}}(i,s);throw s.gc(`Unsupported field value: ${Zf(i)}`)}(n,e)}function I1(n,e){const t={};return fS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wa(n,(i,s)=>{const l=fc(s,e.Ac(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function x1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof an||n instanceof Iy||n instanceof ll||n instanceof zn||n instanceof td||n instanceof xy)}function Oy(n,e,t){if(!x1(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Zf(t);throw i==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+i)}}function _g(n,e,t){if((e=Jt(e))instanceof ed)return e._internalPath;if(typeof e=="string")return Py(n,e);throw Af("Field path arguments must be of type string or ",n,!1,void 0,t)}const ok=new RegExp("[~\\*/\\[\\]]");function Py(n,e,t){if(e.search(ok)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ed(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Af(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${i}`),c&&(d+=` in document ${s}`),d+=")"),new ye(oe.INVALID_ARGUMENT,m+n+d)}function D1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(My("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lk extends N1{data(){return super.data()}}function My(n,e){return typeof e=="string"?Py(n,e):e instanceof ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ky{}class ck extends ky{}function ks(n,e,...t){let i=[];e instanceof ky&&i.push(e),i=i.concat(t),function(l){const c=l.filter(d=>d instanceof Vy).length,m=l.filter(d=>d instanceof id).length;if(c>1||c>0&&m>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class id extends ck{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new id(e,t,i)}_apply(e){const t=this._parse(e);return O1(e._query,t),new El(e.firestore,e.converter,lg(e._query,t))}_parse(e){const t=nd(e.firestore);return function(l,c,m,d,p,y,E){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){oT(E,y);const I=[];for(const O of E)I.push(sT(d,l,O));b={arrayValue:{values:I}}}else b=sT(d,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||oT(E,y),b=sk(m,c,E,y==="in"||y==="not-in");return Zt.create(p,y,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Gi(n,e,t){const i=e,s=My("where",n);return id._create(s,i,t)}class Vy extends ky{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Fr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,l){let c=s;const m=l.getFlattenedFilters();for(const d of m)O1(c,d),c=lg(c,d)}(e._query,t),new El(e.firestore,e.converter,lg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sT(n,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CS(e)&&t.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(It.fromString(t));if(!be.isDocumentKey(i))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bb(n,new be(i))}if(t instanceof zn)return bb(n,t._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zf(t)}.`)}function oT(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O1(n,e){const t=function(s,l){for(const c of s)for(const m of c.getFlattenedFilters())if(l.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class hk{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wa(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[yf].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Ht(c.doubleValue));return new xy(l)}convertGeoPoint(e){return new Iy(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const t=qa(e);return new an(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=It.fromString(e);dt(QS(i),9688,{name:e});const s=new Gu(i.get(1),i.get(3)),l=new be(i.popFirst(5));return s.isEqual(t)||ea(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M1 extends N1{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(My("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class rf extends M1{data(e={}){return super.data(e)}}class fk{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Du(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new rf(this._firestore,this._userDataWriter,i.key,i,new Du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const d=new rf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Du(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new rf(s._firestore,s._userDataWriter,m.doc.key,m.doc,new Du(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:dk(m.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(n){n=Gr(n,zn);const e=Gr(n.firestore,Ks);return QM(Cy(e),n._key).then(t=>mk(e,n,t))}class k1 extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,t)}}function La(n){n=Gr(n,El);const e=Gr(n.firestore,Ks),t=Cy(e),i=new k1(e);return uk(n._query),WM(t,n._query).then(s=>new fk(e,i,n,s))}function jy(n,e,t){n=Gr(n,zn);const i=Gr(n.firestore,Ks),s=P1(n.converter,e);return ad(i,[C1(nd(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Cr.none())])}function V1(n,e,t,...i){n=Gr(n,zn);const s=Gr(n.firestore,Ks),l=nd(s);let c;return c=typeof(e=Jt(e))=="string"||e instanceof ed?ak(l,"updateDoc",n._key,e,t,i):ik(l,"updateDoc",n._key,e),ad(s,[c.toMutation(n._key,Cr.exists(!0))])}function Ly(n){return ad(Gr(n.firestore,Ks),[new cy(n._key,Cr.none())])}function dc(n,e){const t=Gr(n.firestore,Ks),i=Ft(n),s=P1(n.converter,e);return ad(t,[C1(nd(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Cr.exists(!1))]).then(()=>i)}function ad(n,e){return function(i,s){const l=new Wi;return i.asyncQueue.enqueueAndForget(async()=>jM(await KM(i),s,l)),l.promise}(Cy(n),e)}function mk(n,e,t){const i=t.docs.get(e._key),s=new k1(n);return new M1(n,s,e._key,i,new Du(t.hasPendingWrites,t.fromCache),e.converter)}function j1(){return new Ny("serverTimestamp")}(function(e,t=!0){(function(s){gl=s})(ml),yi(new Hr("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),m=new Ks(new sO(i.getProvider("auth-internal")),new uO(c,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gu(p.options.projectId,y)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Rr(ub,cb,e),Rr(ub,cb,"esm2017")})();const L1="@firebase/installations",Uy="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=1e4,B1=`w:${Uy}`,z1="FIS_v2",pk="https://firebaseinstallations.googleapis.com/v1",gk=60*60*1e3,yk="installations",vk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new Fs(yk,vk,_k);function q1(n){return n instanceof Qr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1({projectId:n}){return`${pk}/projects/${n}/installations`}function F1(n){return{token:n.token,requestStatus:2,expiresIn:bk(n.expiresIn),creationTime:Date.now()}}async function G1(n,e){const i=(await e.json()).error;return zs.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function $1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Ek(n,{refreshToken:e}){const t=$1(n);return t.append("Authorization",Tk(e)),t}async function Y1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function bk(n){return Number(n.replace("s","000"))}function Tk(n){return`${z1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=H1(n),s=$1(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const c={fid:t,authVersion:z1,appId:n.appId,sdkVersion:B1},m={method:"POST",headers:s,body:JSON.stringify(c)},d=await Y1(()=>fetch(i,m));if(d.ok){const p=await d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:F1(p.authToken)}}else throw await G1("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^[cdef][\w-]{21}$/,Eg="";function Rk(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Ck(n);return Ak.test(t)?t:Eg}catch{return Eg}}function Ck(n){return Sk(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map;function W1(n,e){const t=sd(n);X1(t,e),Ik(t,e)}function X1(n,e){const t=Q1.get(n);if(t)for(const i of t)i(e)}function Ik(n,e){const t=xk();t&&t.postMessage({key:n,fid:e}),Dk()}let Ps=null;function xk(){return!Ps&&"BroadcastChannel"in self&&(Ps=new BroadcastChannel("[Firebase] FID Change"),Ps.onmessage=n=>{X1(n.data.key,n.data.fid)}),Ps}function Dk(){Q1.size===0&&Ps&&(Ps.close(),Ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="firebase-installations-database",Ok=1,qs="firebase-installations-store";let Np=null;function By(){return Np||(Np=vw(Nk,Ok,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(qs)}}})),Np}async function Rf(n,e){const t=sd(n),s=(await By()).transaction(qs,"readwrite"),l=s.objectStore(qs),c=await l.get(t);return await l.put(e,t),await s.done,(!c||c.fid!==e.fid)&&W1(n,e.fid),e}async function Z1(n){const e=sd(n),i=(await By()).transaction(qs,"readwrite");await i.objectStore(qs).delete(e),await i.done}async function od(n,e){const t=sd(n),s=(await By()).transaction(qs,"readwrite"),l=s.objectStore(qs),c=await l.get(t),m=e(c);return m===void 0?await l.delete(t):await l.put(m,t),await s.done,m&&(!c||c.fid!==m.fid)&&W1(n,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(n){let e;const t=await od(n.appConfig,i=>{const s=Pk(i),l=Mk(n,s);return e=l.registrationPromise,l.installationEntry});return t.fid===Eg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Pk(n){const e=n||{fid:Rk(),registrationStatus:0};return J1(e)}function Mk(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(zs.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=kk(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Vk(n)}:{installationEntry:e}}async function kk(n,e){try{const t=await wk(n,e);return Rf(n.appConfig,t)}catch(t){throw q1(t)&&t.customData.serverCode===409?await Z1(n.appConfig):await Rf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Vk(n){let e=await lT(n.appConfig);for(;e.registrationStatus===1;)await K1(100),e=await lT(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await zy(n);return i||t}return e}function lT(n){return od(n,e=>{if(!e)throw zs.create("installation-not-found");return J1(e)})}function J1(n){return jk(n)?{fid:n.fid,registrationStatus:0}:n}function jk(n){return n.registrationStatus===1&&n.registrationTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk({appConfig:n,heartbeatServiceProvider:e},t){const i=Uk(n,t),s=Ek(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const c={installation:{sdkVersion:B1,appId:n.appId}},m={method:"POST",headers:s,body:JSON.stringify(c)},d=await Y1(()=>fetch(i,m));if(d.ok){const p=await d.json();return F1(p)}else throw await G1("Generate Auth Token",d)}function Uk(n,{fid:e}){return`${H1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qy(n,e=!1){let t;const i=await od(n.appConfig,l=>{if(!eA(l))throw zs.create("not-registered");const c=l.authToken;if(!e&&qk(c))return l;if(c.requestStatus===1)return t=Bk(n,e),l;{if(!navigator.onLine)throw zs.create("app-offline");const m=Fk(l);return t=zk(n,m),m}});return t?await t:i.authToken}async function Bk(n,e){let t=await uT(n.appConfig);for(;t.authToken.requestStatus===1;)await K1(100),t=await uT(n.appConfig);const i=t.authToken;return i.requestStatus===0?qy(n,e):i}function uT(n){return od(n,e=>{if(!eA(e))throw zs.create("not-registered");const t=e.authToken;return Gk(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function zk(n,e){try{const t=await Lk(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Rf(n.appConfig,i),t}catch(t){if(q1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Z1(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Rf(n.appConfig,i)}throw t}}function eA(n){return n!==void 0&&n.registrationStatus===2}function qk(n){return n.requestStatus===2&&!Hk(n)}function Hk(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+gk}function Fk(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Gk(n){return n.requestStatus===1&&n.requestTime+U1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n){const e=n,{installationEntry:t,registrationPromise:i}=await zy(e);return i?i.catch(console.error):qy(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,e=!1){const t=n;return await Kk(t),(await qy(t,e)).token}async function Kk(n){const{registrationPromise:e}=await zy(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){if(!n||!n.options)throw Op("App Configuration");if(!n.name)throw Op("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Op(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Op(n){return zs.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="installations",Wk="installations-internal",Xk=n=>{const e=n.getProvider("app").getImmediate(),t=Qk(e),i=Gs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Zk=n=>{const e=n.getProvider("app").getImmediate(),t=Gs(e,tA).getImmediate();return{getId:()=>$k(t),getToken:s=>Yk(t,s)}};function Jk(){yi(new Hr(tA,Xk,"PUBLIC")),yi(new Hr(Wk,Zk,"PRIVATE"))}Jk();Rr(L1,Uy);Rr(L1,Uy,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="analytics",e4="firebase_id",t4="origin",n4=60*1e3,r4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn=new Vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},hr=new Fs("analytics","Analytics",i4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(n){if(!n.startsWith(Hy)){const e=hr.create("invalid-gtag-resource",{gtagURL:n});return Qn.warn(e.message),""}return n}function nA(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function s4(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function o4(n,e){const t=s4("firebase-js-sdk-policy",{createScriptURL:a4}),i=document.createElement("script"),s=`${Hy}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function l4(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function u4(n,e,t,i,s,l){const c=i[s];try{if(c)await e[c];else{const d=(await nA(t)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(m){Qn.error(m)}n("config",s,l)}async function c4(n,e,t,i,s){try{let l=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const m=await nA(t);for(const d of c){const p=m.find(E=>E.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,s||{})}catch(l){Qn.error(l)}}function h4(n,e,t,i){async function s(l,...c){try{if(l==="event"){const[m,d]=c;await c4(n,e,t,m,d)}else if(l==="config"){const[m,d]=c;await u4(n,e,t,i,m,d)}else if(l==="consent"){const[m,d]=c;n("consent",m,d)}else if(l==="get"){const[m,d,p]=c;n("get",m,d,p)}else if(l==="set"){const[m]=c;n("set",m)}else n(l,...c)}catch(m){Qn.error(m)}}return s}function f4(n,e,t,i,s){let l=function(...c){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=h4(l,n,e,t),{gtagCore:l,wrappedGtag:window[s]}}function d4(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Hy)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=30,p4=1e3;class g4{constructor(e={},t=p4){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const rA=new g4;function y4(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function v4(n){var e;const{appId:t,apiKey:i}=n,s={method:"GET",headers:y4(i)},l=r4.replace("{app-id}",t),c=await fetch(l,s);if(c.status!==200&&c.status!==304){let m="";try{const d=await c.json();!((e=d.error)===null||e===void 0)&&e.message&&(m=d.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function _4(n,e=rA,t){const{appId:i,apiKey:s,measurementId:l}=n.options;if(!i)throw hr.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:i};throw hr.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new T4;return setTimeout(async()=>{m.abort()},n4),iA({appId:i,apiKey:s,measurementId:l},c,m,e)}async function iA(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=rA){var l;const{appId:c,measurementId:m}=n;try{await E4(i,e)}catch(d){if(m)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:c,measurementId:m};throw d}try{const d=await v4(n);return s.deleteThrottleMetadata(c),d}catch(d){const p=d;if(!b4(p)){if(s.deleteThrottleMetadata(c),m)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:m};throw d}const y=Number((l=p==null?void 0:p.customData)===null||l===void 0?void 0:l.httpStatus)===503?ME(t,s.intervalMillis,m4):ME(t,s.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(c,E),Qn.debug(`Calling attemptFetch again in ${y} millis`),iA(n,E,i,s)}}function E4(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(l),i(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function b4(n){if(!(n instanceof Qr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class T4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function w4(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const l=await e,c=Object.assign(Object.assign({},i),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(){if(mw())try{await pw()}catch(n){return Qn.warn(hr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return Qn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function A4(n,e,t,i,s,l,c){var m;const d=_4(n);d.then(A=>{t[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Qn.error(A)),e.push(d);const p=S4().then(A=>{if(A)return i.getId()}),[y,E]=await Promise.all([d,p]);d4(l)||o4(l,y.measurementId),s("js",new Date);const b=(m=c==null?void 0:c.config)!==null&&m!==void 0?m:{};return b[t4]="firebase",b.update=!0,E!=null&&(b[e4]=E),s("config",y.measurementId,b),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.app=e}_delete(){return delete Lu[this.app.options.appId],Promise.resolve()}}let Lu={},cT=[];const hT={};let Pp="dataLayer",C4="gtag",fT,aA,dT=!1;function I4(){const n=[];if(dw()&&n.push("This is a browser extension environment."),Tx()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=hr.create("invalid-analytics-context",{errorInfo:e});Qn.warn(t.message)}}function x4(n,e,t){I4();const i=n.options.appId;if(!i)throw hr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw hr.create("no-api-key");if(Lu[i]!=null)throw hr.create("already-exists",{id:i});if(!dT){l4(Pp);const{wrappedGtag:l,gtagCore:c}=f4(Lu,cT,hT,Pp,C4);aA=l,fT=c,dT=!0}return Lu[i]=A4(n,cT,hT,e,fT,Pp,t),new R4(n)}function D4(n=Fg()){n=Jt(n);const e=Gs(n,Cf);return e.isInitialized()?e.getImmediate():N4(n)}function N4(n,e={}){const t=Gs(n,Cf);if(t.isInitialized()){const s=t.getImmediate();if(Ba(e,t.getOptions()))return s;throw hr.create("already-initialized")}return t.initialize({options:e})}function O4(n,e,t,i){n=Jt(n),w4(aA,Lu[n.app.options.appId],e,t,i).catch(s=>Qn.error(s))}const mT="@firebase/analytics",pT="0.10.16";function P4(){yi(new Hr(Cf,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return x4(i,s,t)},"PUBLIC")),yi(new Hr("analytics-internal",n,"PRIVATE")),Rr(mT,pT),Rr(mT,pT,"esm2017");function n(e){try{const t=e.getProvider(Cf).getImmediate();return{logEvent:(i,s,l)=>O4(t,i,s,l)}}catch(t){throw hr.create("interop-component-reg-failed",{reason:t})}}}P4();const M4={apiKey:"AIzaSyCc0cL3rcfrGeC-b1j3qQf6C6AZSN6L8v8",authDomain:"llega-unimet.firebaseapp.com",projectId:"llega-unimet",storageBucket:"llega-unimet.firebasestorage.app",messagingSenderId:"3835931466",appId:"1:3835931466:web:f13bd07386f3f8b7bbafb3",measurementId:"G-2KBB3V67W5"},Fy=_w(M4),Ir=eO(Fy),tt=JM(Fy);D4(Fy);const na=()=>{const[n,e]=j.useState(null),[t,i]=j.useState(!0);return j.useEffect(()=>{const s=HD(Ir,async l=>{if(l){const c=Ft(tt,"users",l.uid),m=await Wn(c);m.exists()?e({...l,...m.data()}):e(l)}else e(null);i(!1)});return()=>s()},[]),{currentUser:n,loading:t}},k4="/assets/unimet-Db0LjtrG.jpg",ld="/assets/Logo-UNIMET-color-300-dpi-B6J-Ug4e.jpg",V4=[{label:"Deportivo",value:"deportivo",imageUrl:"https://static.wixstatic.com/media/709bfd_416a82333aea4bbdbe02930a0cbceb5b~mv2.webp/v1/fill/w_980,h_735,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/ciudad%20del%20deporte.webp"},{label:"Educativo",value:"educativo",imageUrl:"https://media.licdn.com/dms/image/v2/D4E22AQF9aFMThdhYFQ/feedshare-shrink_800/B4EZedbSjnHIAw-/0/1750692867160?e=2147483647&v=beta&t=C9ppJUdkOS3Nsj989BwNthEWr7ngcQoPjIlnxLdnGt4"},{label:"Tecnología",value:"tecnologia",imageUrl:"https://www.unimet.edu.ve/wp-content/uploads/2024/04/Centro-Mundo-X.jpg"},{label:"Exposiciones",value:"exposiciones",imageUrl:"https://www.unimet.edu.ve/wp-content/uploads/2025/06/FOTOS-DE-CERTIFICADOS-DE-AUDITORIA-1-1024x683.jpg"}],j4=({category:n,onClick:e})=>_.jsxs("div",{className:"space-card",style:{minHeight:"300px",display:"flex",flexDirection:"column"},children:[_.jsx("img",{src:n.imageUrl,alt:n.label,className:"space-card-img"}),_.jsxs("div",{className:"space-card-body",children:[_.jsx("h4",{children:n.label}),_.jsxs("button",{onClick:()=>e(n.value),className:"btn-primary",children:["Ir a espacios de ",n.label]})]})]}),L4=()=>{const n=on(),{currentUser:e}=na(),t=async()=>{try{await Lf(Ir),n("/")}catch(s){console.error("Error al cerrar sesión:",s),alert("Hubo un problema al cerrar tu sesión.")}},i=s=>{e&&e.role==="admin"?n(`/admin/espacios?categoria=${s}`):n(`/espacios?categoria=${s}`)};return _.jsxs("div",{className:"home-container",children:[_.jsxs("header",{className:"home-header",children:[_.jsx("h1",{className:"logo",onClick:()=>n("/"),style:{cursor:"pointer"},children:"llega"}),_.jsxs("nav",{children:[_.jsx(In,{to:"/",children:"Inicio"}),e&&e.role!=="admin"&&_.jsx(In,{to:"/mis-reservas",children:"Mis Reservas"}),e&&e.role==="admin"&&_.jsx(In,{to:"/admin/espacios/crear",children:"Crear Espacio"})]}),e?_.jsxs("div",{className:"user-actions",children:[_.jsx("button",{onClick:()=>n("/profile"),className:"btn-profile",children:"Perfil"}),_.jsx("button",{onClick:t,className:"btn-logout",style:{backgroundColor:"red",color:"white"},children:"Cerrar Sesión"})]}):_.jsxs("div",{children:[_.jsx("button",{onClick:()=>n("/register"),className:"btn-primary",style:{width:"auto",padding:"8px 15px"},children:"Crear Cuenta"}),_.jsx("button",{onClick:()=>n("/login"),style:{marginLeft:"10px"},children:"Iniciar Sesión"})]})]}),_.jsxs("main",{children:[_.jsxs("section",{className:"hero-section",style:{backgroundImage:`url(${k4})`},children:[_.jsx("div",{className:"logo-circulo",style:{background:"white",borderRadius:"50%",width:"160px",height:"160px",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",marginLeft:"auto",marginRight:"auto"},children:_.jsx("h1",{className:"logo",style:{fontSize:"3rem",color:"black",margin:0},children:"llega"})}),_.jsx("h2",{children:"Llega al espacio que quieras"})]}),_.jsxs("section",{className:"spaces-section",children:[_.jsx("h3",{children:"Categorías"}),_.jsx("div",{className:"spaces-grid",children:V4.map(s=>_.jsx(j4,{category:s,onClick:i},s.value))})]})]}),_.jsxs("footer",{className:"home-footer",children:[_.jsx("div",{style:{marginBottom:"20px"},children:_.jsx("img",{src:ld,alt:"Logo Unimet",style:{width:"200px"}})}),_.jsx("p",{children:"© 2025 Universidad Metropolitana. Todos los derechos reservados."})]})]})};var sA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gT=ft.createContext&&ft.createContext(sA),U4=["attr","size","title"];function B4(n,e){if(n==null)return{};var t=z4(n,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function z4(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function If(){return If=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},If.apply(this,arguments)}function yT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?yT(Object(t),!0).forEach(function(i){q4(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):yT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function q4(n,e,t){return e=H4(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H4(n){var e=F4(n,"string");return typeof e=="symbol"?e:e+""}function F4(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oA(n){return n&&n.map((e,t)=>ft.createElement(e.tag,xf({key:t},e.attr),oA(e.child)))}function lA(n){return e=>ft.createElement(G4,If({attr:xf({},n.attr)},e),oA(n.child))}function G4(n){var e=t=>{var{attr:i,size:s,title:l}=n,c=B4(n,U4),m=s||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),ft.createElement("svg",If({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:d,style:xf(xf({color:n.color||t.color},t.style),n.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),l&&ft.createElement("title",null,l),n.children)};return gT!==void 0?ft.createElement(gT.Consumer,null,t=>e(t)):e(sA)}function $4(n){return lA({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(n)}function Y4(n){return lA({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}const K4=n=>n.endsWith("@correo.unimet.edu.ve"),Q4=()=>{const[n,e]=j.useState(""),[t,i]=j.useState(""),[s,l]=j.useState(null),[c,m]=j.useState(!1),d=on(),p=async E=>{if(E.preventDefault(),!c){m(!0),l(null);try{await BD(Ir,n,t),d("/")}catch(b){l("Error al iniciar sesión. Verifica tus credenciales."),console.error("Error en login con email:",b)}m(!1)}},y=async E=>{if(!c){m(!0),l(null);try{const A=(await uN(Ir,E)).user,I=A.email;if(!K4(I)){await Ir.signOut(),l("Solo se permiten correos unimet"),m(!1);return}const O=Ft(tt,"users",A.uid);(await Wn(O)).exists()||await jy(O,{uid:A.uid,nombre:A.displayName||"Usuario",apellido:"",carnet:"",nombreDeUsuario:A.displayName||A.email,correo:A.email,descripcion:"¡Hola! Soy un nuevo usuario en Llega.",role:"normal"}),d("/")}catch(b){b.code==="auth/account-exists-with-different-credential"?l("Ya existe una cuenta con este correo, pero con un método de inicio de sesión diferente."):l("Error al iniciar sesión. Inténtalo de nuevo."),console.error("Error en login con proveedor:",b)}m(!1)}};return _.jsx("div",{className:"auth-container",children:_.jsxs("div",{className:"auth-form",children:[_.jsx("h2",{className:"auth-title",children:"llega"}),_.jsxs("form",{onSubmit:p,children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Correo Electrónico"}),_.jsx("input",{type:"email",placeholder:"example@correo.unimet.edu.ve",value:n,onChange:E=>e(E.target.value),required:!0,disabled:c})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Contraseña"}),_.jsx("input",{type:"password",value:t,onChange:E=>i(E.target.value),required:!0,disabled:c})]}),_.jsx(In,{to:"/forgot-password",className:"forgot-password",children:"¿Has olvidado la contraseña?"}),s&&_.jsx("p",{className:"error-message",style:{textAlign:"center"},children:s}),_.jsx("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Iniciando...":"Iniciar sesión"})]}),_.jsx("div",{className:"divider",children:"o iniciar sesión con"}),_.jsxs("div",{className:"provider-buttons",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[_.jsxs("button",{onClick:()=>y(new Hi),disabled:c,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"10px",border:"1px solid #ccc",backgroundColor:"#fff",color:"#000",fontWeight:"500",fontSize:"14px",cursor:"pointer",gap:"10px",borderRadius:"6px"},children:[_.jsx($4,{size:20}),"Iniciar con Google"]}),_.jsxs("button",{onClick:()=>y(new Fi),disabled:c,style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:"10px",border:"none",backgroundColor:"#24292e",color:"#fff",fontWeight:"500",fontSize:"14px",cursor:"pointer",gap:"10px",borderRadius:"6px"},children:[_.jsx(Y4,{size:20}),"Iniciar con GitHub"]})]}),_.jsxs("div",{className:"switch-auth",style:{marginTop:"1rem"},children:["¿No tienes una cuenta? ",_.jsx(In,{to:"/register",children:"Regístrate"})]})]})})},W4=n=>n.endsWith("@correo.unimet.edu.ve"),X4=()=>{const[n,e]=j.useState({}),[t,i]=j.useState(null),[s,l]=j.useState(!1),c=on(),m=p=>{e(y=>({...y,[p.target.name]:p.target.value}))},d=async p=>{if(p.preventDefault(),l(!0),i(null),console.log("Form data:",n),n.password!==n.confirmPassword){i("Las contraseñas no coinciden."),l(!1);return}if(!W4(n.correo)){i("Solo se permiten correos unimet"),l(!1);return}try{const E=(await UD(Ir,n.correo,n.password)).user;console.log("User created:",E),await jy(Ft(tt,"users",E.uid),{uid:E.uid,nombre:n.nombre,apellido:n.apellido,carnet:n.carnet,nombreDeUsuario:n.usuario,correo:n.correo,role:"normal"}),c("/")}catch(y){console.error("Registration error:",y),y.code==="auth/email-already-in-use"?i("Este correo electrónico ya está registrado."):y.code==="auth/weak-password"?i("La contraseña debe tener al menos 6 caracteres."):i("Ocurrió un error al crear la cuenta.")}finally{l(!1)}};return _.jsx("div",{className:"auth-container",children:_.jsxs("div",{className:"auth-form",children:[_.jsx("h2",{className:"auth-title",children:"Crear Cuenta"}),_.jsxs("form",{onSubmit:d,children:[_.jsxs("div",{className:"input-row",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Nombre"}),_.jsx("input",{type:"text",name:"nombre",onChange:m,required:!0})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Apellido"}),_.jsx("input",{type:"text",name:"apellido",onChange:m,required:!0})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Carnet"}),_.jsx("input",{type:"text",name:"carnet",onChange:m,required:!0})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Correo Unimet"}),_.jsx("input",{type:"email",name:"correo",onChange:m,required:!0})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Nombre de usuario"}),_.jsx("input",{type:"text",name:"usuario",onChange:m,required:!0})]}),_.jsxs("div",{className:"input-row",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Contraseña"}),_.jsx("input",{type:"password",name:"password",onChange:m,required:!0})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Confirmar Contraseña"}),_.jsx("input",{type:"password",name:"confirmPassword",onChange:m,required:!0})]})]}),t&&_.jsx("p",{className:"error-message",children:t}),_.jsx("button",{type:"submit",className:"btn-primary",disabled:s,children:s?"Creando cuenta...":"Crear Cuenta"})]}),_.jsxs("div",{className:"switch-auth",children:["¿Ya tienes una cuenta? ",_.jsx(In,{to:"/login",children:"Iniciar sesión"})]})]})})},Z4=()=>{const n=on(),[e,t]=j.useState(null),[i,s]=j.useState(!0),[l,c]=j.useState(""),[m,d]=j.useState("");j.useEffect(()=>{(async()=>{var A,I;const b=Ir.currentUser;if(b){const O=Ft(tt,"users",b.uid);try{const D=await Wn(O);if(D.exists())t(D.data());else{const q={uid:b.uid,nombre:((A=b.displayName)==null?void 0:A.split(" ")[0])||"",apellido:((I=b.displayName)==null?void 0:I.split(" ")[1])||"",carnet:"",nombreDeUsuario:b.displayName||b.email,correo:b.email,descripcion:"¡Hola! Soy un nuevo usuario en Llega."};await jy(O,q),t(q)}}catch(D){console.error("Error al cargar o crear el perfil:",D),c("No se pudieron cargar los datos del perfil.")}}s(!1)})()},[]);const p=E=>{const{name:b,value:A}=E.target;t(I=>({...I,[b]:A}))},y=async E=>{E.preventDefault();const b=Ir.currentUser;if(b){d(""),c("");try{const A=Ft(tt,"users",b.uid);await V1(A,e),d("¡Perfil actualizado con éxito!"),setTimeout(()=>d(""),3e3)}catch(A){console.error("Error al actualizar el perfil:",A),c("Hubo un error al guardar los cambios.")}}};return i?_.jsx("div",{className:"page-container",children:"Cargando perfil..."}):l?_.jsx("div",{className:"page-container",children:l}):_.jsx("div",{className:"page-container",children:_.jsx("div",{className:"form-container",children:_.jsxs("form",{onSubmit:y,className:"profile-form",children:[_.jsx("h2",{className:"form-title",children:"Modificar Perfil"}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Nombre de usuario"}),_.jsx("input",{type:"text",name:"nombreDeUsuario",value:(e==null?void 0:e.nombreDeUsuario)||"",onChange:p})]}),_.jsxs("div",{className:"input-row",children:[_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Nombre"}),_.jsx("input",{type:"text",name:"nombre",value:(e==null?void 0:e.nombre)||"",onChange:p})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Apellido"}),_.jsx("input",{type:"text",name:"apellido",value:(e==null?void 0:e.apellido)||"",onChange:p})]})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Carnet"}),_.jsx("input",{type:"text",name:"carnet",value:(e==null?void 0:e.carnet)||"",onChange:p})]}),_.jsxs("div",{className:"input-group",children:[_.jsx("label",{children:"Descripción"}),_.jsx("textarea",{name:"descripcion",value:(e==null?void 0:e.descripcion)||"",onChange:p,rows:"4"})]}),l&&_.jsx("p",{className:"error-message",children:l}),m&&_.jsx("p",{className:"success-message",children:m}),_.jsx("button",{type:"submit",className:"btn-primary",children:"Actualizar Información"}),_.jsx("button",{type:"button",onClick:()=>n("/"),className:"btn-cancel",children:"Cancelar"})]})})})},Sn=[];for(let n=0;n<256;++n)Sn.push((n+256).toString(16).slice(1));function J4(n,e=0){return(Sn[n[e+0]]+Sn[n[e+1]]+Sn[n[e+2]]+Sn[n[e+3]]+"-"+Sn[n[e+4]]+Sn[n[e+5]]+"-"+Sn[n[e+6]]+Sn[n[e+7]]+"-"+Sn[n[e+8]]+Sn[n[e+9]]+"-"+Sn[n[e+10]]+Sn[n[e+11]]+Sn[n[e+12]]+Sn[n[e+13]]+Sn[n[e+14]]+Sn[n[e+15]]).toLowerCase()}let Mp;const e3=new Uint8Array(16);function t3(){if(!Mp){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Mp=crypto.getRandomValues.bind(crypto)}return Mp(e3)}const n3=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vT={randomUUID:n3};function r3(n,e,t){var s;if(vT.randomUUID&&!n)return vT.randomUUID();n=n||{};const i=n.random??((s=n.rng)==null?void 0:s.call(n))??t3();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,J4(i)}const i3=()=>{const{spaceId:n}=fl(),[e]=qg(),t=e.get("fecha"),i=e.get("hora"),[s,l]=j.useState(null),[c,m]=j.useState(!0),[d,p]=j.useState(null),{currentUser:y}=na(),E=on(),[b,A]=j.useState([]),[I,O]=j.useState(!0);j.useEffect(()=>{(async()=>{if(!n){p("No se proporcionó un ID de espacio."),m(!1);return}try{const re=Ft(tt,"spaces",n),le=await Wn(re);le.exists()?l({id:le.id,...le.data()}):p("El documento del espacio no fue encontrado.")}catch(re){console.error("Error al obtener el documento:",re),p("Ocurrió un error técnico al buscar el espacio.")}finally{m(!1)}})()},[n]),j.useEffect(()=>{(async()=>{if(n){O(!0);try{const re=ks(cr(tt,"feedback"),Gi("spaceId","==",n)),me=(await La(re)).docs.map(x=>({id:x.id,...x.data()})),V=await Promise.all(me.map(async x=>{let N="";if(x.userId)try{const k=await Wn(Ft(tt,"users",x.userId));N=k.exists()&&k.data().name||""}catch{N=""}return{...x,userName:N}}));A(V)}catch(re){console.error("Error fetching feedbacks:",re)}finally{O(!1)}}})()},[n]);const D=async()=>{if(!y){E("/login");return}try{const F=r3(),re={userId:y.uid,spaceId:s.id,spaceName:s.name,status:"pending",createdAt:j1(),price:s.price,fecha:t||null,hora:i||null,verificationCode:F};E("/pago",{state:{reservationData:re}})}catch(F){console.error("Error al crear la reserva: ",F),alert("Hubo un problema al intentar crear tu reserva.")}},q=F=>_.jsx("div",{style:{display:"flex",gap:2},children:[1,2,3,4,5].map(re=>_.jsx("span",{style:{color:re<=F?"#FFD600":"#ccc",fontSize:20},children:"★"},re))}),X=(F,re=80)=>F.length>re?F.slice(0,re)+"…":F;return c?_.jsx("div",{className:"page-container",children:_.jsx("h2",{children:"Cargando..."})}):d||!s?_.jsxs("div",{className:"page-container",style:{textAlign:"center"},children:[_.jsx("h1",{children:"Espacio no encontrado"}),_.jsx("p",{children:d||"El espacio que buscas no existe o fue eliminado."}),_.jsx(In,{to:"/",children:"Volver al inicio"})]}):_.jsxs("div",{className:"page-container",style:{maxWidth:"500px",margin:"40px auto",textAlign:"center"},children:[_.jsx("h1",{className:"page-title",children:"Página de Reserva"}),_.jsxs("div",{className:"reservation-card-detail",style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[_.jsx("img",{src:s.imageUrl,alt:s.name,style:{width:"100%",borderRadius:"8px",marginBottom:"20px"}}),_.jsx("h2",{children:s.name}),_.jsx("p",{children:s.description}),_.jsx("hr",{style:{margin:"15px 0"}}),_.jsx("p",{children:_.jsxs("strong",{children:["Precio por hora: $",s.price]})}),_.jsxs("p",{children:[_.jsx("strong",{children:"Fecha seleccionada:"})," ",t||"No seleccionada"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Hora seleccionada:"})," ",i||"No seleccionada"]}),s.supervisorId?_.jsxs("p",{children:["Supervisor de espacio: ",_.jsx("strong",{children:s.supervisorId})]}):_.jsx("p",{children:"Supervisor de espacio: No asignado"}),_.jsx("button",{onClick:D,className:"btn-primary",style:{width:"100%",marginTop:"20px"},children:"Reservar Ya"})]}),_.jsxs("div",{style:{marginTop:40,display:"flex",flexDirection:"column",alignItems:"center"},children:[_.jsx("h3",{style:{marginBottom:16,textAlign:"center"},children:"Comentarios de otros usuarios"}),I?_.jsx("p",{style:{color:"#888",textAlign:"center"},children:"Cargando feedbacks..."}):b.length===0?_.jsx("p",{style:{color:"#888",textAlign:"center"},children:"Aún no hay feedback para este espacio."}):_.jsx("div",{style:{display:"flex",overflowX:"auto",gap:20,paddingBottom:10,justifyContent:"center"},children:b.map(F=>_.jsxs("div",{onClick:()=>E(`/feedback-detail/${F.id}`),style:{minWidth:260,maxWidth:260,background:"#fff",border:"1px solid #ddd",borderRadius:10,boxShadow:"0 2px 8px rgba(0,0,0,0.07)",padding:18,cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"flex-start",transition:"box-shadow 0.2s"},children:[q(F.stars),_.jsx("div",{style:{margin:"10px 0",color:"#333",fontSize:15},children:X(F.comment)}),_.jsx("div",{style:{fontSize:13,color:"#888"},children:F.userName?`Usuario: ${F.userName}`:""})]},F.id))})]})]})},a3=()=>_.jsxs("div",{children:[_.jsx("h3",{children:"Gestión de Tickets"}),_.jsx("p",{children:"La funcionalidad para gestionar tickets de soporte o problemas se implementará aquí."}),_.jsx("p",{children:"Actualmente no hay tickets."})]}),s3=()=>{const[n,e]=j.useState([]),[t,i]=j.useState({name:"",type:"",description:"",price:0,imageUrl:""}),s=async()=>{const d=await La(cr(tt,"spaces"));e(d.docs.map(p=>({id:p.id,...p.data()})))};j.useEffect(()=>{s()},[]);const l=d=>{const{name:p,value:y}=d.target;i(E=>({...E,[p]:y}))},c=async d=>{if(d.preventDefault(),!t.name||!t.type){alert("Nombre y tipo son obligatorios.");return}await dc(cr(tt,"spaces"),{...t,price:Number(t.price)}),i({name:"",type:"",description:"",price:0,imageUrl:""}),s()},m=async d=>{window.confirm("¿Estás seguro de que quieres eliminar este espacio?")&&(await Ly(Ft(tt,"spaces",d)),s())};return _.jsxs("div",{children:[_.jsx("h3",{children:"Añadir Nuevo Espacio"}),_.jsxs("form",{onSubmit:c,className:"space-form",children:[_.jsx("input",{name:"name",value:t.name,onChange:l,placeholder:"Nombre del Espacio",required:!0}),_.jsx("input",{name:"type",value:t.type,onChange:l,placeholder:"Tipo (ej: Educativo)",required:!0}),_.jsx("textarea",{name:"description",value:t.description,onChange:l,placeholder:"Descripción"}),_.jsx("input",{name:"price",value:t.price,type:"number",onChange:l,placeholder:"Precio"}),_.jsx("input",{name:"imageUrl",value:t.imageUrl,onChange:l,placeholder:"URL de la Imagen"}),_.jsx("button",{type:"submit",className:"btn-primary",children:"Añadir Espacio"})]}),_.jsx("hr",{style:{margin:"30px 0"}}),_.jsx("h3",{children:"Lista de Espacios Actuales"}),_.jsx("ul",{className:"spaces-list",children:n.map(d=>_.jsxs("li",{children:[_.jsxs("span",{children:[d.name," (",d.type,")"]}),_.jsx("div",{children:_.jsx("button",{onClick:()=>m(d.id),className:"btn-delete",children:"Eliminar"})})]},d.id))})]})},o3=()=>{const[n,e]=j.useState("spaces");return _.jsxs("div",{className:"page-container",children:[_.jsx("h1",{className:"page-title",children:"Panel de Administración"}),_.jsxs("div",{className:"admin-nav",children:[_.jsx("button",{onClick:()=>e("tickets"),className:n==="tickets"?"active":"",children:"Gestionar Tickets"}),_.jsx("button",{onClick:()=>e("spaces"),className:n==="spaces"?"active":"",children:"Gestionar Espacios"})]}),_.jsxs("div",{className:"admin-content",children:[n==="tickets"&&_.jsx(a3,{}),n==="spaces"&&_.jsx(s3,{})]})]})};function l3(n,e){if(!n||!e)return null;const[t,i,s]=n.split("-").map(Number),[l,c]=e.split(":").map(Number),m=new Date(t,i-1,s,l,c);return m.setHours(m.getHours()+1),m}const u3={width:320,minHeight:180,background:"#fff",border:"1px solid #ddd",borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.07)",padding:20,margin:12,display:"flex",flexDirection:"column",justifyContent:"space-between",boxSizing:"border-box"},c3=()=>{const[n,e]=j.useState([]),[t,i]=j.useState(!0),[s,l]=j.useState(null),{currentUser:c}=na(),m=on();j.useEffect(()=>{if(!c){i(!1);return}(async()=>{try{const D=ks(cr(tt,"reservations"),Gi("userId","==",c.uid)),X=(await La(D)).docs.map(re=>({id:re.id,...re.data()})),F=await Promise.all(X.map(async re=>{if(!re.spaceId)return{...re};const le=Ft(tt,"spaces",re.spaceId),me=await Wn(le),V=me.exists()?me.data():{};return{...re,spaceCategory:V.type||"",spaceImage:V.imageUrl||"/placeholder.jpg"}}));e(F)}catch{l("Error loading reservations.")}finally{i(!1)}})()},[c]);const d=async()=>{try{await Lf(Ir),m("/")}catch{alert("Hubo un problema al cerrar tu sesión.")}},p=async O=>{try{await Ly(Ft(tt,"reservations",O)),e(D=>D.filter(q=>q.id!==O))}catch(D){console.error("Error deleting reservation:",D),alert("No se pudo eliminar la reserva.")}},y=O=>{m(`/qr/${O}`)},E=new Date,b=[],A=[];n.forEach(O=>{const D=l3(O.fecha,O.hora);D&&D<E?A.push(O):b.push(O)});const I=(O,D=!0,q=!1,X=!1)=>_.jsxs("div",{style:u3,children:[_.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[_.jsx("img",{src:O.spaceImage||"/placeholder.jpg",alt:O.spaceName,style:{width:70,height:70,objectFit:"cover",borderRadius:8,marginRight:16}}),_.jsxs("div",{style:{flex:1},children:[_.jsx("div",{style:{fontSize:18,fontWeight:700,color:"#111"},children:O.spaceName}),_.jsx("div",{style:{fontSize:13,color:"#888",marginBottom:4},children:O.spaceCategory==="tecnologia"?"Espacio Tecnológico":O.spaceCategory==="exposiciones"?"Espacio de Exposiciones":`Espacio ${O.spaceCategory||"desconocido"}`}),_.jsxs("div",{style:{fontSize:15,color:"#333",marginBottom:8},children:[O.fecha?O.fecha:"No especificada",O.hora?` a las ${O.hora}`:""]})]})]}),_.jsxs("div",{style:{display:"flex",alignItems:"center",marginTop:16},children:[_.jsxs("span",{style:{fontSize:15,color:"#333"},children:["Precio: $",O.price]}),D&&_.jsx("button",{style:{marginLeft:16,background:"#1976d2",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},onClick:()=>y(O.id),children:"Ver QR"}),q&&_.jsx("button",{onClick:()=>p(O.id),style:{marginLeft:16,background:"#e53935",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Eliminar"}),X&&_.jsx("button",{onClick:()=>m(`/feedback/${O.id}`),style:{marginLeft:16,background:"#ff7300",color:"#fff",border:"none",borderRadius:8,padding:"8px 16px",fontWeight:600,cursor:"pointer"},children:"Dejar Feedback"})]})]},O.id);return _.jsxs("div",{className:"home-container",style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[_.jsxs("header",{className:"home-header",style:{flexShrink:0},children:[_.jsx("h1",{className:"logo",onClick:()=>m("/"),style:{cursor:"pointer"},children:"llega"}),_.jsxs("nav",{children:[_.jsx(In,{to:"/",children:"Inicio"}),c&&_.jsx(In,{to:"/mis-reservas",children:"Mis Reservas"})]}),c?_.jsxs("div",{className:"user-actions",children:[_.jsx("button",{onClick:()=>m("/profile"),className:"btn-profile",children:"Perfil"}),_.jsx("button",{onClick:d,className:"btn-logout",style:{backgroundColor:"red",color:"white"},children:"Cerrar Sesión"})]}):_.jsxs("div",{children:[_.jsx("button",{onClick:()=>m("/register"),className:"btn-primary",style:{width:"auto",padding:"8px 15px"},children:"Crear Cuenta"}),_.jsx("button",{onClick:()=>m("/login"),style:{marginLeft:"10px"},children:"Iniciar Sesión"})]})]}),_.jsx("main",{style:{flexGrow:1,padding:"32px"},children:_.jsxs("div",{className:"page-container",children:[_.jsx("h2",{style:{textAlign:"center",marginBottom:"32px"},children:"Mis Reservas"}),t?_.jsx("h2",{style:{textAlign:"center"},children:"Cargando tus reservas..."}):s?_.jsx("h2",{style:{textAlign:"center"},children:s}):c?b.length===0?_.jsx("p",{style:{textAlign:"center"},children:"Aún no tienes ninguna reserva activa."}):_.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:b.map(O=>I(O,!0,!1,!1))}):_.jsx("h2",{style:{textAlign:"center"},children:"Debes iniciar sesión para ver tus reservas."}),_.jsx("h2",{style:{textAlign:"center",margin:"48px 0 32px 0"},children:"Reservas Anteriores"}),A.length===0?_.jsx("p",{style:{textAlign:"center"},children:"No tienes reservas anteriores."}):_.jsx("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"flex-start"},children:A.map(O=>I(O,!1,!0,!0))})]})}),_.jsxs("footer",{className:"home-footer",style:{flexShrink:0,padding:"20px",textAlign:"center"},children:[_.jsx("div",{style:{marginBottom:"20px"},children:_.jsx("img",{src:ld,alt:"Logo Unimet",style:{width:"200px"}})}),_.jsx("p",{children:"© 2025 Universidad Metropolitana. Todos los derechos reservados."})]})]})};/*!
 * react-paypal-js v8.8.3 (2025-04-11T19:50:46.506Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn;(function(n){n.INITIAL="initial",n.PENDING="pending",n.REJECTED="rejected",n.RESOLVED="resolved"})(Yn||(Yn={}));var Ua;(function(n){n.LOADING_STATUS="setLoadingStatus",n.RESET_OPTIONS="resetOptions",n.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Ua||(Ua={}));var _T;(function(n){n.NUMBER="number",n.CVV="cvv",n.EXPIRATION_DATE="expirationDate",n.EXPIRATION_MONTH="expirationMonth",n.EXPIRATION_YEAR="expirationYear",n.POSTAL_CODE="postalCode"})(_T||(_T={}));var Xt=function(){return Xt=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},Xt.apply(this,arguments)};function uA(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function ET(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,l;i<s;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))}var Wu="data-react-paypal-script-id",Ms={DATA_JS_SDK_LIBRARY:"dataJsSdkLibrary",DATA_LIBRARY_VALUE:"react-paypal-js",DATA_NAMESPACE:"dataNamespace",DATA_SDK_INTEGRATION_SOURCE:"dataSdkIntegrationSource"},h3="Failed to load the PayPal JS SDK script.",cA="paypal",f3="usePayPalScriptReducer must be used within a PayPalScriptProvider";function d3(n){return n===void 0&&(n=cA),window[n]}function m3(n){for(var e="",t=0;t<n.length;t++){var i=n[t].charCodeAt(0)*t;n[t+1]&&(i+=n[t+1].charCodeAt(0)*(t-1)),e+=String.fromCharCode(97+Math.abs(i)%26)}return e}function p3(n){var e=n.reactComponentName,t=n.sdkComponentKey,i=n.sdkRequestedComponents,s=i===void 0?"":i,l=n.sdkDataNamespace,c=l===void 0?cA:l,m=t.charAt(0).toUpperCase().concat(t.substring(1)),d="Unable to render <".concat(e," /> because window.").concat(c,".").concat(m," is undefined."),p=typeof s=="string"?s:s.join(",");if(!p.includes(t)){var y=[p,t].filter(Boolean).join();d+=`
To fix the issue, add '`.concat(t,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(y,"'}}>`.")}return d}function hA(n){var e=n,t=Wu;e[t];var i=uA(e,[t+""]);return"react-paypal-js-".concat(m3(JSON.stringify(i)))}function g3(n){var e=self.document.querySelector("script[".concat(Wu,'="').concat(n,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function y3(n,e){var t,i;switch(e.type){case Ua.LOADING_STATUS:return typeof e.value=="object"?Xt(Xt({},n),{loadingStatus:e.value.state,loadingStatusErrorMessage:e.value.message}):Xt(Xt({},n),{loadingStatus:e.value});case Ua.RESET_OPTIONS:return g3(n.options[Wu]),Xt(Xt({},n),{loadingStatus:Yn.PENDING,options:Xt(Xt((t={},t[Ms.DATA_SDK_INTEGRATION_SOURCE]=Ms.DATA_LIBRARY_VALUE,t),e.value),(i={},i[Wu]="".concat(hA(e.value)),i))});case Ua.SET_BRAINTREE_INSTANCE:return Xt(Xt({},n),{braintreePayPalCheckoutInstance:e.value});default:return n}}var fA=j.createContext(null);function v3(n){if(typeof(n==null?void 0:n.dispatch)=="function"&&n.dispatch.length!==0)return n;throw new Error(f3)}function _3(){var n=v3(j.useContext(fA)),e=Xt(Xt({},n),{isInitial:n.loadingStatus===Yn.INITIAL,isPending:n.loadingStatus===Yn.PENDING,isResolved:n.loadingStatus===Yn.RESOLVED,isRejected:n.loadingStatus===Yn.REJECTED});return[e,n.dispatch]}j.createContext({});function E3(n){var e=j.useRef(new Proxy({},{get:function(t,i,s){return typeof t[i]=="function"?function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return t[i].apply(t,l)}:Reflect.get(t,i,s)}}));return e.current=Object.assign(e.current,n),e.current}var Gy=function(n){var e,t=n.className,i=t===void 0?"":t,s=n.disabled,l=s===void 0?!1:s,c=n.children,m=n.forceReRender,d=m===void 0?[]:m,p=uA(n,["className","disabled","children","forceReRender"]),y=l?{opacity:.38}:{},E="".concat(i," ").concat(l?"paypal-buttons-disabled":"").trim(),b=j.useRef(null),A=j.useRef(null),I=E3(p),O=_3()[0],D=O.isResolved,q=O.options,X=j.useState(null),F=X[0],re=X[1],le=j.useState(!0),me=le[0],V=le[1],x=j.useState(null),N=x[1];function k(){A.current!==null&&A.current.close().catch(function(){})}return!((e=A.current)===null||e===void 0)&&e.updateProps&&A.current.updateProps({message:p.message}),j.useEffect(function(){if(D===!1)return k;var L=d3(q.dataNamespace);if(L===void 0||L.Buttons===void 0)return N(function(){throw new Error(p3({reactComponentName:Gy.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:q.components,sdkDataNamespace:q[Ms.DATA_NAMESPACE]}))}),k;var B=function(P,Ke){re(Ke),typeof p.onInit=="function"&&p.onInit(P,Ke)};try{A.current=L.Buttons(Xt(Xt({},I),{onInit:B}))}catch(P){return N(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(P))})}return A.current.isEligible()===!1?(V(!1),k):(b.current&&A.current.render(b.current).catch(function(P){b.current===null||b.current.children.length===0||N(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(P))})}),k)},ET(ET([D],d,!0),[p.fundingSource],!1)),j.useEffect(function(){F!==null&&(l===!0?F.disable().catch(function(){}):F.enable().catch(function(){}))},[l,F]),ft.createElement(ft.Fragment,null,me?ft.createElement("div",{ref:b,style:y,className:E}):c)};Gy.displayName="PayPalButtons";function b3(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function T3(n,e){var t=document.querySelector('script[src="'.concat(n,'"]'));if(t===null)return null;var i=dA(n,e),s=t.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(i.dataset).length)return null;var l=!0;return Object.keys(s.dataset).forEach(function(c){s.dataset[c]!==i.dataset[c]&&(l=!1)}),l?t:null}function w3(n){var e=n.url,t=n.attributes,i=n.onSuccess,s=n.onError,l=dA(e,t);l.onerror=s,l.onload=i,document.head.insertBefore(l,document.head.firstElementChild)}function S3(n){var e=n.sdkBaseUrl,t=n.environment,i=b3(n,["sdkBaseUrl","environment"]),s=e||C3(t),l=i,c=Object.keys(l).filter(function(p){return typeof l[p]<"u"&&l[p]!==null&&l[p]!==""}).reduce(function(p,y){var E=l[y].toString();return y=A3(y),y.substring(0,4)==="data"||y==="crossorigin"?p.attributes[y]=E:p.queryParams[y]=E,p},{queryParams:{},attributes:{}}),m=c.queryParams,d=c.attributes;return m["merchant-id"]&&m["merchant-id"].indexOf(",")!==-1&&(d["data-merchant-id"]=m["merchant-id"],m["merchant-id"]="*"),{url:"".concat(s,"?").concat(R3(m)),attributes:d}}function A3(n){var e=function(t,i){return(i?"-":"")+t.toLowerCase()};return n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function R3(n){var e="";return Object.keys(n).forEach(function(t){e.length!==0&&(e+="&"),e+=t+"="+n[t]}),e}function C3(n){return n==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function dA(n,e){e===void 0&&(e={});var t=document.createElement("script");return t.src=n,Object.keys(e).forEach(function(i){t.setAttribute(i,e[i]),i==="data-csp-nonce"&&t.setAttribute("nonce",e["data-csp-nonce"])}),t}function I3(n,e){if(e===void 0&&(e=Promise),mA(n,e),typeof document>"u")return e.resolve(null);var t=S3(n),i=t.url,s=t.attributes,l=s["data-namespace"]||"paypal",c=bT(l);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),T3(i,s)&&c?e.resolve(c):x3({url:i,attributes:s},e).then(function(){var m=bT(l);if(m)return m;throw new Error("The window.".concat(l," global variable is not available."))})}function x3(n,e){e===void 0&&(e=Promise),mA(n,e);var t=n.url,i=n.attributes;if(typeof t!="string"||t.length===0)throw new Error("Invalid url.");if(typeof i<"u"&&typeof i!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,l){if(typeof document>"u")return s();w3({url:t,attributes:i,onSuccess:function(){return s()},onError:function(){var c=new Error('The script "'.concat(t,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return l(c)}})})}function bT(n){return window[n]}function mA(n,e){if(typeof n!="object"||n===null)throw new Error("Expected an options object.");var t=n.environment;if(t&&t!=="production"&&t!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var D3=function(n){var e,t=n.options,i=t===void 0?{clientId:"test"}:t,s=n.children,l=n.deferLoading,c=l===void 0?!1:l,m=j.useReducer(y3,{options:Xt(Xt({},i),(e={},e[Ms.DATA_JS_SDK_LIBRARY]=Ms.DATA_LIBRARY_VALUE,e[Ms.DATA_SDK_INTEGRATION_SOURCE]=Ms.DATA_LIBRARY_VALUE,e[Wu]="".concat(hA(i)),e)),loadingStatus:c?Yn.INITIAL:Yn.PENDING}),d=m[0],p=m[1];return j.useEffect(function(){if(c===!1&&d.loadingStatus===Yn.INITIAL)return p({type:Ua.LOADING_STATUS,value:Yn.PENDING});if(d.loadingStatus===Yn.PENDING){var y=!0;return I3(d.options).then(function(){y&&p({type:Ua.LOADING_STATUS,value:Yn.RESOLVED})}).catch(function(E){console.error("".concat(h3," ").concat(E)),y&&p({type:Ua.LOADING_STATUS,value:{state:Yn.REJECTED,message:String(E)}})}),function(){y=!1}}},[d.options,c,d.loadingStatus]),ft.createElement(fA.Provider,{value:Xt(Xt({},d),{dispatch:p})},s)};function TT(){}j.createContext({cardFieldsForm:null,fields:{},registerField:TT,unregisterField:TT});const N3="AW949SN6ow8koxf23Cwb7XDWD2aLiR_VPm9KZSuRSD83JJ2h-IMetZhHHHnzpVDyzI4Z3evu01TUvUqS",O3=()=>{var i;const n=Kr(),e=on(),t=(i=n.state)==null?void 0:i.reservationData;return t?_.jsxs("div",{className:"page-container",style:{maxWidth:"500px",margin:"40px auto",textAlign:"center"},children:[_.jsx("h2",{children:"Confirmar Pago"}),_.jsxs("div",{className:"reservation-summary",style:{background:"#f9f9f9",padding:"20px",borderRadius:"8px",marginBottom:"20px"},children:[_.jsx("p",{children:"Vas a pagar por la reservación de:"}),_.jsx("h3",{style:{margin:"10px 0"},children:t.spaceName}),_.jsxs("p",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:["Total: ",_.jsxs("strong",{children:["$",t.price," USD"]})]})]}),_.jsx(D3,{options:{"client-id":N3,currency:"USD","disable-funding":"paylater"},children:_.jsx(Gy,{style:{layout:"vertical"},createOrder:(s,l)=>l.order.create({purchase_units:[{description:`Reservation for ${t.spaceName}`,amount:{value:t.price.toString()}}]}),onApprove:async(s,l)=>{const c=await l.order.capture();try{await dc(cr(tt,"reservations"),{...t,status:"paid",paypalOrderId:c.id,payerEmail:c.payer.email_address,createdAt:new Date}),alert("Pago realizado!"),e("/mis-reservas")}catch(m){console.error("Error creating reservation:",m),alert("Hubo un error. Te recomendamos crear un ticket con el administrador.")}},onError:s=>{console.error("PayPal error:",s),alert("Hubo un error con el pago. Intenta de nuevo.")}})})]}):_.jsxs("div",{className:"page-container",children:[_.jsx("h2",{children:"Error"}),_.jsx("p",{children:"Datos de la reservación no encontrados."})]})},or=({children:n})=>{const{currentUser:e,loading:t}=na();return t?_.jsx("div",{children:"Cargando, por favor espera..."}):e?n:_.jsx(JT,{to:"/"})},P3=n=>{const[e,t]=j.useState(!1),[i,s]=j.useState(!0);return j.useEffect(()=>{(async()=>{if(n){const c=Ft(tt,"users",n.uid),m=await Wn(c);m.exists()&&m.data().role==="admin"&&t(!0)}s(!1)})()},[n]),{isAdmin:e,loading:i}},M3=({children:n})=>{const{currentUser:e,loading:t}=na(),{isAdmin:i,loading:s}=P3(e);return t||s?_.jsx("div",{children:"Verificando permisos de administrador..."}):!e||!i?(console.log("Acceso denegado. No es admin o no está logueado."),_.jsx(JT,{to:"/"})):(console.log("Acceso concedido. ¡Bienvenido, admin!"),n)};var kp={exports:{}},Vp={exports:{}},wT;function k3(){return wT||(wT=1,(()=>{var n={d:(i,s)=>{for(var l in s)n.o(s,l)&&!n.o(i,l)&&Object.defineProperty(i,l,{enumerable:!0,get:s[l]})},o:(i,s)=>Object.prototype.hasOwnProperty.call(i,s),r:i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}},e={};n.r(e),n.d(e,{default:()=>t});const t=function(i){var s=i.condition,l=i.show,c=i.elseShow,m=function(p){return typeof p=="function"},d=function(p){return p()||(console.warn("Nothing was returned from your render function. Please make sure you are returning a valid React element."),null)};return s?m(l)?d(l):l:!s&&c?m(c)?d(c):c:null};Vp.exports=e})()),Vp.exports}var ST;function V3(){return ST||(ST=1,(()=>{var n={n:Q=>{var R=Q&&Q.__esModule?()=>Q.default:()=>Q;return n.d(R,{a:R}),R},d:(Q,R)=>{for(var z in R)n.o(R,z)&&!n.o(Q,z)&&Object.defineProperty(Q,z,{enumerable:!0,get:R[z]})},o:(Q,R)=>Object.prototype.hasOwnProperty.call(Q,R),r:Q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})}},e={};n.r(e),n.d(e,{Chatbot:()=>ce,createChatBotMessage:()=>d,createClientMessage:()=>y,createCustomMessage:()=>p,default:()=>_e,useChatbot:()=>at});const t=Of();var i=n.n(t);const s=k3();var l=n.n(s),c=function(){return c=Object.assign||function(Q){for(var R,z=1,ee=arguments.length;z<ee;z++)for(var Y in R=arguments[z])Object.prototype.hasOwnProperty.call(R,Y)&&(Q[Y]=R[Y]);return Q},c.apply(this,arguments)},m=function(Q,R){return{message:Q,type:R,id:Math.round(Date.now()*Math.random())}},d=function(Q,R){return c(c(c({},m(Q,"bot")),R),{loading:!0})},p=function(Q,R,z){return c(c({},m(Q,R)),z)},y=function(Q,R){return c(c({},m(Q,"user")),R)},E=function(Q){for(var R=[],z=1;z<arguments.length;z++)R[z-1]=arguments[z];if(Q)return Q.apply(void 0,R)};function b(){return b=Object.assign||function(Q){for(var R=1;R<arguments.length;R++){var z=arguments[R];for(var ee in z)Object.prototype.hasOwnProperty.call(z,ee)&&(Q[ee]=z[ee])}return Q},b.apply(this,arguments)}const A=({styles:Q={},...R})=>i().createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},R),i().createElement("path",{d:"M256 288c79.5 0 144-64.5 144-144S335.5 0 256 0 112 64.5 112 144s64.5 144 144 144zm128 32h-55.1c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16H128C57.3 320 0 377.3 0 448v16c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-16c0-70.7-57.3-128-128-128z"})),I=function(Q){var R=Q.message,z=Q.customComponents;return i().createElement("div",{className:"react-chatbot-kit-user-chat-message-container"},i().createElement(l(),{condition:!!z.userChatMessage,show:E(z.userChatMessage,{message:R}),elseShow:i().createElement("div",{className:"react-chatbot-kit-user-chat-message"},R,i().createElement("div",{className:"react-chatbot-kit-user-chat-message-arrow"}))}),i().createElement(l(),{condition:!!z.userAvatar,show:E(z.userAvatar),elseShow:i().createElement("div",{className:"react-chatbot-kit-user-avatar"},i().createElement("div",{className:"react-chatbot-kit-user-avatar-container"},i().createElement(A,{className:"react-chatbot-kit-user-avatar-icon"})))}))},O=function(){return i().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar"},i().createElement("div",{className:"react-chatbot-kit-chat-bot-avatar-container"},i().createElement("p",{className:"react-chatbot-kit-chat-bot-avatar-letter"},"B")))},D=function(){return i().createElement("div",{className:"chatbot-loader-container"},i().createElement("svg",{id:"dots",width:"50px",height:"21px",viewBox:"0 0 132 58",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i().createElement("g",{stroke:"none",fill:"none"},i().createElement("g",{id:"chatbot-loader",fill:"#fff"},i().createElement("circle",{id:"chatbot-loader-dot1",cx:"25",cy:"30",r:"13"}),i().createElement("circle",{id:"chatbot-loader-dot2",cx:"65",cy:"30",r:"13"}),i().createElement("circle",{id:"chatbot-loader-dot3",cx:"105",cy:"30",r:"13"})))))};var q=function(){return q=Object.assign||function(Q){for(var R,z=1,ee=arguments.length;z<ee;z++)for(var Y in R=arguments[z])Object.prototype.hasOwnProperty.call(R,Y)&&(Q[Y]=R[Y]);return Q},q.apply(this,arguments)};const X=function(Q){var R=Q.message,z=Q.withAvatar,ee=z===void 0||z,Y=Q.loading,ue=Q.messages,fe=Q.customComponents,pe=Q.setState,Be=Q.customStyles,Te=Q.delay,nt=Q.id,Vt=(0,t.useState)(!1),Ye=Vt[0],lt=Vt[1];(0,t.useEffect)(function(){var ut;return function(Qe,ct){var ln=750;Te&&(ln+=Te),ut=setTimeout(function(){var wt=function(At,et,ze){for(var st,Et=0,Rt=et.length;Et<Rt;Et++)!st&&Et in et||(st||(st=Array.prototype.slice.call(et,0,Et)),st[Et]=et[Et]);return At.concat(st||Array.prototype.slice.call(et))}([],Qe).find(function(At){return At.id===nt});wt&&(wt.loading=!1,wt.delay=void 0,ct(function(At){var et=At.messages,ze=et.findIndex(function(st){return st.id===nt});return et[ze]=wt,q(q({},At),{messages:et})}))},ln)}(ue,pe),function(){clearTimeout(ut)}},[Te,nt]),(0,t.useEffect)(function(){Te?setTimeout(function(){return lt(!0)},Te):lt(!0)},[Te]);var Pt={backgroundColor:""},Oe={borderRightColor:""};return Be&&(Pt.backgroundColor=Be.backgroundColor,Oe.borderRightColor=Be.backgroundColor),i().createElement(l(),{condition:Ye,show:i().createElement("div",{className:"react-chatbot-kit-chat-bot-message-container"},i().createElement(l(),{condition:ee,show:i().createElement(l(),{condition:!!(fe!=null&&fe.botAvatar),show:E(fe==null?void 0:fe.botAvatar),elseShow:i().createElement(O,null)})}),i().createElement(l(),{condition:!!(fe!=null&&fe.botChatMessage),show:E(fe==null?void 0:fe.botChatMessage,{message:R,loader:i().createElement(D,null)}),elseShow:i().createElement("div",{className:"react-chatbot-kit-chat-bot-message",style:Pt},i().createElement(l(),{condition:Y,show:i().createElement(D,null),elseShow:i().createElement("span",null,R)}),i().createElement(l(),{condition:ee,show:i().createElement("div",{className:"react-chatbot-kit-chat-bot-message-arrow",style:Oe})}))}))})};function F(){return F=Object.assign||function(Q){for(var R=1;R<arguments.length;R++){var z=arguments[R];for(var ee in z)Object.prototype.hasOwnProperty.call(z,ee)&&(Q[ee]=z[ee])}return Q},F.apply(this,arguments)}const re=({styles:Q={},...R})=>i().createElement("svg",F({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},R),i().createElement("path",{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}));var le=function(){return le=Object.assign||function(Q){for(var R,z=1,ee=arguments.length;z<ee;z++)for(var Y in R=arguments[z])Object.prototype.hasOwnProperty.call(R,Y)&&(Q[Y]=R[Y]);return Q},le.apply(this,arguments)},me=function(Q,R,z){if(z||arguments.length===2)for(var ee,Y=0,ue=R.length;Y<ue;Y++)!ee&&Y in R||(ee||(ee=Array.prototype.slice.call(R,0,Y)),ee[Y]=R[Y]);return Q.concat(ee||Array.prototype.slice.call(R))};const V=function(Q){var R=Q.state,z=Q.setState,ee=Q.widgetRegistry,Y=Q.messageParser,ue=Q.parse,fe=Q.customComponents,pe=Q.actionProvider,Be=Q.botName,Te=Q.customStyles,nt=Q.headerText,Vt=Q.customMessages,Ye=Q.placeholderText,lt=Q.validator,Pt=Q.disableScrollToBottom,Oe=Q.messageHistory,ut=Q.actions,Qe=Q.messageContainerRef,ct=R.messages,ln=(0,t.useState)(""),wt=ln[0],At=ln[1],et=function(){setTimeout(function(){var de;Qe.current&&(Qe.current.scrollTop=(de=Qe==null?void 0:Qe.current)===null||de===void 0?void 0:de.scrollHeight)},50)};(0,t.useEffect)(function(){Pt||et()});var ze=function(){z(function(de){return le(le({},de),{messages:me(me([],de.messages,!0),[m(wt,"user")],!1)})}),et(),At("")},st={backgroundColor:""};Te&&Te.chatButton&&(st.backgroundColor=Te.chatButton.backgroundColor);var Et="Conversation with "+Be;nt&&(Et=nt);var Rt="Write your message here";return Ye&&(Rt=Ye),i().createElement("div",{className:"react-chatbot-kit-chat-container"},i().createElement("div",{className:"react-chatbot-kit-chat-inner-container"},i().createElement(l(),{condition:!!fe.header,show:fe.header&&fe.header(pe),elseShow:i().createElement("div",{className:"react-chatbot-kit-chat-header"},Et)}),i().createElement("div",{className:"react-chatbot-kit-chat-message-container",ref:Qe},i().createElement(l(),{condition:typeof Oe=="string"&&!!Oe,show:i().createElement("div",{dangerouslySetInnerHTML:{__html:Oe}})}),ct.map(function(de,Fe){return de.type==="bot"?i().createElement(i().Fragment,{key:de.id},function(Me,ke){var Bt;Bt=Me.withAvatar?Me.withAvatar:function(qn,Zn){if(Zn===0)return!0;var Dn=qn[Zn-1];return!(Dn.type==="bot"&&!Dn.widget)}(ct,ke);var Xn=le(le({},Me),{setState:z,state:R,customComponents:fe,widgetRegistry:ee,messages:ct,actions:ut});if(Me.widget){var Nr=ee.getWidget(Xn.widget,le(le({},R),{scrollIntoView:et,payload:Me.payload,actions:ut}));return i().createElement(i().Fragment,null,i().createElement(X,le({customStyles:Te.botMessageBox,withAvatar:Bt},Xn,{key:Me.id})),i().createElement(l(),{condition:!Xn.loading,show:Nr||null}))}return i().createElement(X,le({customStyles:Te.botMessageBox,key:Me.id,withAvatar:Bt},Xn,{customComponents:fe,messages:ct,setState:z}))}(de,Fe)):de.type==="user"?i().createElement(i().Fragment,{key:de.id},function(Me){var ke=ee.getWidget(Me.widget,le(le({},R),{scrollIntoView:et,payload:Me.payload,actions:ut}));return i().createElement(i().Fragment,null,i().createElement(I,{message:Me.message,key:Me.id,customComponents:fe}),ke||null)}(de)):function(Me,ke){return!!ke[Me.type]}(de,Vt)?i().createElement(i().Fragment,{key:de.id},function(Me){var ke=Vt[Me.type],Bt={setState:z,state:R,scrollIntoView:et,actionProvider:pe,payload:Me.payload,actions:ut};if(Me.widget){var Xn=ee.getWidget(Me.widget,le(le({},R),{scrollIntoView:et,payload:Me.payload,actions:ut}));return i().createElement(i().Fragment,null,ke(Bt),Xn||null)}return ke(Bt)}(de)):void 0}),i().createElement("div",{style:{paddingBottom:"15px"}})),i().createElement("div",{className:"react-chatbot-kit-chat-input-container"},i().createElement("form",{className:"react-chatbot-kit-chat-input-form",onSubmit:function(de){if(de.preventDefault(),lt&&typeof lt=="function"){if(lt(wt)){if(ze(),ue)return ue(wt);Y.parse(wt)}}else{if(ze(),ue)return ue(wt);Y.parse(wt)}}},i().createElement("input",{className:"react-chatbot-kit-chat-input",placeholder:Rt,value:wt,onChange:function(de){return At(de.target.value)}}),i().createElement("button",{className:"react-chatbot-kit-chat-btn-send",style:st},i().createElement(re,{className:"react-chatbot-kit-chat-btn-send-icon"}))))))},x=function(Q){var R=Q.message;return i().createElement("div",{className:"react-chatbot-kit-error"},i().createElement("h1",{className:"react-chatbot-kit-error-header"},"Ooops. Something is missing."),i().createElement("div",{className:"react-chatbot-kit-error-container"},i().createElement(X,{message:R,withAvatar:!0,loading:!1,id:1,customStyles:{backgroundColor:""},messages:[]})),i().createElement("a",{href:"https://fredrikoseberg.github.io/react-chatbot-kit-docs/",rel:"noopener norefferer",target:"_blank",className:"react-chatbot-kit-error-docs"},"View the docs"))};var N=function(Q){return Q.widgets?Q.widgets:[]},k=function(Q){try{new Q}catch{return!1}return!0},L=function(){return L=Object.assign||function(Q){for(var R,z=1,ee=arguments.length;z<ee;z++)for(var Y in R=arguments[z])Object.prototype.hasOwnProperty.call(R,Y)&&(Q[Y]=R[Y]);return Q},L.apply(this,arguments)};const B=function(Q,R){var z=this;this.addWidget=function(ee,Y){var ue=ee.widgetName,fe=ee.widgetFunc,pe=ee.mapStateToProps,Be=ee.props;z[ue]={widget:fe,props:Be,mapStateToProps:pe,parentProps:L({},Y)}},this.getWidget=function(ee,Y){var ue=z[ee];if(ue){var fe,pe=L(L(L(L({scrollIntoView:Y.scrollIntoView},ue.parentProps),typeof(fe=ue.props)=="object"?fe:{}),z.mapStateToProps(ue.mapStateToProps,Y)),{setState:z.setState,actionProvider:z.actionProvider||Y.actions,actions:Y.actions,state:Y,payload:Y.payload});return ue.widget(pe)||null}},this.mapStateToProps=function(ee,Y){if(ee)return ee.reduce(function(ue,fe){return ue[fe]=Y[fe],ue},{})},this.setState=Q,this.actionProvider=R};var P=function(){return P=Object.assign||function(Q){for(var R,z=1,ee=arguments.length;z<ee;z++)for(var Y in R=arguments[z])Object.prototype.hasOwnProperty.call(R,Y)&&(Q[Y]=R[Y]);return Q},P.apply(this,arguments)},Ke=function(Q,R,z){for(var ee,Y=0,ue=R.length;Y<ue;Y++)!ee&&Y in R||(ee||(ee=Array.prototype.slice.call(R,0,Y)),ee[Y]=R[Y]);return Q.concat(ee||Array.prototype.slice.call(R))};const at=function(Q){var R=Q.config,z=Q.actionProvider,ee=Q.messageParser,Y=Q.messageHistory,ue=Q.runInitialMessagesWithHistory,fe=Q.saveMessages,pe=function(ze,st){var Et={};for(var Rt in ze)Object.prototype.hasOwnProperty.call(ze,Rt)&&st.indexOf(Rt)<0&&(Et[Rt]=ze[Rt]);if(ze!=null&&typeof Object.getOwnPropertySymbols=="function"){var de=0;for(Rt=Object.getOwnPropertySymbols(ze);de<Rt.length;de++)st.indexOf(Rt[de])<0&&Object.prototype.propertyIsEnumerable.call(ze,Rt[de])&&(Et[Rt[de]]=ze[Rt[de]])}return Et}(Q,["config","actionProvider","messageParser","messageHistory","runInitialMessagesWithHistory","saveMessages"]),Be="",Te="";if(!R||!z||!ee)return{configurationError:Be="I think you forgot to feed me some props. Did you remember to pass a config, a messageparser and an actionprovider?"};var nt=function(ze,st){var Et=[];return ze.initialMessages||Et.push("Config must contain property 'initialMessages', and it expects it to be an array of chatbotmessages."),Et}(R);if(nt.length)return{invalidPropsError:Te=nt.reduce(function(ze,st){return ze+st},"")};var Vt=function(ze){return ze.state?ze.state:{}}(R);Y&&Array.isArray(Y)?R.initialMessages=Ke([],Y):typeof Y=="string"&&Y&&(ue||(R.initialMessages=[]));var Ye,lt,Pt,Oe=i().useState(P({messages:Ke([],R.initialMessages)},Vt)),ut=Oe[0],Qe=Oe[1],ct=i().useRef(ut.messages),ln=i().useRef(),wt=i().useRef();(0,t.useEffect)(function(){ct.current=ut.messages}),(0,t.useEffect)(function(){Y&&Array.isArray(Y)&&Qe(function(ze){return P(P({},ze),{messages:Y})})},[]),(0,t.useEffect)(function(){var ze=wt.current;return function(){if(fe&&typeof fe=="function"){var st=ze.innerHTML.toString();fe(ct.current,st)}}},[]),(0,t.useEffect)(function(){ln.current=ut},[ut]);var At=z,et=ee;return k(At)&&k(et)?(Ye=new z(d,Qe,y,ln.current,p,pe),lt=new B(Qe,Ye),Pt=new ee(Ye,ln.current),N(R).forEach(function(ze){return lt==null?void 0:lt.addWidget(ze,pe)})):(Ye=z,Pt=ee,lt=new B(Qe,null),N(R).forEach(function(ze){return lt==null?void 0:lt.addWidget(ze,pe)})),{widgetRegistry:lt,actionProv:Ye,messagePars:Pt,configurationError:Be,invalidPropsError:Te,state:ut,setState:Qe,messageContainerRef:wt,ActionProvider:At,MessageParser:et}};var J=function(){return J=Object.assign||function(Q){for(var R,z=1,ee=arguments.length;z<ee;z++)for(var Y in R=arguments[z])Object.prototype.hasOwnProperty.call(R,Y)&&(Q[Y]=R[Y]);return Q},J.apply(this,arguments)};const ce=function(Q){var R=Q.actionProvider,z=Q.messageParser,ee=Q.config,Y=Q.headerText,ue=Q.placeholderText,fe=Q.saveMessages,pe=Q.messageHistory,Be=Q.runInitialMessagesWithHistory,Te=Q.disableScrollToBottom,nt=Q.validator,Vt=function(de,Fe){var Me={};for(var ke in de)Object.prototype.hasOwnProperty.call(de,ke)&&Fe.indexOf(ke)<0&&(Me[ke]=de[ke]);if(de!=null&&typeof Object.getOwnPropertySymbols=="function"){var Bt=0;for(ke=Object.getOwnPropertySymbols(de);Bt<ke.length;Bt++)Fe.indexOf(ke[Bt])<0&&Object.prototype.propertyIsEnumerable.call(de,ke[Bt])&&(Me[ke[Bt]]=de[ke[Bt]])}return Me}(Q,["actionProvider","messageParser","config","headerText","placeholderText","saveMessages","messageHistory","runInitialMessagesWithHistory","disableScrollToBottom","validator"]),Ye=at(J({config:ee,actionProvider:R,messageParser:z,messageHistory:pe,saveMessages:fe,runInitialMessagesWithHistory:Be},Vt)),lt=Ye.configurationError,Pt=Ye.invalidPropsError,Oe=Ye.ActionProvider,ut=Ye.MessageParser,Qe=Ye.widgetRegistry,ct=Ye.messageContainerRef,ln=Ye.actionProv,wt=Ye.messagePars,At=Ye.state,et=Ye.setState;if(lt)return i().createElement(x,{message:lt});if(Pt.length)return i().createElement(x,{message:Pt});var ze=function(de){return de.customStyles?de.customStyles:{}}(ee),st=function(de){return de.customComponents?de.customComponents:{}}(ee),Et=function(de){return de.botName?de.botName:"Bot"}(ee),Rt=function(de){return de.customMessages?de.customMessages:{}}(ee);return k(Oe)&&k(ut)?i().createElement(V,{state:At,setState:et,widgetRegistry:Qe,actionProvider:ln,messageParser:wt,customMessages:Rt,customComponents:J({},st),botName:Et,customStyles:J({},ze),headerText:Y,placeholderText:ue,validator:nt,messageHistory:pe,disableScrollToBottom:Te,messageContainerRef:ct}):i().createElement(Oe,{state:At,setState:et,createChatBotMessage:d},i().createElement(ut,null,i().createElement(V,{state:At,setState:et,widgetRegistry:Qe,actionProvider:Oe,messageParser:ut,customMessages:Rt,customComponents:J({},st),botName:Et,customStyles:J({},ze),headerText:Y,placeholderText:ue,validator:nt,messageHistory:pe,disableScrollToBottom:Te,messageContainerRef:ct})))},_e=ce;kp.exports=e})()),kp.exports}var j3=V3();const L3=HT(j3),U3={botName:"LlegaBot",initialMessages:[H3('¡Hola! Soy LlegaBot. ¿En qué puedo ayudarte? Escribe "ayuda" para ver opciones.')],customStyles:{botMessageBox:{backgroundColor:"#ff8c00"},chatButton:{backgroundColor:"#ff8c00"}}},B3=({children:n,actions:e})=>{const t=i=>{const s=i.toLowerCase();s.includes("hola")||s.includes("buenas")?e.handleGreeting():s.includes("reserva")||s.includes("modificar")?e.handleModifyReservation():s.includes("supervisor")||s.includes("contacto")?e.handleContactSupervisor():s.includes("perfil")?e.handleModifyProfile():s.includes("ticket")||s.includes("admin")||s.includes("problema")?e.handleCreateTicket(i):s.includes("ayuda")?e.handleHelp():e.handleUnknown()};return _.jsx("div",{children:ft.Children.map(n,i=>ft.cloneElement(i,{parse:t,actions:e}))})},z3=({createChatBotMessage:n,setState:e,children:t})=>{const i=on(),s=b=>{e(A=>({...A,messages:[...A.messages,b]}))},l=()=>s(n("¡Hola! Un placer ayudarte.")),c=()=>s(n("Puedes gestionar tus reservas en la sección 'Mis Reservas'.")),m=()=>s(n("Encontrarás la información del supervisor en los detalles de cada espacio.")),d=()=>s(n("Puedes pedirme cosas como: 'modificar mi reserva', 'ver mi perfil', o 'crear un ticket'.")),p=()=>s(n("Lo siento, no te he entendido. Prueba a escribir 'ayuda'.")),y=()=>{s(n("¡Claro! Te llevo a tu perfil para que lo modifiques.")),i("/profile")},E=async b=>{const A=n("Entendido. Estoy creando un ticket con tu mensaje. Un administrador se pondrá en contacto pronto.");s(A);try{const I=Ir.currentUser;I?await dc(cr(tt,"tickets"),{userId:I.uid,userEmail:I.email,message:b,status:"abierto",createdAt:j1()}):s(n("Error: Debes estar autenticado para crear un ticket."))}catch(I){console.error("Error al crear el ticket: ",I),s(n("Lo siento, hubo un problema al crear tu ticket."))}};return _.jsx("div",{children:ft.Children.map(t,b=>ft.cloneElement(b,{actions:{handleGreeting:l,handleModifyReservation:c,handleContactSupervisor:m,handleModifyProfile:y,handleCreateTicket:E,handleHelp:d,handleUnknown:p}}))})},q3=()=>{const[n,e]=j.useState(!0),t=()=>{e(!n)};return _.jsx("div",{className:"chatbot-wrapper",children:n?_.jsxs("div",{className:"chatbot-container",children:[_.jsx("button",{className:"close-button",onClick:t,children:"✖"}),_.jsx(L3,{config:U3,messageParser:B3,actionProvider:z3})]}):_.jsx("button",{className:"open-button",onClick:t,children:"💬"})})};function H3(n,e){return{message:n,type:"bot",...e}}const F3=[{label:"Deportivo",value:"deportivo"},{label:"Educativo",value:"educativo"},{label:"Tecnología",value:"tecnologia"},{label:"Exposiciones",value:"exposiciones"}],jp={width:"250px",borderRadius:"8px",border:"2px solid #333",padding:"8px 12px",color:"#fff",background:"#333",backgroundColor:"#333",fontSize:"1rem",outline:"none",display:"block"},Lp={marginBottom:"6px",fontWeight:"bold",display:"block"};function Up(n){const[e,t]=n.split(":").map(Number);return{hour:e,minute:t}}function G3(n,e,t,i){return n<i&&t<e}function $3(n,e){let t=e+1;for(;t<=17;){if(!n.includes(t))return t;t++}return null}const Y3=()=>{const[n]=qg(),e=on(),{currentUser:t}=na(),i=n.get("categoria")||"",[s,l]=j.useState(i),[c,m]=j.useState(""),[d,p]=j.useState(""),[y,E]=j.useState([]),[b,A]=j.useState(!1);j.useEffect(()=>{if(!s){E([]);return}A(!0),(async()=>{const q=ks(cr(tt,"spaces"),Gi("type","==",s)),X=await La(q);E(X.docs.map(F=>({id:F.id,...F.data()}))),A(!1)})()},[s]);const I=async()=>{try{await Lf(Ir),e("/")}catch{alert("Hubo un problema al cerrar tu sesión.")}},O=async D=>{if(!c){alert("Por favor selecciona una fecha.");return}if(!d){alert("Por favor selecciona una hora.");return}const q=new Date;if(new Date(c+"T"+d)<q.setSeconds(0,0)){alert("La fecha y hora seleccionadas no pueden ser en el pasado.");return}const{hour:F,minute:re}=Up(d);if(F<8||F>=17||F===17&&re>0){alert("La hora debe estar entre 08:00 y 17:00.");return}if(!t){alert("Para ver los detalles y reservar, primero necesitas iniciar sesión."),e("/login");return}try{const le=ks(cr(tt,"reservations"),Gi("spaceId","==",D),Gi("fecha","==",c)),V=(await La(le)).docs.map(L=>Up(L.data().hora).hour);if(V.includes(F)){const L=V.sort((P,Ke)=>P-Ke),B=$3(L,F);alert(B?`El espacio no está disponible a esa hora. El siguiente horario disponible es a las ${B}:00.`:"El espacio no está disponible en ningún horario posterior hoy.");return}const x=ks(cr(tt,"reservations"),Gi("userId","==",t.uid),Gi("fecha","==",c));if((await La(x)).docs.map(L=>Up(L.data().hora).hour).some(L=>G3(L,L+1,F,F+1))){alert("Ya tienes una reservación en ese horario.");return}e(`/reserva/${D}?fecha=${c}&hora=${d}`)}catch(le){console.error("Error verificando disponibilidad:",le),alert("Error verificando disponibilidad.")}};return _.jsxs("div",{className:"home-container",children:[_.jsxs("header",{className:"home-header",children:[_.jsx("h1",{className:"logo",onClick:()=>e("/"),style:{cursor:"pointer"},children:"llega"}),_.jsxs("nav",{children:[_.jsx(In,{to:"/",children:"Inicio"}),t&&_.jsx(In,{to:"/mis-reservas",children:"Mis Reservas"})]}),t?_.jsxs("div",{className:"user-actions",children:[_.jsx("button",{onClick:()=>e("/profile"),className:"btn-profile",children:"Perfil"}),_.jsx("button",{onClick:I,className:"btn-logout",style:{backgroundColor:"red",color:"white"},children:"Cerrar Sesión"})]}):_.jsxs("div",{children:[_.jsx("button",{onClick:()=>e("/register"),className:"btn-primary",style:{width:"auto",padding:"8px 15px"},children:"Crear Cuenta"}),_.jsx("button",{onClick:()=>e("/login"),style:{marginLeft:"10px"},children:"Iniciar Sesión"})]})]}),_.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"32px 16px"},children:[_.jsx("h2",{style:{marginBottom:"32px",marginTop:"16px"},children:"Espacios por Categoría"}),_.jsxs("div",{style:{display:"flex",gap:"32px",marginBottom:"48px"},children:[_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx("label",{style:Lp,children:"Categoría"}),_.jsxs("select",{value:s,onChange:D=>l(D.target.value),style:jp,children:[_.jsx("option",{value:"",children:"Selecciona una categoría"}),F3.map(D=>_.jsx("option",{value:D.value,children:D.label},D.value))]})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx("label",{style:Lp,children:"Fecha"}),_.jsx("input",{type:"date",value:c,onChange:D=>m(D.target.value),style:jp})]}),_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx("label",{style:Lp,children:"Hora"}),_.jsx("input",{type:"time",value:d,onChange:D=>p(D.target.value),style:jp})]})]}),_.jsx("div",{className:"spaces-grid",children:b?_.jsx("p",{children:"Cargando espacios..."}):y.length>0?y.map(D=>_.jsxs("div",{className:"space-card",children:[_.jsx("img",{src:D.imageUrl,alt:D.name,className:"space-card-img"}),_.jsxs("div",{className:"space-card-body",children:[_.jsx("h4",{children:D.name}),_.jsx("p",{children:D.description}),_.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px"},children:[_.jsx("button",{onClick:()=>O(D.id),className:"btn-primary",children:"Ver espacio"}),_.jsx(In,{to:`/espacio/${D.id}/calendario`,children:_.jsx("button",{className:"btn-primary",children:"Revisar Calendario"})})]})]})]},D.id)):_.jsx("p",{children:"No hay espacios para esta categoría."})})]}),_.jsxs("footer",{className:"home-footer",children:[_.jsx("div",{style:{marginBottom:"20px"},children:_.jsx("img",{src:ld,alt:"Logo Unimet",style:{width:"200px"}})}),_.jsx("p",{children:"© 2025 Universidad Metropolitana. Todos los derechos reservados."})]})]})},K3=[{label:"Deportivo",value:"deportivo"},{label:"Educativo",value:"educativo"},{label:"Tecnología",value:"tecnologia"},{label:"Exposiciones",value:"exposiciones"}],Q3=()=>{const n=on(),e=Kr(),{currentUser:t,loading:i}=na(),l=new URLSearchParams(e.search).get("categoria")||"",[c,m]=j.useState(l),[d,p]=j.useState([]),[y,E]=j.useState(!1);j.useEffect(()=>{m(l)},[l]),j.useEffect(()=>{i||(!t||t.role!=="admin")&&n("/")},[t,i,n]),j.useEffect(()=>{if(!c){p([]);return}E(!0),(async()=>{const I=ks(cr(tt,"spaces"),Gi("type","==",c)),O=await La(I);p(O.docs.map(D=>({id:D.id,...D.data()}))),E(!1)})()},[c]);const b=async()=>{try{await Lf(Ir),n("/")}catch{alert("Hubo un problema al cerrar tu sesión.")}};return _.jsxs("div",{className:"home-container",children:[_.jsxs("header",{className:"home-header",children:[_.jsx("h1",{className:"logo",onClick:()=>n("/"),style:{cursor:"pointer"},children:"llega"}),_.jsxs("nav",{children:[_.jsx(In,{to:"/",children:"Inicio"}),t&&t.role!=="admin"&&_.jsx(In,{to:"/mis-reservas",children:"Mis Reservas"}),t&&t.role==="admin"&&_.jsx(In,{to:"/admin/espacios/crear",children:"Crear Espacio"})]}),t?_.jsxs("div",{className:"user-actions",children:[_.jsx("button",{onClick:()=>n("/profile"),className:"btn-profile",children:"Perfil"}),_.jsx("button",{onClick:b,className:"btn-logout",style:{backgroundColor:"red",color:"white"},children:"Cerrar Sesión"})]}):_.jsxs("div",{children:[_.jsx("button",{onClick:()=>n("/register"),className:"btn-primary",style:{width:"auto",padding:"8px 15px"},children:"Crear Cuenta"}),_.jsx("button",{onClick:()=>n("/login"),style:{marginLeft:"10px"},children:"Iniciar Sesión"})]})]}),_.jsx("main",{children:_.jsxs("section",{className:"spaces-section",children:[_.jsx("h2",{style:{marginBottom:"32px",marginTop:"16px"},children:"Editar Espacios por Categoría"}),_.jsx("div",{style:{display:"flex",gap:"32px",marginBottom:"48px"},children:_.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[_.jsx("label",{style:{marginBottom:"6px",fontWeight:"bold",display:"block"},children:"Categoría"}),_.jsxs("select",{value:c,onChange:A=>m(A.target.value),style:{width:"250px",borderRadius:"8px",border:"2px solid #333",padding:"8px 12px",color:"#333",background:"#fff",fontSize:"1rem",outline:"none",display:"block"},children:[_.jsx("option",{value:"",children:"Selecciona una categoría"}),K3.map(A=>_.jsx("option",{value:A.value,children:A.label},A.value))]})]})}),_.jsx("div",{className:"spaces-grid",children:y?_.jsx("p",{children:"Cargando espacios..."}):d.length>0?d.map(A=>_.jsxs("div",{className:"space-card",children:[_.jsx("img",{src:A.imageUrl,alt:A.name,className:"space-card-img"}),_.jsxs("div",{className:"space-card-body",children:[_.jsx("h4",{children:A.name}),_.jsx("p",{children:A.description}),_.jsx("button",{onClick:()=>n(`/admin/editar-espacio/${A.id}`),className:"btn-primary",style:{marginTop:"12px"},children:"Editar espacio"})]})]},A.id)):_.jsx("p",{children:"No hay espacios para esta categoría."})})]})}),_.jsxs("footer",{className:"home-footer",children:[_.jsx("div",{style:{marginBottom:"20px"},children:_.jsx("img",{src:ld,alt:"Logo Unimet",style:{width:"200px"}})}),_.jsx("p",{children:"© 2025 Universidad Metropolitana. Todos los derechos reservados."})]})]})},W3=[{label:"Deportivo",value:"deportivo"},{label:"Educativo",value:"educativo"},{label:"Tecnología",value:"tecnologia"},{label:"Exposiciones",value:"exposiciones"}],zo={width:"100%",padding:"10px 12px",borderRadius:8,border:"1.5px solid #222",background:"#333",color:"#fff",fontSize:16,outline:"none",boxSizing:"border-box"},qo={display:"block",marginBottom:6,fontWeight:500},X3=()=>{const n=on(),{id:e}=fl(),[t,i]=j.useState({name:"",description:"",imageUrl:"",type:"",price:"",supervisorId:""}),[s,l]=j.useState(!1);j.useEffect(()=>{(async()=>{const p=Ft(tt,"spaces",e),y=await Wn(p);if(y.exists()){const E=y.data();i({name:E.name||"",description:E.description||"",imageUrl:E.imageUrl||"",type:E.type||"",price:E.price!==void 0?E.price:"",supervisorId:E.supervisorId||""})}})()},[e]);const c=d=>{i({...t,[d.target.name]:d.target.value})},m=async d=>{d.preventDefault(),l(!0);try{const p={...t,price:Number(t.price)};await V1(Ft(tt,"spaces",e),p),alert("Espacio actualizado correctamente."),n("/")}catch{alert("Error al actualizar el espacio.")}l(!1)};return _.jsxs("div",{style:{maxWidth:1e3,width:"100%",margin:"48px auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.10)",padding:32,display:"flex",flexDirection:"column",alignItems:"stretch",boxSizing:"border-box"},children:[_.jsx("h2",{style:{textAlign:"center",marginBottom:32},children:"Editar Espacio"}),_.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:20},children:[_.jsxs("div",{children:[_.jsx("label",{style:qo,children:"Nombre"}),_.jsx("input",{name:"name",value:t.name,onChange:c,required:!0,style:zo})]}),_.jsxs("div",{children:[_.jsx("label",{style:qo,children:"Descripción"}),_.jsx("textarea",{name:"description",value:t.description,onChange:c,required:!0,rows:3,style:{...zo,resize:"vertical"}})]}),_.jsxs("div",{children:[_.jsx("label",{style:qo,children:"Imagen (URL)"}),_.jsx("input",{name:"imageUrl",value:t.imageUrl,onChange:c,required:!0,style:zo})]}),_.jsxs("div",{children:[_.jsx("label",{style:qo,children:"Categoría"}),_.jsxs("select",{name:"type",value:t.type,onChange:c,required:!0,style:zo,children:[_.jsx("option",{value:"",children:"Selecciona una categoría"}),W3.map(d=>_.jsx("option",{value:d.value,children:d.label},d.value))]})]}),_.jsxs("div",{children:[_.jsx("label",{style:qo,children:"Precio"}),_.jsx("input",{name:"price",type:"number",value:t.price,onChange:c,required:!0,style:zo,min:0})]}),_.jsxs("div",{children:[_.jsx("label",{style:qo,children:"Supervisor"}),_.jsx("input",{name:"supervisorId",value:t.supervisorId,onChange:c,required:!0,style:zo})]}),_.jsx("button",{type:"submit",style:{marginTop:12,background:"#ff7300",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:17,cursor:"pointer",transition:"background 0.2s"},disabled:s,children:s?"Actualizando...":"Actualizar Espacio"})]})]})},Z3=[{label:"Deportivo",value:"deportivo"},{label:"Educativo",value:"educativo"},{label:"Tecnología",value:"tecnologia"},{label:"Exposiciones",value:"exposiciones"}],Ho={width:"100%",padding:"10px 12px",borderRadius:8,border:"1.5px solid #222",background:"#333",color:"#fff",fontSize:16,outline:"none",boxSizing:"border-box"},Fo={display:"block",marginBottom:6,fontWeight:500},J3=()=>{const n=on(),[e,t]=j.useState({name:"",description:"",imageUrl:"",type:"",price:"",supervisorId:""}),[i,s]=j.useState(!1),l=m=>{t({...e,[m.target.name]:m.target.value})},c=async m=>{m.preventDefault(),s(!0);try{const d={...e,price:Number(e.price)};await dc(cr(tt,"spaces"),d),alert("Espacio creado correctamente."),n("/")}catch{alert("Error al crear el espacio.")}s(!1)};return _.jsxs("div",{style:{maxWidth:1e3,width:"100%",margin:"48px auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.10)",padding:32,display:"flex",flexDirection:"column",alignItems:"stretch",boxSizing:"border-box"},children:[_.jsx("h2",{style:{textAlign:"center",marginBottom:32},children:"Crear Espacio"}),_.jsxs("form",{onSubmit:c,style:{display:"flex",flexDirection:"column",gap:20},children:[_.jsxs("div",{children:[_.jsx("label",{style:Fo,children:"Nombre"}),_.jsx("input",{name:"name",value:e.name,onChange:l,required:!0,style:Ho})]}),_.jsxs("div",{children:[_.jsx("label",{style:Fo,children:"Descripción"}),_.jsx("textarea",{name:"description",value:e.description,onChange:l,required:!0,rows:3,style:{...Ho,resize:"vertical"}})]}),_.jsxs("div",{children:[_.jsx("label",{style:Fo,children:"Imagen (URL)"}),_.jsx("input",{name:"imageUrl",value:e.imageUrl,onChange:l,required:!0,style:Ho})]}),_.jsxs("div",{children:[_.jsx("label",{style:Fo,children:"Categoría"}),_.jsxs("select",{name:"type",value:e.type,onChange:l,required:!0,style:Ho,children:[_.jsx("option",{value:"",children:"Selecciona una categoría"}),Z3.map(m=>_.jsx("option",{value:m.value,children:m.label},m.value))]})]}),_.jsxs("div",{children:[_.jsx("label",{style:Fo,children:"Precio"}),_.jsx("input",{name:"price",type:"number",value:e.price,onChange:l,required:!0,style:Ho,min:0})]}),_.jsxs("div",{children:[_.jsx("label",{style:Fo,children:"Supervisor"}),_.jsx("input",{name:"supervisorId",value:e.supervisorId,onChange:l,required:!0,style:Ho})]}),_.jsx("button",{type:"submit",style:{marginTop:12,background:"#ff7300",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:17,cursor:"pointer",transition:"background 0.2s"},disabled:i,children:i?"Creando...":"Crear Espacio"})]})]})},e6=n=>_.jsx("div",{style:{display:"flex",gap:2},children:[1,2,3,4,5].map(e=>_.jsx("span",{style:{color:e<=n?"#FFD600":"#ccc",fontSize:28},children:"★"},e))}),t6=()=>{const{id:n}=fl(),e=on(),[t,i]=j.useState(null),[s,l]=j.useState("");return j.useEffect(()=>{(async()=>{try{const m=await Wn(Ft(tt,"feedback",n));if(m.exists()){const d=m.data();if(i(d),d.userId){const p=await Wn(Ft(tt,"users",d.userId));p.exists()&&l(p.data().nombre||"")}}else e("/")}catch{e("/")}})()},[n,e]),t?_.jsxs("div",{style:{maxWidth:600,margin:"60px auto",padding:32},children:[_.jsxs("div",{style:{background:"#fff",border:"1px solid #ddd",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.10)",padding:32,display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[e6(t.stars),_.jsx("div",{style:{margin:"18px 0",color:"#333",fontSize:18},children:t.comment}),_.jsx("div",{style:{fontSize:14,color:"#888"},children:s?`Usuario: ${s}`:""})]}),_.jsx("div",{style:{display:"flex",justifyContent:"center",marginTop:24},children:_.jsx("button",{onClick:()=>e(-1),children:"Volver"})})]}):_.jsx("div",{style:{textAlign:"center",marginTop:60},children:"Cargando..."})},n6={width:"100%",padding:"10px 12px",borderRadius:8,border:"1.5px solid #222",background:"#333",color:"#fff",fontSize:16,outline:"none",boxSizing:"border-box"},AT={display:"block",marginBottom:6,fontWeight:500},r6=()=>{const{id:n}=fl(),e=on(),{currentUser:t}=na(),[i,s]=j.useState(""),[l,c]=j.useState(5),[m,d]=j.useState(!1),[p,y]=j.useState(""),[E,b]=j.useState(!1);j.useEffect(()=>{t&&(async()=>{const D=Ft(tt,"reservations",n),q=await Wn(D);if(q.exists()){const X=q.data();y(X.spaceId),t&&X.userId===t.uid?b(!0):(alert("No tienes permiso para dejar feedback en esta reserva."),e("/mis-reservas"))}else alert("Reserva no encontrada."),e("/mis-reservas")})()},[n,e,t]);const A=async O=>{if(O.preventDefault(),!(!t||!E)){d(!0);try{await dc(cr(tt,"feedback"),{comment:i,spaceId:p,userId:t.uid,stars:Number(l),createdAt:new Date}),await Ly(Ft(tt,"reservations",n)),alert("¡Gracias por tu feedback!"),e("/mis-reservas")}catch{alert("Error al enviar feedback.")}d(!1)}},I=()=>_.jsx("div",{style:{display:"flex",gap:6,cursor:"pointer",fontSize:28},children:[1,2,3,4,5].map(O=>_.jsx("span",{onClick:()=>c(O),style:{color:O<=l?"#FFD600":"#ccc",transition:"color 0.2s",userSelect:"none"},role:"button","aria-label":`${O} estrella${O>1?"s":""}`,tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&c(O)},children:"★"},O))});return E?_.jsxs("div",{style:{maxWidth:600,width:"100%",margin:"48px auto",background:"#fff",borderRadius:16,boxShadow:"0 4px 24px rgba(0,0,0,0.10)",padding:32,display:"flex",flexDirection:"column",alignItems:"stretch",boxSizing:"border-box"},children:[_.jsx("h2",{style:{textAlign:"center",marginBottom:32},children:"Dejar Feedback"}),_.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:20},children:[_.jsxs("div",{children:[_.jsx("label",{style:AT,children:"Comentario"}),_.jsx("textarea",{value:i,onChange:O=>s(O.target.value),required:!0,rows:4,style:{...n6,resize:"vertical"}})]}),_.jsxs("div",{children:[_.jsx("label",{style:AT,children:"Estrellas"}),I()]}),_.jsx("button",{type:"submit",style:{marginTop:12,background:"#ff7300",color:"#fff",border:"none",borderRadius:8,padding:"12px 0",fontWeight:600,fontSize:17,cursor:"pointer",transition:"background 0.2s"},disabled:m,children:m?"Enviando...":"Enviar Feedback"})]})]}):null};var i6=Object.defineProperty,Df=Object.getOwnPropertySymbols,pA=Object.prototype.hasOwnProperty,gA=Object.prototype.propertyIsEnumerable,RT=(n,e,t)=>e in n?i6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Xu=(n,e)=>{for(var t in e||(e={}))pA.call(e,t)&&RT(n,t,e[t]);if(Df)for(var t of Df(e))gA.call(e,t)&&RT(n,t,e[t]);return n},$y=(n,e)=>{var t={};for(var i in n)pA.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Df)for(var i of Df(n))e.indexOf(i)<0&&gA.call(n,i)&&(t[i]=n[i]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Hs;(n=>{const e=class{constructor(d,p,y,E){if(this.version=d,this.errorCorrectionLevel=p,this.modules=[],this.isFunction=[],d<e.MIN_VERSION||d>e.MAX_VERSION)throw new RangeError("Version value out of range");if(E<-1||E>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let b=[];for(let I=0;I<this.size;I++)b.push(!1);for(let I=0;I<this.size;I++)this.modules.push(b.slice()),this.isFunction.push(b.slice());this.drawFunctionPatterns();const A=this.addEccAndInterleave(y);if(this.drawCodewords(A),E==-1){let I=1e9;for(let O=0;O<8;O++){this.applyMask(O),this.drawFormatBits(O);const D=this.getPenaltyScore();D<I&&(E=O,I=D),this.applyMask(O)}}l(0<=E&&E<=7),this.mask=E,this.applyMask(E),this.drawFormatBits(E),this.isFunction=[]}static encodeText(d,p){const y=n.QrSegment.makeSegments(d);return e.encodeSegments(y,p)}static encodeBinary(d,p){const y=n.QrSegment.makeBytes(d);return e.encodeSegments([y],p)}static encodeSegments(d,p,y=1,E=40,b=-1,A=!0){if(!(e.MIN_VERSION<=y&&y<=E&&E<=e.MAX_VERSION)||b<-1||b>7)throw new RangeError("Invalid value");let I,O;for(I=y;;I++){const F=e.getNumDataCodewords(I,p)*8,re=m.getTotalBits(d,I);if(re<=F){O=re;break}if(I>=E)throw new RangeError("Data too long")}for(const F of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])A&&O<=e.getNumDataCodewords(I,F)*8&&(p=F);let D=[];for(const F of d){i(F.mode.modeBits,4,D),i(F.numChars,F.mode.numCharCountBits(I),D);for(const re of F.getData())D.push(re)}l(D.length==O);const q=e.getNumDataCodewords(I,p)*8;l(D.length<=q),i(0,Math.min(4,q-D.length),D),i(0,(8-D.length%8)%8,D),l(D.length%8==0);for(let F=236;D.length<q;F^=253)i(F,8,D);let X=[];for(;X.length*8<D.length;)X.push(0);return D.forEach((F,re)=>X[re>>>3]|=F<<7-(re&7)),new e(I,p,X,b)}getModule(d,p){return 0<=d&&d<this.size&&0<=p&&p<this.size&&this.modules[p][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),p=d.length;for(let y=0;y<p;y++)for(let E=0;E<p;E++)y==0&&E==0||y==0&&E==p-1||y==p-1&&E==0||this.drawAlignmentPattern(d[y],d[E]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const p=this.errorCorrectionLevel.formatBits<<3|d;let y=p;for(let b=0;b<10;b++)y=y<<1^(y>>>9)*1335;const E=(p<<10|y)^21522;l(E>>>15==0);for(let b=0;b<=5;b++)this.setFunctionModule(8,b,s(E,b));this.setFunctionModule(8,7,s(E,6)),this.setFunctionModule(8,8,s(E,7)),this.setFunctionModule(7,8,s(E,8));for(let b=9;b<15;b++)this.setFunctionModule(14-b,8,s(E,b));for(let b=0;b<8;b++)this.setFunctionModule(this.size-1-b,8,s(E,b));for(let b=8;b<15;b++)this.setFunctionModule(8,this.size-15+b,s(E,b));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let y=0;y<12;y++)d=d<<1^(d>>>11)*7973;const p=this.version<<12|d;l(p>>>18==0);for(let y=0;y<18;y++){const E=s(p,y),b=this.size-11+y%3,A=Math.floor(y/3);this.setFunctionModule(b,A,E),this.setFunctionModule(A,b,E)}}drawFinderPattern(d,p){for(let y=-4;y<=4;y++)for(let E=-4;E<=4;E++){const b=Math.max(Math.abs(E),Math.abs(y)),A=d+E,I=p+y;0<=A&&A<this.size&&0<=I&&I<this.size&&this.setFunctionModule(A,I,b!=2&&b!=4)}}drawAlignmentPattern(d,p){for(let y=-2;y<=2;y++)for(let E=-2;E<=2;E++)this.setFunctionModule(d+E,p+y,Math.max(Math.abs(E),Math.abs(y))!=1)}setFunctionModule(d,p,y){this.modules[p][d]=y,this.isFunction[p][d]=!0}addEccAndInterleave(d){const p=this.version,y=this.errorCorrectionLevel;if(d.length!=e.getNumDataCodewords(p,y))throw new RangeError("Invalid argument");const E=e.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][p],b=e.ECC_CODEWORDS_PER_BLOCK[y.ordinal][p],A=Math.floor(e.getNumRawDataModules(p)/8),I=E-A%E,O=Math.floor(A/E);let D=[];const q=e.reedSolomonComputeDivisor(b);for(let F=0,re=0;F<E;F++){let le=d.slice(re,re+O-b+(F<I?0:1));re+=le.length;const me=e.reedSolomonComputeRemainder(le,q);F<I&&le.push(0),D.push(le.concat(me))}let X=[];for(let F=0;F<D[0].length;F++)D.forEach((re,le)=>{(F!=O-b||le>=I)&&X.push(re[F])});return l(X.length==A),X}drawCodewords(d){if(d.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let p=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let E=0;E<this.size;E++)for(let b=0;b<2;b++){const A=y-b,O=(y+1&2)==0?this.size-1-E:E;!this.isFunction[O][A]&&p<d.length*8&&(this.modules[O][A]=s(d[p>>>3],7-(p&7)),p++)}}l(p==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let p=0;p<this.size;p++)for(let y=0;y<this.size;y++){let E;switch(d){case 0:E=(y+p)%2==0;break;case 1:E=p%2==0;break;case 2:E=y%3==0;break;case 3:E=(y+p)%3==0;break;case 4:E=(Math.floor(y/3)+Math.floor(p/2))%2==0;break;case 5:E=y*p%2+y*p%3==0;break;case 6:E=(y*p%2+y*p%3)%2==0;break;case 7:E=((y+p)%2+y*p%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[p][y]&&E&&(this.modules[p][y]=!this.modules[p][y])}}getPenaltyScore(){let d=0;for(let b=0;b<this.size;b++){let A=!1,I=0,O=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[b][D]==A?(I++,I==5?d+=e.PENALTY_N1:I>5&&d++):(this.finderPenaltyAddHistory(I,O),A||(d+=this.finderPenaltyCountPatterns(O)*e.PENALTY_N3),A=this.modules[b][D],I=1);d+=this.finderPenaltyTerminateAndCount(A,I,O)*e.PENALTY_N3}for(let b=0;b<this.size;b++){let A=!1,I=0,O=[0,0,0,0,0,0,0];for(let D=0;D<this.size;D++)this.modules[D][b]==A?(I++,I==5?d+=e.PENALTY_N1:I>5&&d++):(this.finderPenaltyAddHistory(I,O),A||(d+=this.finderPenaltyCountPatterns(O)*e.PENALTY_N3),A=this.modules[D][b],I=1);d+=this.finderPenaltyTerminateAndCount(A,I,O)*e.PENALTY_N3}for(let b=0;b<this.size-1;b++)for(let A=0;A<this.size-1;A++){const I=this.modules[b][A];I==this.modules[b][A+1]&&I==this.modules[b+1][A]&&I==this.modules[b+1][A+1]&&(d+=e.PENALTY_N2)}let p=0;for(const b of this.modules)p=b.reduce((A,I)=>A+(I?1:0),p);const y=this.size*this.size,E=Math.ceil(Math.abs(p*20-y*10)/y)-1;return l(0<=E&&E<=9),d+=E*e.PENALTY_N4,l(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,p=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let y=[6];for(let E=this.size-7;y.length<d;E-=p)y.splice(1,0,E);return y}}static getNumRawDataModules(d){if(d<e.MIN_VERSION||d>e.MAX_VERSION)throw new RangeError("Version number out of range");let p=(16*d+128)*d+64;if(d>=2){const y=Math.floor(d/7)+2;p-=(25*y-10)*y-55,d>=7&&(p-=36)}return l(208<=p&&p<=29648),p}static getNumDataCodewords(d,p){return Math.floor(e.getNumRawDataModules(d)/8)-e.ECC_CODEWORDS_PER_BLOCK[p.ordinal][d]*e.NUM_ERROR_CORRECTION_BLOCKS[p.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let p=[];for(let E=0;E<d-1;E++)p.push(0);p.push(1);let y=1;for(let E=0;E<d;E++){for(let b=0;b<p.length;b++)p[b]=e.reedSolomonMultiply(p[b],y),b+1<p.length&&(p[b]^=p[b+1]);y=e.reedSolomonMultiply(y,2)}return p}static reedSolomonComputeRemainder(d,p){let y=p.map(E=>0);for(const E of d){const b=E^y.shift();y.push(0),p.forEach((A,I)=>y[I]^=e.reedSolomonMultiply(A,b))}return y}static reedSolomonMultiply(d,p){if(d>>>8||p>>>8)throw new RangeError("Byte out of range");let y=0;for(let E=7;E>=0;E--)y=y<<1^(y>>>7)*285,y^=(p>>>E&1)*d;return l(y>>>8==0),y}finderPenaltyCountPatterns(d){const p=d[1];l(p<=this.size*3);const y=p>0&&d[2]==p&&d[3]==p*3&&d[4]==p&&d[5]==p;return(y&&d[0]>=p*4&&d[6]>=p?1:0)+(y&&d[6]>=p*4&&d[0]>=p?1:0)}finderPenaltyTerminateAndCount(d,p,y){return d&&(this.finderPenaltyAddHistory(p,y),p=0),p+=this.size,this.finderPenaltyAddHistory(p,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(d,p){p[0]==0&&(d+=this.size),p.pop(),p.unshift(d)}};let t=e;t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=t;function i(d,p,y){if(p<0||p>31||d>>>p)throw new RangeError("Value out of range");for(let E=p-1;E>=0;E--)y.push(d>>>E&1)}function s(d,p){return(d>>>p&1)!=0}function l(d){if(!d)throw new Error("Assertion error")}const c=class{constructor(d,p,y){if(this.mode=d,this.numChars=p,this.bitData=y,p<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(d){let p=[];for(const y of d)i(y,8,p);return new c(c.Mode.BYTE,d.length,p)}static makeNumeric(d){if(!c.isNumeric(d))throw new RangeError("String contains non-numeric characters");let p=[];for(let y=0;y<d.length;){const E=Math.min(d.length-y,3);i(parseInt(d.substr(y,E),10),E*3+1,p),y+=E}return new c(c.Mode.NUMERIC,d.length,p)}static makeAlphanumeric(d){if(!c.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let p=[],y;for(y=0;y+2<=d.length;y+=2){let E=c.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y))*45;E+=c.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y+1)),i(E,11,p)}return y<d.length&&i(c.ALPHANUMERIC_CHARSET.indexOf(d.charAt(y)),6,p),new c(c.Mode.ALPHANUMERIC,d.length,p)}static makeSegments(d){return d==""?[]:c.isNumeric(d)?[c.makeNumeric(d)]:c.isAlphanumeric(d)?[c.makeAlphanumeric(d)]:[c.makeBytes(c.toUtf8ByteArray(d))]}static makeEci(d){let p=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)i(d,8,p);else if(d<16384)i(2,2,p),i(d,14,p);else if(d<1e6)i(6,3,p),i(d,21,p);else throw new RangeError("ECI assignment value out of range");return new c(c.Mode.ECI,0,p)}static isNumeric(d){return c.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return c.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,p){let y=0;for(const E of d){const b=E.mode.numCharCountBits(p);if(E.numChars>=1<<b)return 1/0;y+=4+b+E.bitData.length}return y}static toUtf8ByteArray(d){d=encodeURI(d);let p=[];for(let y=0;y<d.length;y++)d.charAt(y)!="%"?p.push(d.charCodeAt(y)):(p.push(parseInt(d.substr(y+1,2),16)),y+=2);return p}};let m=c;m.NUMERIC_REGEX=/^[0-9]*$/,m.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,m.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",n.QrSegment=m})(Hs||(Hs={}));(n=>{(e=>{const t=class{constructor(s,l){this.ordinal=s,this.formatBits=l}};let i=t;i.LOW=new t(0,1),i.MEDIUM=new t(1,0),i.QUARTILE=new t(2,3),i.HIGH=new t(3,2),e.Ecc=i})(n.QrCode||(n.QrCode={}))})(Hs||(Hs={}));(n=>{(e=>{const t=class{constructor(s,l){this.modeBits=s,this.numBitsCharCount=l}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};let i=t;i.NUMERIC=new t(1,[10,12,14]),i.ALPHANUMERIC=new t(2,[9,11,13]),i.BYTE=new t(4,[8,16,16]),i.KANJI=new t(8,[8,10,12]),i.ECI=new t(7,[0,0,0]),e.Mode=i})(n.QrSegment||(n.QrSegment={}))})(Hs||(Hs={}));var Qo=Hs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var yA={L:Qo.QrCode.Ecc.LOW,M:Qo.QrCode.Ecc.MEDIUM,Q:Qo.QrCode.Ecc.QUARTILE,H:Qo.QrCode.Ecc.HIGH},vA=128,_A="L",EA="#FFFFFF",bA="#000000",TA=!1,Yy=4,a6=.1;function wA(n,e=0){const t=[];return n.forEach(function(i,s){let l=null;i.forEach(function(c,m){if(!c&&l!==null){t.push(`M${l+e} ${s+e}h${m-l}v1H${l+e}z`),l=null;return}if(m===i.length-1){if(!c)return;l===null?t.push(`M${m+e},${s+e} h1v1H${m+e}z`):t.push(`M${l+e},${s+e} h${m+1-l}v1H${l+e}z`);return}c&&l===null&&(l=m)})}),t.join("")}function SA(n,e){return n.slice().map((t,i)=>i<e.y||i>=e.y+e.h?t:t.map((s,l)=>l<e.x||l>=e.x+e.w?s:!1))}function AA(n,e,t,i){if(i==null)return null;const s=t?Yy:0,l=n.length+s*2,c=Math.floor(e*a6),m=l/e,d=(i.width||c)*m,p=(i.height||c)*m,y=i.x==null?n.length/2-d/2:i.x*m,E=i.y==null?n.length/2-p/2:i.y*m;let b=null;if(i.excavate){let A=Math.floor(y),I=Math.floor(E),O=Math.ceil(d+y-A),D=Math.ceil(p+E-I);b={x:A,y:I,w:O,h:D}}return{x:y,y:E,h:p,w:d,excavation:b}}var s6=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function o6(n){const e=n,{value:t,size:i=vA,level:s=_A,bgColor:l=EA,fgColor:c=bA,includeMargin:m=TA,style:d,imageSettings:p}=e,y=$y(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),E=p==null?void 0:p.src,b=ft.useRef(null),A=ft.useRef(null),[I,O]=ft.useState(!1);ft.useEffect(()=>{if(b.current!=null){const X=b.current,F=X.getContext("2d");if(!F)return;let re=Qo.QrCode.encodeText(t,yA[s]).getModules();const le=m?Yy:0,me=re.length+le*2,V=AA(re,i,m,p),x=A.current,N=V!=null&&x!==null&&x.complete&&x.naturalHeight!==0&&x.naturalWidth!==0;N&&V.excavation!=null&&(re=SA(re,V.excavation));const k=window.devicePixelRatio||1;X.height=X.width=i*k;const L=i/me*k;F.scale(L,L),F.fillStyle=l,F.fillRect(0,0,me,me),F.fillStyle=c,s6?F.fill(new Path2D(wA(re,le))):re.forEach(function(B,P){B.forEach(function(Ke,at){Ke&&F.fillRect(at+le,P+le,1,1)})}),N&&F.drawImage(x,V.x+le,V.y+le,V.w,V.h)}}),ft.useEffect(()=>{O(!1)},[E]);const D=Xu({height:i,width:i},d);let q=null;return E!=null&&(q=ft.createElement("img",{src:E,key:E,style:{display:"none"},onLoad:()=>{O(!0)},ref:A})),ft.createElement(ft.Fragment,null,ft.createElement("canvas",Xu({style:D,height:i,width:i,ref:b},y)),q)}function l6(n){const e=n,{value:t,size:i=vA,level:s=_A,bgColor:l=EA,fgColor:c=bA,includeMargin:m=TA,imageSettings:d}=e,p=$y(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let y=Qo.QrCode.encodeText(t,yA[s]).getModules();const E=m?Yy:0,b=y.length+E*2,A=AA(y,i,m,d);let I=null;d!=null&&A!=null&&(A.excavation!=null&&(y=SA(y,A.excavation)),I=ft.createElement("image",{xlinkHref:d.src,height:A.h,width:A.w,x:A.x+E,y:A.y+E,preserveAspectRatio:"none"}));const O=wA(y,E);return ft.createElement("svg",Xu({height:i,width:i,viewBox:`0 0 ${b} ${b}`},p),ft.createElement("path",{fill:l,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),ft.createElement("path",{fill:c,d:O,shapeRendering:"crispEdges"}),I)}var u6=n=>{const e=n,{renderAs:t}=e,i=$y(e,["renderAs"]);return t==="svg"?ft.createElement(l6,Xu({},i)):ft.createElement(o6,Xu({},i))};const c6=()=>{const{id:n}=fl(),[e,t]=j.useState(null),[i,s]=j.useState(!0),l=on();if(j.useEffect(()=>{(async()=>{try{const d=Ft(tt,"reservations",n),p=await Wn(d);p.exists()&&t({id:p.id,...p.data()})}finally{s(!1)}})()},[n]),i)return _.jsx("h2",{children:"Cargando QR..."});if(!e)return _.jsx("h2",{children:"Reserva no encontrada."});const c=`https://llega-unimet.firebaseapp.com/admin-qr-verify?reservationId=${e.id}&verificationCode=${e.verificationCode}`;return _.jsxs("div",{style:{textAlign:"center",marginTop:40},children:[_.jsx("h2",{children:"QR de tu Reserva"}),_.jsx(u6,{value:c,size:220}),_.jsx("div",{style:{marginTop:20,wordBreak:"break-all"},children:c}),_.jsx("div",{style:{marginTop:20},children:_.jsx("button",{onClick:()=>l("/mis-reservas"),children:"Volver"})})]})},CT=()=>{const[n]=qg(),[e,t]=j.useState("Verificando...");return j.useEffect(()=>{const i=n.get("reservationId"),s=n.get("verificationCode");if(!i||!s){t("QR inválido.");return}(async()=>{const c=Ft(tt,"reservations",i),m=await Wn(c);if(!m.exists()){t("Reserva no encontrada.");return}m.data().verificationCode===s?t("Reserva válida ✅"):t("Código de verificación incorrecto ❌")})()},[n]),_.jsxs("div",{style:{textAlign:"center",marginTop:40},children:[_.jsx("h2",{children:"Verificación de Reserva"}),_.jsx("div",{style:{fontWeight:700,marginTop:10},children:e})]})};function RA(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=RA(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ud(){for(var n,e,t=0,i="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=RA(n))&&(i&&(i+=" "),i+=e);return i}const h6=(n,e,t,i)=>{if(t==="length"||t==="prototype"||t==="arguments"||t==="caller")return;const s=Object.getOwnPropertyDescriptor(n,t),l=Object.getOwnPropertyDescriptor(e,t);!f6(s,l)&&i||Object.defineProperty(n,t,l)},f6=function(n,e){return n===void 0||n.configurable||n.writable===e.writable&&n.enumerable===e.enumerable&&n.configurable===e.configurable&&(n.writable||n.value===e.value)},d6=(n,e)=>{const t=Object.getPrototypeOf(e);t!==Object.getPrototypeOf(n)&&Object.setPrototypeOf(n,t)},m6=(n,e)=>`/* Wrapped ${n}*/
${e}`,p6=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),g6=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),y6=(n,e,t)=>{const i=t===""?"":`with ${t.trim()}() `,s=m6.bind(null,i,e.toString());Object.defineProperty(s,"name",g6);const{writable:l,enumerable:c,configurable:m}=p6;Object.defineProperty(n,"toString",{value:s,writable:l,enumerable:c,configurable:m})};function v6(n,e,{ignoreNonConfigurable:t=!1}={}){const{name:i}=n;for(const s of Reflect.ownKeys(e))h6(n,e,s,t);return d6(n,e),y6(n,e,i),n}const _6=new WeakMap,IT=new WeakMap;function CA(n,{cacheKey:e,cache:t=new Map,maxAge:i}={}){if(i===0)return n;if(typeof i=="number"){if(i>2147483647)throw new TypeError("The `maxAge` option cannot exceed 2147483647.");if(i<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const s=function(...l){var y;const c=e?e(l):l[0],m=t.get(c);if(m)return m.data;const d=n.apply(this,l),p=typeof i=="function"?i(...l):i;if(t.set(c,{data:d,maxAge:p?Date.now()+p:Number.POSITIVE_INFINITY}),p&&p>0&&p!==Number.POSITIVE_INFINITY){const E=setTimeout(()=>{t.delete(c)},p);(y=E.unref)==null||y.call(E);const b=IT.get(n)??new Set;b.add(E),IT.set(n,b)}return d};return v6(s,n,{ignoreNonConfigurable:!0}),_6.set(s,t),s}function E6(n){return typeof n=="string"}function b6(n,e,t){return t.indexOf(n)===e}function T6(n){return n.toLowerCase()===n}function xT(n){return n.indexOf(",")===-1?n:n.split(",")}function bg(n){if(!n)return n;if(n==="C"||n==="posix"||n==="POSIX")return"en-US";if(n.indexOf(".")!==-1){var e=n.split(".")[0],t=e===void 0?"":e;return bg(t)}if(n.indexOf("@")!==-1){var i=n.split("@")[0],t=i===void 0?"":i;return bg(t)}if(n.indexOf("-")===-1||!T6(n))return n;var s=n.split("-"),l=s[0],c=s[1],m=c===void 0?"":c;return"".concat(l,"-").concat(m.toUpperCase())}function w6(n){var e=n===void 0?{}:n,t=e.useFallbackLocale,i=t===void 0?!0:t,s=e.fallbackLocale,l=s===void 0?"en-US":s,c=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],d=[],p=0,y=m;p<y.length;p++){var E=y[p];d=d.concat(xT(E))}var b=navigator.language,A=b&&xT(b);c=c.concat(d,A)}return i&&c.push(l),c.filter(E6).map(bg).filter(b6)}var S6=CA(w6,{cacheKey:JSON.stringify});function A6(n){return S6(n)[0]||null}var IA=CA(A6,{cacheKey:JSON.stringify});function ra(n,e,t){return function(s,l=t){const c=n(s)+l;return e(c)}}function mc(n){return function(t){return new Date(n(t).getTime()-1)}}function pc(n,e){return function(i){return[n(i),e(i)]}}function Ot(n){if(n instanceof Date)return n.getFullYear();if(typeof n=="number")return n;const e=Number.parseInt(n,10);if(typeof n=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${n}.`)}function Za(n){if(n instanceof Date)return n.getMonth();throw new Error(`Failed to get month from date: ${n}.`)}function cd(n){if(n instanceof Date)return n.getDate();throw new Error(`Failed to get year from date: ${n}.`)}function bl(n){const e=Ot(n),t=e+(-e+1)%100,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const R6=ra(Ot,bl,-100),xA=ra(Ot,bl,100),Ky=mc(xA),C6=ra(Ot,Ky,-100),DA=pc(bl,Ky);function Ja(n){const e=Ot(n),t=e+(-e+1)%10,i=new Date;return i.setFullYear(t,0,1),i.setHours(0,0,0,0),i}const NA=ra(Ot,Ja,-10),Qy=ra(Ot,Ja,10),hd=mc(Qy),OA=ra(Ot,hd,-10),PA=pc(Ja,hd);function Tl(n){const e=Ot(n),t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const MA=ra(Ot,Tl,-1),Wy=ra(Ot,Tl,1),fd=mc(Wy),kA=ra(Ot,fd,-1),I6=pc(Tl,fd);function Xy(n,e){return function(i,s=e){const l=Ot(i),c=Za(i)+s,m=new Date;return m.setFullYear(l,c,1),m.setHours(0,0,0,0),n(m)}}function Qs(n){const e=Ot(n),t=Za(n),i=new Date;return i.setFullYear(e,t,1),i.setHours(0,0,0,0),i}const VA=Xy(Qs,-1),Zy=Xy(Qs,1),gc=mc(Zy),jA=Xy(gc,-1),x6=pc(Qs,gc);function D6(n,e){return function(i,s=e){const l=Ot(i),c=Za(i),m=cd(i)+s,d=new Date;return d.setFullYear(l,c,m),d.setHours(0,0,0,0),n(d)}}function yc(n){const e=Ot(n),t=Za(n),i=cd(n),s=new Date;return s.setFullYear(e,t,i),s.setHours(0,0,0,0),s}const N6=D6(yc,1),Jy=mc(N6),O6=pc(yc,Jy);function LA(n){return cd(gc(n))}var Cn={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},P6={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},ev=[0,1,2,3,4,5,6],Bp=new Map;function M6(n){return function(t,i){var s=t||IA();Bp.has(s)||Bp.set(s,new Map);var l=Bp.get(s);return l.has(n)||l.set(n,new Intl.DateTimeFormat(s||void 0,n).format),l.get(n)(i)}}function k6(n){var e=new Date(n);return new Date(e.setHours(12))}function Ws(n){return function(e,t){return M6(n)(e,k6(t))}}var V6={day:"numeric"},j6={day:"numeric",month:"long",year:"numeric"},L6={month:"long"},U6={month:"long",year:"numeric"},B6={weekday:"short"},z6={weekday:"long"},q6={year:"numeric"},H6=Ws(V6),F6=Ws(j6),G6=Ws(L6),UA=Ws(U6),$6=Ws(B6),Y6=Ws(z6),dd=Ws(q6),K6=ev[0],Q6=ev[5],DT=ev[6];function Zu(n,e){e===void 0&&(e=Cn.ISO_8601);var t=n.getDay();switch(e){case Cn.ISO_8601:return(t+6)%7;case Cn.ISLAMIC:return(t+1)%7;case Cn.HEBREW:case Cn.GREGORY:return t;default:throw new Error("Unsupported calendar type.")}}function W6(n){var e=bl(n);return Ot(e)}function X6(n){var e=Ja(n);return Ot(e)}function Tg(n,e){e===void 0&&(e=Cn.ISO_8601);var t=Ot(n),i=Za(n),s=n.getDate()-Zu(n,e);return new Date(t,i,s)}function Z6(n,e){e===void 0&&(e=Cn.ISO_8601);var t=e===Cn.GREGORY?Cn.GREGORY:Cn.ISO_8601,i=Tg(n,e),s=Ot(n)+1,l,c;do l=new Date(s,0,t===Cn.ISO_8601?4:1),c=Tg(l,e),s-=1;while(n<c);return Math.round((i.getTime()-c.getTime())/(864e5*7))+1}function Vs(n,e){switch(n){case"century":return bl(e);case"decade":return Ja(e);case"year":return Tl(e);case"month":return Qs(e);case"day":return yc(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function J6(n,e){switch(n){case"century":return R6(e);case"decade":return NA(e);case"year":return MA(e);case"month":return VA(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function BA(n,e){switch(n){case"century":return xA(e);case"decade":return Qy(e);case"year":return Wy(e);case"month":return Zy(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function eV(n,e){switch(n){case"decade":return NA(e,-100);case"year":return MA(e,-10);case"month":return VA(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function tV(n,e){switch(n){case"decade":return Qy(e,100);case"year":return Wy(e,10);case"month":return Zy(e,12);default:throw new Error("Invalid rangeType: ".concat(n))}}function zA(n,e){switch(n){case"century":return Ky(e);case"decade":return hd(e);case"year":return fd(e);case"month":return gc(e);case"day":return Jy(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function nV(n,e){switch(n){case"century":return C6(e);case"decade":return OA(e);case"year":return kA(e);case"month":return jA(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function rV(n,e){switch(n){case"decade":return OA(e,-100);case"year":return kA(e,-10);case"month":return jA(e,-12);default:throw new Error("Invalid rangeType: ".concat(n))}}function NT(n,e){switch(n){case"century":return DA(e);case"decade":return PA(e);case"year":return I6(e);case"month":return x6(e);case"day":return O6(e);default:throw new Error("Invalid rangeType: ".concat(n))}}function iV(n,e,t){var i=[e,t].sort(function(s,l){return s.getTime()-l.getTime()});return[Vs(n,i[0]),zA(n,i[1])]}function qA(n,e,t){return t.map(function(i){return(e||dd)(n,i)}).join(" – ")}function aV(n,e,t){return qA(n,e,DA(t))}function HA(n,e,t){return qA(n,e,PA(t))}function sV(n){return n.getDay()===new Date().getDay()}function FA(n,e){e===void 0&&(e=Cn.ISO_8601);var t=n.getDay();switch(e){case Cn.ISLAMIC:case Cn.HEBREW:return t===Q6||t===DT;case Cn.ISO_8601:case Cn.GREGORY:return t===DT||t===K6;default:throw new Error("Unsupported calendar type.")}}var fi="react-calendar__navigation";function oV(n){var e=n.activeStartDate,t=n.drillUp,i=n.formatMonthYear,s=i===void 0?UA:i,l=n.formatYear,c=l===void 0?dd:l,m=n.locale,d=n.maxDate,p=n.minDate,y=n.navigationAriaLabel,E=y===void 0?"":y,b=n.navigationAriaLive,A=n.navigationLabel,I=n.next2AriaLabel,O=I===void 0?"":I,D=n.next2Label,q=D===void 0?"»":D,X=n.nextAriaLabel,F=X===void 0?"":X,re=n.nextLabel,le=re===void 0?"›":re,me=n.prev2AriaLabel,V=me===void 0?"":me,x=n.prev2Label,N=x===void 0?"«":x,k=n.prevAriaLabel,L=k===void 0?"":k,B=n.prevLabel,P=B===void 0?"‹":B,Ke=n.setActiveStartDate,at=n.showDoubleView,J=n.view,ce=n.views,_e=ce.indexOf(J)>0,Q=J!=="century",R=J6(J,e),z=Q?eV(J,e):void 0,ee=BA(J,e),Y=Q?tV(J,e):void 0,ue=function(){if(R.getFullYear()<0)return!0;var Oe=nV(J,e);return p&&p>=Oe}(),fe=Q&&function(){if(z.getFullYear()<0)return!0;var Oe=rV(J,e);return p&&p>=Oe}(),pe=d&&d<ee,Be=Q&&d&&d<Y;function Te(){Ke(R,"prev")}function nt(){Ke(z,"prev2")}function Vt(){Ke(ee,"next")}function Ye(){Ke(Y,"next2")}function lt(Oe){var ut=function(){switch(J){case"century":return aV(m,c,Oe);case"decade":return HA(m,c,Oe);case"year":return c(m,Oe);case"month":return s(m,Oe);default:throw new Error("Invalid view: ".concat(J,"."))}}();return A?A({date:Oe,label:ut,locale:m||IA()||void 0,view:J}):ut}function Pt(){var Oe="".concat(fi,"__label");return _.jsxs("button",{"aria-label":E,"aria-live":b,className:Oe,disabled:!_e,onClick:t,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(Oe,"__labelText ").concat(Oe,"__labelText--from"),children:lt(e)}),at?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(Oe,"__divider"),children:" – "}),_.jsx("span",{className:"".concat(Oe,"__labelText ").concat(Oe,"__labelText--to"),children:lt(ee)})]}):null]})}return _.jsxs("div",{className:fi,children:[N!==null&&Q?_.jsx("button",{"aria-label":V,className:"".concat(fi,"__arrow ").concat(fi,"__prev2-button"),disabled:fe,onClick:nt,type:"button",children:N}):null,P!==null&&_.jsx("button",{"aria-label":L,className:"".concat(fi,"__arrow ").concat(fi,"__prev-button"),disabled:ue,onClick:Te,type:"button",children:P}),Pt(),le!==null&&_.jsx("button",{"aria-label":F,className:"".concat(fi,"__arrow ").concat(fi,"__next-button"),disabled:pe,onClick:Vt,type:"button",children:le}),q!==null&&Q?_.jsx("button",{"aria-label":O,className:"".concat(fi,"__arrow ").concat(fi,"__next2-button"),disabled:Be,onClick:Ye,type:"button",children:q}):null]})}var Wo=function(){return Wo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Wo.apply(this,arguments)},lV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function OT(n){return"".concat(n,"%")}function tv(n){var e=n.children,t=n.className,i=n.count,s=n.direction,l=n.offset,c=n.style,m=n.wrap,d=lV(n,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",Wo({className:t,style:Wo({display:"flex",flexDirection:s,flexWrap:m?"wrap":"nowrap"},c)},d,{children:j.Children.map(e,function(p,y){var E=l&&y===0?OT(100*l/i):null;return j.cloneElement(p,Wo(Wo({},p.props),{style:{flexBasis:OT(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:E,marginInlineStart:E,marginInlineEnd:0}}))})}))}function uV(n,e,t){return e&&e>n?e:t&&t<n?t:n}function Ju(n,e){return e[0]<=n&&e[1]>=n}function cV(n,e){return n[0]<=e[0]&&n[1]>=e[1]}function GA(n,e){return Ju(n[0],e)||Ju(n[1],e)}function PT(n,e,t){var i=GA(e,n),s=[];if(i){s.push(t);var l=Ju(n[0],e),c=Ju(n[1],e);l&&s.push("".concat(t,"Start")),c&&s.push("".concat(t,"End")),l&&c&&s.push("".concat(t,"BothEnds"))}return s}function hV(n){return Array.isArray(n)?n[0]!==null&&n[1]!==null:n!==null}function fV(n){if(!n)throw new Error("args is required");var e=n.value,t=n.date,i=n.hover,s="react-calendar__tile",l=[s];if(!t)return l;var c=new Date,m=function(){if(Array.isArray(t))return t;var A=n.dateType;if(!A)throw new Error("dateType is required when date is not an array of two dates");return NT(A,t)}();if(Ju(c,m)&&l.push("".concat(s,"--now")),!e||!hV(e))return l;var d=function(){if(Array.isArray(e))return e;var A=n.valueType;if(!A)throw new Error("valueType is required when value is not an array of two dates");return NT(A,e)}();cV(d,m)?l.push("".concat(s,"--active")):GA(d,m)&&l.push("".concat(s,"--hasActive"));var p=PT(d,m,"".concat(s,"--range"));l.push.apply(l,p);var y=Array.isArray(e)?e:[e];if(i&&y.length===1){var E=i>d[0]?[d[0],i]:[i,d[0]],b=PT(E,m,"".concat(s,"--hover"));l.push.apply(l,b)}return l}function md(n){for(var e=n.className,t=n.count,i=t===void 0?3:t,s=n.dateTransform,l=n.dateType,c=n.end,m=n.hover,d=n.offset,p=n.renderTile,y=n.start,E=n.step,b=E===void 0?1:E,A=n.value,I=n.valueType,O=[],D=y;D<=c;D+=b){var q=s(D);O.push(p({classes:fV({date:q,dateType:l,hover:m,value:A,valueType:I}),date:q}))}return _.jsx(tv,{className:e,count:i,offset:d,wrap:!0,children:O})}function pd(n){var e=n.activeStartDate,t=n.children,i=n.classes,s=n.date,l=n.formatAbbr,c=n.locale,m=n.maxDate,d=n.maxDateTransform,p=n.minDate,y=n.minDateTransform,E=n.onClick,b=n.onMouseOver,A=n.style,I=n.tileClassName,O=n.tileContent,D=n.tileDisabled,q=n.view,X=j.useMemo(function(){var re={activeStartDate:e,date:s,view:q};return typeof I=="function"?I(re):I},[e,s,I,q]),F=j.useMemo(function(){var re={activeStartDate:e,date:s,view:q};return typeof O=="function"?O(re):O},[e,s,O,q]);return _.jsxs("button",{className:ud(i,X),disabled:p&&y(p)>s||m&&d(m)<s||(D==null?void 0:D({activeStartDate:e,date:s,view:q})),onClick:E?function(re){return E(s,re)}:void 0,onFocus:b?function(){return b(s)}:void 0,onMouseOver:b?function(){return b(s)}:void 0,style:A,type:"button",children:[l?_.jsx("abbr",{"aria-label":l(c,s),children:t}):t,F]})}var wg=function(){return wg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},wg.apply(this,arguments)},dV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},MT="react-calendar__century-view__decades__decade";function mV(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentCentury,s=n.formatYear,l=s===void 0?dd:s,c=dV(n,["classes","currentCentury","formatYear"]),m=c.date,d=c.locale,p=[];return t&&p.push.apply(p,t),p.push(MT),bl(m).getFullYear()!==i&&p.push("".concat(MT,"--neighboringCentury")),_.jsx(pd,wg({},c,{classes:p,maxDateTransform:hd,minDateTransform:Ja,view:"century",children:HA(d,l,m)}))}var Sg=function(){return Sg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Sg.apply(this,arguments)},kT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function pV(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringCentury,s=n.value,l=n.valueType,c=kT(n,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=W6(e),d=m+(i?119:99);return _.jsx(md,{className:"react-calendar__century-view__decades",dateTransform:Ja,dateType:"decade",end:d,hover:t,renderTile:function(p){var y=p.date,E=kT(p,["date"]);return _.jsx(mV,Sg({},c,E,{activeStartDate:e,currentCentury:m,date:y}),y.getTime())},start:m,step:10,value:s,valueType:l})}var Ag=function(){return Ag=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ag.apply(this,arguments)};function gV(n){function e(){return _.jsx(pV,Ag({},n))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var Rg=function(){return Rg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Rg.apply(this,arguments)},yV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},VT="react-calendar__decade-view__years__year";function vV(n){var e=n.classes,t=e===void 0?[]:e,i=n.currentDecade,s=n.formatYear,l=s===void 0?dd:s,c=yV(n,["classes","currentDecade","formatYear"]),m=c.date,d=c.locale,p=[];return t&&p.push.apply(p,t),p.push(VT),Ja(m).getFullYear()!==i&&p.push("".concat(VT,"--neighboringDecade")),_.jsx(pd,Rg({},c,{classes:p,maxDateTransform:fd,minDateTransform:Tl,view:"decade",children:l(d,m)}))}var Cg=function(){return Cg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Cg.apply(this,arguments)},jT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function _V(n){var e=n.activeStartDate,t=n.hover,i=n.showNeighboringDecade,s=n.value,l=n.valueType,c=jT(n,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=X6(e),d=m+(i?11:9);return _.jsx(md,{className:"react-calendar__decade-view__years",dateTransform:Tl,dateType:"year",end:d,hover:t,renderTile:function(p){var y=p.date,E=jT(p,["date"]);return _.jsx(vV,Cg({},c,E,{activeStartDate:e,currentDecade:m,date:y}),y.getTime())},start:m,value:s,valueType:l})}var Ig=function(){return Ig=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ig.apply(this,arguments)};function EV(n){function e(){return _.jsx(_V,Ig({},n))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var xg=function(){return xg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},xg.apply(this,arguments)},bV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},LT=function(n,e,t){if(t||arguments.length===2)for(var i=0,s=e.length,l;i<s;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return n.concat(l||Array.prototype.slice.call(e))},TV="react-calendar__year-view__months__month";function wV(n){var e=n.classes,t=e===void 0?[]:e,i=n.formatMonth,s=i===void 0?G6:i,l=n.formatMonthYear,c=l===void 0?UA:l,m=bV(n,["classes","formatMonth","formatMonthYear"]),d=m.date,p=m.locale;return _.jsx(pd,xg({},m,{classes:LT(LT([],t,!0),[TV],!1),formatAbbr:c,maxDateTransform:gc,minDateTransform:Qs,view:"year",children:s(p,d)}))}var Dg=function(){return Dg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Dg.apply(this,arguments)},UT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function SV(n){var e=n.activeStartDate,t=n.hover,i=n.value,s=n.valueType,l=UT(n,["activeStartDate","hover","value","valueType"]),c=0,m=11,d=Ot(e);return _.jsx(md,{className:"react-calendar__year-view__months",dateTransform:function(p){var y=new Date;return y.setFullYear(d,p,1),Qs(y)},dateType:"month",end:m,hover:t,renderTile:function(p){var y=p.date,E=UT(p,["date"]);return _.jsx(wV,Dg({},l,E,{activeStartDate:e,date:y}),y.getTime())},start:c,value:i,valueType:s})}var Ng=function(){return Ng=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Ng.apply(this,arguments)};function AV(n){function e(){return _.jsx(SV,Ng({},n))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var Og=function(){return Og=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Og.apply(this,arguments)},RV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},zp="react-calendar__month-view__days__day";function CV(n){var e=n.calendarType,t=n.classes,i=t===void 0?[]:t,s=n.currentMonthIndex,l=n.formatDay,c=l===void 0?H6:l,m=n.formatLongDate,d=m===void 0?F6:m,p=RV(n,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),y=p.date,E=p.locale,b=[];return i&&b.push.apply(b,i),b.push(zp),FA(y,e)&&b.push("".concat(zp,"--weekend")),y.getMonth()!==s&&b.push("".concat(zp,"--neighboringMonth")),_.jsx(pd,Og({},p,{classes:b,formatAbbr:d,maxDateTransform:Jy,minDateTransform:yc,view:"month",children:c(E,y)}))}var Pg=function(){return Pg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Pg.apply(this,arguments)},BT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function IV(n){var e=n.activeStartDate,t=n.calendarType,i=n.hover,s=n.showFixedNumberOfWeeks,l=n.showNeighboringMonth,c=n.value,m=n.valueType,d=BT(n,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),p=Ot(e),y=Za(e),E=s||l,b=Zu(e,t),A=E?0:b,I=(E?-b:0)+1,O=function(){if(s)return I+6*7-1;var D=LA(e);if(l){var q=new Date;q.setFullYear(p,y,D),q.setHours(0,0,0,0);var X=7-Zu(q,t)-1;return D+X}return D}();return _.jsx(md,{className:"react-calendar__month-view__days",count:7,dateTransform:function(D){var q=new Date;return q.setFullYear(p,y,D),yc(q)},dateType:"day",hover:i,end:O,renderTile:function(D){var q=D.date,X=BT(D,["date"]);return _.jsx(CV,Pg({},d,X,{activeStartDate:e,calendarType:t,currentMonthIndex:y,date:q}),q.getTime())},offset:A,start:I,value:c,valueType:m})}var $A="react-calendar__month-view__weekdays",qp="".concat($A,"__weekday");function xV(n){for(var e=n.calendarType,t=n.formatShortWeekday,i=t===void 0?$6:t,s=n.formatWeekday,l=s===void 0?Y6:s,c=n.locale,m=n.onMouseLeave,d=new Date,p=Qs(d),y=Ot(p),E=Za(p),b=[],A=1;A<=7;A+=1){var I=new Date(y,E,A-Zu(p,e)),O=l(c,I);b.push(_.jsx("div",{className:ud(qp,sV(I)&&"".concat(qp,"--current"),FA(I,e)&&"".concat(qp,"--weekend")),children:_.jsx("abbr",{"aria-label":O,title:O,children:i(c,I).replace(".","")})},A))}return _.jsx(tv,{className:$A,count:7,onFocus:m,onMouseOver:m,children:b})}var Nf=function(){return Nf=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Nf.apply(this,arguments)},zT=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t},qT="react-calendar__tile";function DV(n){var e=n.onClickWeekNumber,t=n.weekNumber,i=_.jsx("span",{children:t});if(e){var s=n.date,l=n.onClickWeekNumber,c=n.weekNumber,m=zT(n,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",Nf({},m,{className:qT,onClick:function(d){return l(c,s,d)},type:"button",children:i}))}else{n.date,n.onClickWeekNumber,n.weekNumber;var m=zT(n,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",Nf({},m,{className:qT,children:i}))}}function NV(n){var e=n.activeStartDate,t=n.calendarType,i=n.onClickWeekNumber,s=n.onMouseLeave,l=n.showFixedNumberOfWeeks,c=function(){if(l)return 6;var p=LA(e),y=Zu(e,t),E=p-(7-y);return 1+Math.ceil(E/7)}(),m=function(){for(var p=Ot(e),y=Za(e),E=cd(e),b=[],A=0;A<c;A+=1)b.push(Tg(new Date(p,y,E+A*7),t));return b}(),d=m.map(function(p){return Z6(p,t)});return _.jsx(tv,{className:"react-calendar__month-view__weekNumbers",count:c,direction:"column",onFocus:s,onMouseOver:s,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:d.map(function(p,y){var E=m[y];if(!E)throw new Error("date is not defined");return _.jsx(DV,{date:E,onClickWeekNumber:i,weekNumber:p},p)})})}var Mg=function(){return Mg=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Mg.apply(this,arguments)},OV=function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t};function PV(n){if(n)for(var e=0,t=Object.entries(P6);e<t.length;e++){var i=t[e],s=i[0],l=i[1];if(l.includes(n))return s}return Cn.ISO_8601}function MV(n){var e=n.activeStartDate,t=n.locale,i=n.onMouseLeave,s=n.showFixedNumberOfWeeks,l=n.calendarType,c=l===void 0?PV(t):l,m=n.formatShortWeekday,d=n.formatWeekday,p=n.onClickWeekNumber,y=n.showWeekNumbers,E=OV(n,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function b(){return _.jsx(xV,{calendarType:c,formatShortWeekday:m,formatWeekday:d,locale:t,onMouseLeave:i})}function A(){return y?_.jsx(NV,{activeStartDate:e,calendarType:c,onClickWeekNumber:p,onMouseLeave:i,showFixedNumberOfWeeks:s}):null}function I(){return _.jsx(IV,Mg({calendarType:c},E))}var O="react-calendar__month-view";return _.jsx("div",{className:ud(O,y?"".concat(O,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[A(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[b(),I()]})]})})}var Xo=function(){return Xo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Xo.apply(this,arguments)},Hh="react-calendar",af=["century","decade","year","month"],kV=["decade","year","month","day"],nv=new Date;nv.setFullYear(1,0,1);nv.setHours(0,0,0,0);var VV=new Date(864e13);function Nu(n){return n instanceof Date?n:new Date(n)}function YA(n,e){return af.slice(af.indexOf(n),af.indexOf(e)+1)}function jV(n,e,t){var i=YA(e,t);return i.indexOf(n)!==-1}function rv(n,e,t){return n&&jV(n,e,t)?n:t}function KA(n){var e=af.indexOf(n);return kV[e]}function LV(n,e){var t=Array.isArray(n)?n[e]:n;if(!t)return null;var i=Nu(t);if(Number.isNaN(i.getTime()))throw new Error("Invalid date: ".concat(n));return i}function QA(n,e){var t=n.value,i=n.minDate,s=n.maxDate,l=n.maxDetail,c=LV(t,e);if(!c)return null;var m=KA(l),d=function(){switch(e){case 0:return Vs(m,c);case 1:return zA(m,c);default:throw new Error("Invalid index value: ".concat(e))}}();return uV(d,i,s)}var iv=function(n){return QA(n,0)},WA=function(n){return QA(n,1)},UV=function(n){return[iv,WA].map(function(e){return e(n)})};function XA(n){var e=n.maxDate,t=n.maxDetail,i=n.minDate,s=n.minDetail,l=n.value,c=n.view,m=rv(c,s,t),d=iv({value:l,minDate:i,maxDate:e,maxDetail:t})||new Date;return Vs(m,d)}function BV(n){var e=n.activeStartDate,t=n.defaultActiveStartDate,i=n.defaultValue,s=n.defaultView,l=n.maxDate,c=n.maxDetail,m=n.minDate,d=n.minDetail,p=n.value,y=n.view,E=rv(y,d,c),b=e||t;return b?Vs(E,b):XA({maxDate:l,maxDetail:c,minDate:m,minDetail:d,value:p||i,view:y||s})}function Hp(n){return n&&(!Array.isArray(n)||n.length===1)}function Fh(n,e){return n instanceof Date&&e instanceof Date&&n.getTime()===e.getTime()}var zV=j.forwardRef(function(e,t){var i=e.activeStartDate,s=e.allowPartialRange,l=e.calendarType,c=e.className,m=e.defaultActiveStartDate,d=e.defaultValue,p=e.defaultView,y=e.formatDay,E=e.formatLongDate,b=e.formatMonth,A=e.formatMonthYear,I=e.formatShortWeekday,O=e.formatWeekday,D=e.formatYear,q=e.goToRangeStartOnSelect,X=q===void 0?!0:q,F=e.inputRef,re=e.locale,le=e.maxDate,me=le===void 0?VV:le,V=e.maxDetail,x=V===void 0?"month":V,N=e.minDate,k=N===void 0?nv:N,L=e.minDetail,B=L===void 0?"century":L,P=e.navigationAriaLabel,Ke=e.navigationAriaLive,at=e.navigationLabel,J=e.next2AriaLabel,ce=e.next2Label,_e=e.nextAriaLabel,Q=e.nextLabel,R=e.onActiveStartDateChange,z=e.onChange,ee=e.onClickDay,Y=e.onClickDecade,ue=e.onClickMonth,fe=e.onClickWeekNumber,pe=e.onClickYear,Be=e.onDrillDown,Te=e.onDrillUp,nt=e.onViewChange,Vt=e.prev2AriaLabel,Ye=e.prev2Label,lt=e.prevAriaLabel,Pt=e.prevLabel,Oe=e.returnValue,ut=Oe===void 0?"start":Oe,Qe=e.selectRange,ct=e.showDoubleView,ln=e.showFixedNumberOfWeeks,wt=e.showNavigation,At=wt===void 0?!0:wt,et=e.showNeighboringCentury,ze=e.showNeighboringDecade,st=e.showNeighboringMonth,Et=st===void 0?!0:st,Rt=e.showWeekNumbers,de=e.tileClassName,Fe=e.tileContent,Me=e.tileDisabled,ke=e.value,Bt=e.view,Xn=j.useState(m),Nr=Xn[0],qn=Xn[1],Zn=j.useState(null),Dn=Zn[0],_i=Zn[1],Wr=j.useState(Array.isArray(d)?d.map(function(Ie){return Ie!==null?Nu(Ie):null}):d!=null?Nu(d):null),Ei=Wr[0],es=Wr[1],ia=j.useState(p),Or=ia[0],fr=ia[1],Gt=i||Nr||BV({activeStartDate:i,defaultActiveStartDate:m,defaultValue:d,defaultView:p,maxDate:me,maxDetail:x,minDate:k,minDetail:B,value:ke,view:Bt}),Ct=function(){var Ie=function(){return Qe&&Hp(Ei)?Ei:ke!==void 0?ke:Ei}();return Ie?Array.isArray(Ie)?Ie.map(function(Le){return Le!==null?Nu(Le):null}):Ie!==null?Nu(Ie):null:null}(),Xr=KA(x),rt=rv(Bt||Or,B,x),gn=YA(B,x),Zr=Qe?Dn:null,aa=gn.indexOf(rt)<gn.length-1,bt=gn.indexOf(rt)>0,jt=j.useCallback(function(Ie){var Le=function(){switch(ut){case"start":return iv;case"end":return WA;case"range":return UV;default:throw new Error("Invalid returnValue.")}}();return Le({maxDate:me,maxDetail:x,minDate:k,value:Ie})},[me,x,k,ut]),xt=j.useCallback(function(Ie,Le){qn(Ie);var Ne={action:Le,activeStartDate:Ie,value:Ct,view:rt};R&&!Fh(Gt,Ie)&&R(Ne)},[Gt,R,Ct,rt]),yn=j.useCallback(function(Ie,Le){var Ne=function(){switch(rt){case"century":return Y;case"decade":return pe;case"year":return ue;case"month":return ee;default:throw new Error("Invalid view: ".concat(rt,"."))}}();Ne&&Ne(Ie,Le)},[ee,Y,ue,pe,rt]),bi=j.useCallback(function(Ie,Le){if(aa){yn(Ie,Le);var Ne=gn[gn.indexOf(rt)+1];if(!Ne)throw new Error("Attempted to drill down from the lowest view.");qn(Ie),fr(Ne);var vn={action:"drillDown",activeStartDate:Ie,value:Ct,view:Ne};R&&!Fh(Gt,Ie)&&R(vn),nt&&rt!==Ne&&nt(vn),Be&&Be(vn)}},[Gt,aa,R,yn,Be,nt,Ct,rt,gn]),ts=j.useCallback(function(){if(bt){var Ie=gn[gn.indexOf(rt)-1];if(!Ie)throw new Error("Attempted to drill up from the highest view.");var Le=Vs(Ie,Gt);qn(Le),fr(Ie);var Ne={action:"drillUp",activeStartDate:Le,value:Ct,view:Ie};R&&!Fh(Gt,Le)&&R(Ne),nt&&rt!==Ie&&nt(Ne),Te&&Te(Ne)}},[Gt,bt,R,Te,nt,Ct,rt,gn]),dr=j.useCallback(function(Ie,Le){var Ne=Ct;yn(Ie,Le);var vn=Qe&&!Hp(Ne),un;if(Qe)if(vn)un=Vs(Xr,Ie);else{if(!Ne)throw new Error("previousValue is required");if(Array.isArray(Ne))throw new Error("previousValue must not be an array");un=iV(Xr,Ne,Ie)}else un=jt(Ie);var jn=!Qe||vn||X?XA({maxDate:me,maxDetail:x,minDate:k,minDetail:B,value:un,view:rt}):null;Le.persist(),qn(jn),es(un);var Vr={action:"onChange",activeStartDate:jn,value:un,view:rt};if(R&&!Fh(Gt,jn)&&R(Vr),z)if(Qe){var Zs=Hp(un);if(!Zs)z(un||null,Le);else if(s){if(Array.isArray(un))throw new Error("value must not be an array");z([un||null,null],Le)}}else z(un||null,Le)},[Gt,s,jt,X,me,x,k,B,R,z,yn,Qe,Ct,Xr,rt]);function Xs(Ie){_i(Ie)}function Pr(){_i(null)}j.useImperativeHandle(t,function(){return{activeStartDate:Gt,drillDown:bi,drillUp:ts,onChange:dr,setActiveStartDate:xt,value:Ct,view:rt}},[Gt,bi,ts,dr,xt,Ct,rt]);function Mr(Ie){var Le=Ie?BA(rt,Gt):Vs(rt,Gt),Ne=aa?bi:dr,vn={activeStartDate:Le,hover:Zr,locale:re,maxDate:me,minDate:k,onClick:Ne,onMouseOver:Qe?Xs:void 0,tileClassName:de,tileContent:Fe,tileDisabled:Me,value:Ct,valueType:Xr};switch(rt){case"century":return _.jsx(gV,Xo({formatYear:D,showNeighboringCentury:et},vn));case"decade":return _.jsx(EV,Xo({formatYear:D,showNeighboringDecade:ze},vn));case"year":return _.jsx(AV,Xo({formatMonth:b,formatMonthYear:A},vn));case"month":return _.jsx(MV,Xo({calendarType:l,formatDay:y,formatLongDate:E,formatShortWeekday:I,formatWeekday:O,onClickWeekNumber:fe,onMouseLeave:Qe?Pr:void 0,showFixedNumberOfWeeks:typeof ln<"u"?ln:ct,showNeighboringMonth:Et,showWeekNumbers:Rt},vn));default:throw new Error("Invalid view: ".concat(rt,"."))}}function kr(){return At?_.jsx(oV,{activeStartDate:Gt,drillUp:ts,formatMonthYear:A,formatYear:D,locale:re,maxDate:me,minDate:k,navigationAriaLabel:P,navigationAriaLive:Ke,navigationLabel:at,next2AriaLabel:J,next2Label:ce,nextAriaLabel:_e,nextLabel:Q,prev2AriaLabel:Vt,prev2Label:Ye,prevAriaLabel:lt,prevLabel:Pt,setActiveStartDate:xt,showDoubleView:ct,view:rt,views:gn}):null}var mr=Array.isArray(Ct)?Ct:[Ct];return _.jsxs("div",{className:ud(Hh,Qe&&mr.length===1&&"".concat(Hh,"--selectRange"),ct&&"".concat(Hh,"--doubleView"),c),ref:F,children:[kr(),_.jsxs("div",{className:"".concat(Hh,"__viewContainer"),onBlur:Qe?Pr:void 0,onMouseLeave:Qe?Pr:void 0,children:[Mr(),ct?Mr(!0):null]})]})});const Gh=n=>{const e=n.getFullYear(),t=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${e}-${t}-${i}`},qV=()=>{const{spaceId:n}=fl(),e=on(),[t,i]=j.useState(null),[s,l]=j.useState([]),[c,m]=j.useState(null),[d,p]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const A=Ft(tt,"spaces",n),I=await Wn(A);I.exists()?i({id:I.id,...I.data()}):i(null)}catch(A){console.error("Error fetching space:",A),i(null)}finally{p(!1)}})()},[n]),j.useEffect(()=>{(async()=>{try{console.log("Fetching all reservations for spaceId:",n);const A=ks(cr(tt,"reservations"),Gi("spaceId","==",n)),I=await La(A);console.log("Número de reservas encontradas:",I.size);const O=I.docs.map(D=>({id:D.id,...D.data()}));console.log("Reservas:",O),l(O)}catch(A){console.error("Error fetching reservations:",A),l([])}})()},[n]);const y=({date:b,view:A})=>{if(A==="month"){const I=Gh(b);if(s.some(O=>O.fecha===I))return"reserved-date"}return null},E=({date:b,view:A})=>{if(A==="month"){const I=Gh(b),O=s.filter(D=>D.fecha===I).sort((D,q)=>D.hora.localeCompare(q.hora));if(O.length>0){const q=O.slice(0,3).map(F=>F.hora),X=O.length-3;return _.jsxs("div",{style:{marginTop:2,display:"flex",flexWrap:"wrap",justifyContent:"center",gap:2},children:[q.map((F,re)=>_.jsx("span",{className:"hour-chip",title:`Reserva a las ${F}`,children:F},re)),X>0&&_.jsxs("span",{className:"hour-chip more-chip",title:`${X} reservas más`,children:["+",X]})]})}}return null};return d?_.jsx("div",{className:"page-container",children:_.jsx("h2",{children:"Cargando..."})}):t?_.jsxs("div",{className:"page-container",style:{maxWidth:700,margin:"40px auto",textAlign:"center"},children:[_.jsx("h1",{children:t.name}),_.jsx("img",{src:t.imageUrl,alt:t.name,style:{width:180,height:120,objectFit:"cover",borderRadius:8,marginBottom:20}}),_.jsx("p",{children:t.description}),_.jsx("p",{children:_.jsxs("strong",{children:["Precio por hora: $",t.price]})}),_.jsxs("div",{style:{marginTop:40,display:"flex",flexDirection:"column",alignItems:"center"},children:[_.jsx("h3",{children:"Calendario de Reservaciones"}),_.jsx("div",{style:{borderRadius:12,boxShadow:"0 2px 12px #0001",padding:24,margin:"0 auto",background:"#1e1e1e"},children:_.jsx(zV,{onChange:m,value:c,tileClassName:y,tileContent:E,locale:"es-ES",minDate:new Date})}),_.jsx("style",{children:`
            .reserved-date {
              background: #ffecb3 !important;
              color: #b26a00 !important;
              border-radius: 50% !important;
              font-weight: bold;
            }
            .react-calendar__tile--active {
              background: #1976d2 !important;
              color: white !important;
              border-radius: 50% !important;
            }
            .react-calendar {
              width: 100% !important;
              max-width: 420px;
              font-size: 1.1rem;
              background-color: #1e1e1e !important;
              color: #fff !important;
              border-radius: 12px;
              box-shadow: 0 2px 12px rgba(0, 0, 0, 0.5);
            }
            .react-calendar__tile {
              background: transparent !important;
              color: #fff !important;
              border-radius: 8px;
              position: relative;
              padding-bottom: 18px !important; 
            }
            .hour-chip {
              background-color: #1976d2;
              color: white;
              border-radius: 12px;
              font-size: 10px;
              padding: 2px 6px;
              margin: 1px;
              white-space: nowrap;
              user-select: none;
            }
            .more-chip {
              background-color: #555;
            }
          `}),c&&_.jsxs("div",{style:{marginTop:24,textAlign:"left",maxWidth:420,width:"100%"},children:[_.jsxs("h4",{children:["Reservaciones para ",c.toLocaleDateString()]}),s.filter(b=>b.fecha===Gh(c)).length===0?_.jsx("p",{style:{color:"#888"},children:"No hay reservaciones para este día."}):_.jsx("ul",{style:{listStyleType:"none",paddingLeft:0},children:s.filter(b=>b.fecha===Gh(c)).sort((b,A)=>b.hora.localeCompare(A.hora)).map(b=>{const[A,I]=b.hora.split(":").map(Number);let O=A+1,D=I;O>=24&&(O=O-24);const q=`${String(O).padStart(2,"0")}:${String(D).padStart(2,"0")}`;return _.jsxs("li",{style:{backgroundColor:"#1976d2",color:"white",marginBottom:6,padding:"6px 12px",borderRadius:6,fontWeight:"bold"},title:`Reserva de ${b.hora} a ${q}`,children:["Hora de inicio: ",b.hora," — Hora de fin: ",q]},b.id)})})]})]}),_.jsx("button",{className:"btn-primary",style:{marginTop:30},onClick:()=>e(-1),children:"Volver"})]}):_.jsx("div",{className:"page-container",children:_.jsx("h2",{children:"Espacio no encontrado"})})};function HV(){const{currentUser:n,loading:e}=na();return e?_.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:_.jsx("h2",{children:"Cargando aplicación..."})}):_.jsxs(YI,{children:[_.jsxs(TI,{children:[_.jsx(Qt,{path:"/",element:_.jsx(L4,{})}),_.jsx(Qt,{path:"/login",element:_.jsx(Q4,{})}),_.jsx(Qt,{path:"/register",element:_.jsx(X4,{})}),_.jsx(Qt,{path:"/profile",element:_.jsx(or,{children:_.jsx(Z4,{})})}),_.jsx(Qt,{path:"/reserva/:spaceId",element:_.jsx(or,{children:_.jsx(i3,{})})}),_.jsx(Qt,{path:"/espacio/:spaceId/calendario",element:_.jsx(or,{children:_.jsx(qV,{})})}),_.jsx(Qt,{path:"/espacios",element:_.jsx(Y3,{})}),_.jsx(Qt,{path:"/feedback/:id",element:_.jsx(or,{children:_.jsx(r6,{})})}),_.jsx(Qt,{path:"/feedback-detail/:id",element:_.jsx(or,{children:_.jsx(t6,{})})}),_.jsx(Qt,{path:"/pago",element:_.jsx(or,{children:_.jsx(O3,{})})}),_.jsx(Qt,{path:"/mis-reservas",element:_.jsx(or,{children:_.jsx(c3,{})})}),_.jsx(Qt,{path:"/admin",element:_.jsx(M3,{children:_.jsx(o3,{})})}),_.jsx(Qt,{path:"/admin/espacios",element:_.jsx(or,{children:_.jsx(Q3,{})})}),_.jsx(Qt,{path:"/admin/editar-espacio/:id",element:_.jsx(or,{children:_.jsx(X3,{})})}),_.jsx(Qt,{path:"/admin/espacios/crear",element:_.jsx(or,{children:_.jsx(J3,{})})}),_.jsx(Qt,{path:"/qr/:id",element:_.jsx(or,{children:_.jsx(c6,{})})}),_.jsx(Qt,{path:"/admin/qr-verify",element:_.jsx(or,{children:_.jsx(CT,{})})}),_.jsx(Qt,{path:"/admin-qr-verify",element:_.jsx(or,{children:_.jsx(CT,{})})}),_.jsx(Qt,{path:"*",element:_.jsx("div",{style:{textAlign:"center",marginTop:"50px"},children:_.jsx("h1",{children:"404 - Página No Encontrada"})})})]}),n&&_.jsx(q3,{})]})}NC.createRoot(document.getElementById("root")).render(_.jsx(j.StrictMode,{children:_.jsx(HV,{})}));
